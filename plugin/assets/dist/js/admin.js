(()=>{var e,t,r={556(e,t,r){e.exports=r(694)()},694(e,t,r){"use strict";var n=r(925);function i(){}function o(){}o.resetWarningCache=i,e.exports=function(){function e(e,t,r,i,o,a){if(a!==n){var l=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw l.name="Invariant Violation",l}}function t(){return e}e.isRequired=e;var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:i};return r.PropTypes=r,r}},925(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"}},n={};function i(e){var t=n[e];if(void 0!==t)return t.exports;var o=n[e]={exports:{}};return r[e](o,o.exports,i),o.exports}i.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return i.d(t,{a:t}),t},t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,i.t=function(r,n){if(1&n&&(r=this(r)),8&n)return r;if("object"==typeof r&&r){if(4&n&&r.__esModule)return r;if(16&n&&"function"==typeof r.then)return r}var o=Object.create(null);i.r(o);var a={};e=e||[null,t({}),t([]),t(t)];for(var l=2&n&&r;("object"==typeof l||"function"==typeof l)&&!~e.indexOf(l);l=t(l))Object.getOwnPropertyNames(l).forEach(e=>a[e]=()=>r[e]);return a.default=()=>r,i.d(o,a),o},i.d=(e,t)=>{for(var r in t)i.o(t,r)&&!i.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),i.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{"use strict";const e=window.wp.element,t=window.wp.i18n,r=window.React;var n=i.t(r,2),o=i.n(r);const a=(...e)=>e.filter((e,t,r)=>Boolean(e)&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim(),l=e=>{const t=(e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase()))(e);return t.charAt(0).toUpperCase()+t.slice(1)};var s={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const c=e=>{for(const t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0;return!1},d=(0,r.forwardRef)(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:o="",children:l,iconNode:d,...u},p)=>(0,r.createElement)("svg",{ref:p,...s,width:t,height:t,stroke:e,strokeWidth:i?24*Number(n)/Number(t):n,className:a("lucide",o),...!l&&!c(u)&&{"aria-hidden":"true"},...u},[...d.map(([e,t])=>(0,r.createElement)(e,t)),...Array.isArray(l)?l:[l]])),u=(e,t)=>{const n=(0,r.forwardRef)(({className:n,...i},o)=>{return(0,r.createElement)(d,{ref:o,iconNode:t,className:a(`lucide-${s=l(e),s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,`lucide-${e}`,n),...i});var s});return n.displayName=l(e),n},p=u("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]),m=u("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),g=u("list",[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]]);function h(e){var t,r,n="";if("string"==typeof e||"number"==typeof e)n+=e;else if("object"==typeof e)if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(r=h(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function f(){for(var e,t,r=0,n="",i=arguments.length;r<i;r++)(e=arguments[r])&&(t=h(e))&&(n&&(n+=" "),n+=t);return n}const b=(e=new Map,t=null,r)=>({nextPart:e,validators:t,classGroupId:r}),y="-",x=[],v=e=>{const t=w(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:e=>{if(e.startsWith("[")&&e.endsWith("]"))return j(e);const r=e.split(y),n=""===r[0]&&r.length>1?1:0;return k(r,n,t)},getConflictingClassGroupIds:(e,t)=>{if(t){const t=n[e],i=r[e];return t?i?((e,t)=>{const r=new Array(e.length+t.length);for(let t=0;t<e.length;t++)r[t]=e[t];for(let n=0;n<t.length;n++)r[e.length+n]=t[n];return r})(i,t):t:i||x}return r[e]||x}}},k=(e,t,r)=>{if(0===e.length-t)return r.classGroupId;const n=e[t],i=r.nextPart.get(n);if(i){const r=k(e,t+1,i);if(r)return r}const o=r.validators;if(null===o)return;const a=0===t?e.join(y):e.slice(t).join(y),l=o.length;for(let e=0;e<l;e++){const t=o[e];if(t.validator(a))return t.classGroupId}},j=e=>-1===e.slice(1,-1).indexOf(":")?void 0:(()=>{const t=e.slice(1,-1),r=t.indexOf(":"),n=t.slice(0,r);return n?"arbitrary.."+n:void 0})(),w=e=>{const{theme:t,classGroups:r}=e;return _(r,t)},_=(e,t)=>{const r=b();for(const n in e){const i=e[n];S(i,r,n,t)}return r},S=(e,t,r,n)=>{const i=e.length;for(let o=0;o<i;o++){const i=e[o];C(i,t,r,n)}},C=(e,t,r,n)=>{"string"!=typeof e?"function"!=typeof e?R(e,t,r,n):T(e,t,r,n):E(e,t,r)},E=(e,t,r)=>{(""===e?t:N(t,e)).classGroupId=r},T=(e,t,r,n)=>{z(e)?S(e(n),t,r,n):(null===t.validators&&(t.validators=[]),t.validators.push(((e,t)=>({classGroupId:e,validator:t}))(r,e)))},R=(e,t,r,n)=>{const i=Object.entries(e),o=i.length;for(let e=0;e<o;e++){const[o,a]=i[e];S(a,N(t,o),r,n)}},N=(e,t)=>{let r=e;const n=t.split(y),i=n.length;for(let e=0;e<i;e++){const t=n[e];let i=r.nextPart.get(t);i||(i=b(),r.nextPart.set(t,i)),r=i}return r},z=e=>"isThemeGetter"in e&&!0===e.isThemeGetter,D=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=Object.create(null),n=Object.create(null);const i=(i,o)=>{r[i]=o,t++,t>e&&(t=0,n=r,r=Object.create(null))};return{get(e){let t=r[e];return void 0!==t?t:void 0!==(t=n[e])?(i(e,t),t):void 0},set(e,t){e in r?r[e]=t:i(e,t)}}},A=[],I=(e,t,r,n,i)=>({modifiers:e,hasImportantModifier:t,baseClassName:r,maybePostfixModifierPosition:n,isExternal:i}),M=e=>{const{prefix:t,experimentalParseClassName:r}=e;let n=e=>{const t=[];let r,n=0,i=0,o=0;const a=e.length;for(let l=0;l<a;l++){const a=e[l];if(0===n&&0===i){if(":"===a){t.push(e.slice(o,l)),o=l+1;continue}if("/"===a){r=l;continue}}"["===a?n++:"]"===a?n--:"("===a?i++:")"===a&&i--}const l=0===t.length?e:e.slice(o);let s=l,c=!1;return l.endsWith("!")?(s=l.slice(0,-1),c=!0):l.startsWith("!")&&(s=l.slice(1),c=!0),I(t,c,s,r&&r>o?r-o:void 0)};if(t){const e=t+":",r=n;n=t=>t.startsWith(e)?r(t.slice(e.length)):I(A,!1,t,void 0,!0)}if(r){const e=n;n=t=>r({className:t,parseClassName:e})}return n},L=e=>{const t=new Map;return e.orderSensitiveModifiers.forEach((e,r)=>{t.set(e,1e6+r)}),e=>{const r=[];let n=[];for(let i=0;i<e.length;i++){const o=e[i],a="["===o[0],l=t.has(o);a||l?(n.length>0&&(n.sort(),r.push(...n),n=[]),r.push(o)):n.push(o)}return n.length>0&&(n.sort(),r.push(...n)),r}},O=/\s+/,P=e=>{if("string"==typeof e)return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=P(e[n]))&&(r&&(r+=" "),r+=t);return r},B=[],W=e=>{const t=t=>t[e]||B;return t.isThemeGetter=!0,t},F=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,$=/^\((?:(\w[\w-]*):)?(.+)\)$/i,H=/^\d+\/\d+$/,U=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,K=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,V=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,G=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,X=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,q=e=>H.test(e),Y=e=>!!e&&!Number.isNaN(Number(e)),Z=e=>!!e&&Number.isInteger(Number(e)),J=e=>e.endsWith("%")&&Y(e.slice(0,-1)),Q=e=>U.test(e),ee=()=>!0,te=e=>K.test(e)&&!V.test(e),re=()=>!1,ne=e=>G.test(e),ie=e=>X.test(e),oe=e=>!le(e)&&!me(e),ae=e=>ve(e,_e,re),le=e=>F.test(e),se=e=>ve(e,Se,te),ce=e=>ve(e,Ce,Y),de=e=>ve(e,je,re),ue=e=>ve(e,we,ie),pe=e=>ve(e,Te,ne),me=e=>$.test(e),ge=e=>ke(e,Se),he=e=>ke(e,Ee),fe=e=>ke(e,je),be=e=>ke(e,_e),ye=e=>ke(e,we),xe=e=>ke(e,Te,!0),ve=(e,t,r)=>{const n=F.exec(e);return!!n&&(n[1]?t(n[1]):r(n[2]))},ke=(e,t,r=!1)=>{const n=$.exec(e);return!!n&&(n[1]?t(n[1]):r)},je=e=>"position"===e||"percentage"===e,we=e=>"image"===e||"url"===e,_e=e=>"length"===e||"size"===e||"bg-size"===e,Se=e=>"length"===e,Ce=e=>"number"===e,Ee=e=>"family-name"===e,Te=e=>"shadow"===e,Re=((e,...t)=>{let r,n,i,o;const a=e=>{const t=n(e);if(t)return t;const o=((e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:i,sortModifiers:o}=t,a=[],l=e.trim().split(O);let s="";for(let e=l.length-1;e>=0;e-=1){const t=l[e],{isExternal:c,modifiers:d,hasImportantModifier:u,baseClassName:p,maybePostfixModifierPosition:m}=r(t);if(c){s=t+(s.length>0?" "+s:s);continue}let g=!!m,h=n(g?p.substring(0,m):p);if(!h){if(!g){s=t+(s.length>0?" "+s:s);continue}if(h=n(p),!h){s=t+(s.length>0?" "+s:s);continue}g=!1}const f=0===d.length?"":1===d.length?d[0]:o(d).join(":"),b=u?f+"!":f,y=b+h;if(a.indexOf(y)>-1)continue;a.push(y);const x=i(h,g);for(let e=0;e<x.length;++e){const t=x[e];a.push(b+t)}s=t+(s.length>0?" "+s:s)}return s})(e,r);return i(e,o),o};return o=l=>{const s=t.reduce((e,t)=>t(e),e());return r=(e=>({cache:D(e.cacheSize),parseClassName:M(e),sortModifiers:L(e),...v(e)}))(s),n=r.cache.get,i=r.cache.set,o=a,a(l)},(...e)=>o(((...e)=>{let t,r,n=0,i="";for(;n<e.length;)(t=e[n++])&&(r=P(t))&&(i&&(i+=" "),i+=r);return i})(...e))})((Symbol.toStringTag,()=>{const e=W("color"),t=W("font"),r=W("text"),n=W("font-weight"),i=W("tracking"),o=W("leading"),a=W("breakpoint"),l=W("container"),s=W("spacing"),c=W("radius"),d=W("shadow"),u=W("inset-shadow"),p=W("text-shadow"),m=W("drop-shadow"),g=W("blur"),h=W("perspective"),f=W("aspect"),b=W("ease"),y=W("animate"),x=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom",me,le],v=()=>[me,le,s],k=()=>[q,"full","auto",...v()],j=()=>[Z,"none","subgrid",me,le],w=()=>["auto",{span:["full",Z,me,le]},Z,me,le],_=()=>[Z,"auto",me,le],S=()=>["auto","min","max","fr",me,le],C=()=>["auto",...v()],E=()=>[q,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...v()],T=()=>[e,me,le],R=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom",fe,de,{position:[me,le]}],N=()=>["auto","cover","contain",be,ae,{size:[me,le]}],z=()=>[J,ge,se],D=()=>["","none","full",c,me,le],A=()=>["",Y,ge,se],I=()=>[Y,J,fe,de],M=()=>["","none",g,me,le],L=()=>["none",Y,me,le],O=()=>["none",Y,me,le],P=()=>[Y,me,le],B=()=>[q,"full",...v()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Q],breakpoint:[Q],color:[ee],container:[Q],"drop-shadow":[Q],ease:["in","out","in-out"],font:[oe],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Q],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Q],shadow:[Q],spacing:["px",Y],text:[Q],"text-shadow":[Q],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",q,le,me,f]}],container:["container"],columns:[{columns:[Y,le,me,l]}],"break-after":[{"break-after":["auto","avoid","all","avoid-page","page","left","right","column"]}],"break-before":[{"break-before":["auto","avoid","all","avoid-page","page","left","right","column"]}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:x()}],overflow:[{overflow:["auto","hidden","clip","visible","scroll"]}],"overflow-x":[{"overflow-x":["auto","hidden","clip","visible","scroll"]}],"overflow-y":[{"overflow-y":["auto","hidden","clip","visible","scroll"]}],overscroll:[{overscroll:["auto","contain","none"]}],"overscroll-x":[{"overscroll-x":["auto","contain","none"]}],"overscroll-y":[{"overscroll-y":["auto","contain","none"]}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:k()}],"inset-x":[{"inset-x":k()}],"inset-y":[{"inset-y":k()}],start:[{start:k()}],end:[{end:k()}],top:[{top:k()}],right:[{right:k()}],bottom:[{bottom:k()}],left:[{left:k()}],visibility:["visible","invisible","collapse"],z:[{z:[Z,"auto",me,le]}],basis:[{basis:[q,"full","auto",l,...v()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Y,q,"auto","initial","none",le]}],grow:[{grow:["",Y,me,le]}],shrink:[{shrink:["",Y,me,le]}],order:[{order:[Z,"first","last","none",me,le]}],"grid-cols":[{"grid-cols":j()}],"col-start-end":[{col:w()}],"col-start":[{"col-start":_()}],"col-end":[{"col-end":_()}],"grid-rows":[{"grid-rows":j()}],"row-start-end":[{row:w()}],"row-start":[{"row-start":_()}],"row-end":[{"row-end":_()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":S()}],"auto-rows":[{"auto-rows":S()}],gap:[{gap:v()}],"gap-x":[{"gap-x":v()}],"gap-y":[{"gap-y":v()}],"justify-content":[{justify:["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe","normal"]}],"justify-items":[{"justify-items":["start","end","center","stretch","center-safe","end-safe","normal"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch","center-safe","end-safe"]}],"align-content":[{content:["normal","start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"]}],"align-items":[{items:["start","end","center","stretch","center-safe","end-safe",{baseline:["","last"]}]}],"align-self":[{self:["auto","start","end","center","stretch","center-safe","end-safe",{baseline:["","last"]}]}],"place-content":[{"place-content":["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"]}],"place-items":[{"place-items":["start","end","center","stretch","center-safe","end-safe","baseline"]}],"place-self":[{"place-self":["auto","start","end","center","stretch","center-safe","end-safe"]}],p:[{p:v()}],px:[{px:v()}],py:[{py:v()}],ps:[{ps:v()}],pe:[{pe:v()}],pt:[{pt:v()}],pr:[{pr:v()}],pb:[{pb:v()}],pl:[{pl:v()}],m:[{m:C()}],mx:[{mx:C()}],my:[{my:C()}],ms:[{ms:C()}],me:[{me:C()}],mt:[{mt:C()}],mr:[{mr:C()}],mb:[{mb:C()}],ml:[{ml:C()}],"space-x":[{"space-x":v()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":v()}],"space-y-reverse":["space-y-reverse"],size:[{size:E()}],w:[{w:[l,"screen",...E()]}],"min-w":[{"min-w":[l,"screen","none",...E()]}],"max-w":[{"max-w":[l,"screen","none","prose",{screen:[a]},...E()]}],h:[{h:["screen","lh",...E()]}],"min-h":[{"min-h":["screen","lh","none",...E()]}],"max-h":[{"max-h":["screen","lh",...E()]}],"font-size":[{text:["base",r,ge,se]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[n,me,ce]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",J,le]}],"font-family":[{font:[he,le,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,me,le]}],"line-clamp":[{"line-clamp":[Y,"none",me,ce]}],leading:[{leading:[o,...v()]}],"list-image":[{"list-image":["none",me,le]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",me,le]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:T()}],"text-color":[{text:T()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:["solid","dashed","dotted","double","wavy"]}],"text-decoration-thickness":[{decoration:[Y,"from-font","auto",me,se]}],"text-decoration-color":[{decoration:T()}],"underline-offset":[{"underline-offset":[Y,"auto",me,le]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:v()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",me,le]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",me,le]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:R()}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","space","round"]}]}],"bg-size":[{bg:N()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Z,me,le],radial:["",me,le],conic:[Z,me,le]},ye,ue]}],"bg-color":[{bg:T()}],"gradient-from-pos":[{from:z()}],"gradient-via-pos":[{via:z()}],"gradient-to-pos":[{to:z()}],"gradient-from":[{from:T()}],"gradient-via":[{via:T()}],"gradient-to":[{to:T()}],rounded:[{rounded:D()}],"rounded-s":[{"rounded-s":D()}],"rounded-e":[{"rounded-e":D()}],"rounded-t":[{"rounded-t":D()}],"rounded-r":[{"rounded-r":D()}],"rounded-b":[{"rounded-b":D()}],"rounded-l":[{"rounded-l":D()}],"rounded-ss":[{"rounded-ss":D()}],"rounded-se":[{"rounded-se":D()}],"rounded-ee":[{"rounded-ee":D()}],"rounded-es":[{"rounded-es":D()}],"rounded-tl":[{"rounded-tl":D()}],"rounded-tr":[{"rounded-tr":D()}],"rounded-br":[{"rounded-br":D()}],"rounded-bl":[{"rounded-bl":D()}],"border-w":[{border:A()}],"border-w-x":[{"border-x":A()}],"border-w-y":[{"border-y":A()}],"border-w-s":[{"border-s":A()}],"border-w-e":[{"border-e":A()}],"border-w-t":[{"border-t":A()}],"border-w-r":[{"border-r":A()}],"border-w-b":[{"border-b":A()}],"border-w-l":[{"border-l":A()}],"divide-x":[{"divide-x":A()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":A()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:["solid","dashed","dotted","double","hidden","none"]}],"divide-style":[{divide:["solid","dashed","dotted","double","hidden","none"]}],"border-color":[{border:T()}],"border-color-x":[{"border-x":T()}],"border-color-y":[{"border-y":T()}],"border-color-s":[{"border-s":T()}],"border-color-e":[{"border-e":T()}],"border-color-t":[{"border-t":T()}],"border-color-r":[{"border-r":T()}],"border-color-b":[{"border-b":T()}],"border-color-l":[{"border-l":T()}],"divide-color":[{divide:T()}],"outline-style":[{outline:["solid","dashed","dotted","double","none","hidden"]}],"outline-offset":[{"outline-offset":[Y,me,le]}],"outline-w":[{outline:["",Y,ge,se]}],"outline-color":[{outline:T()}],shadow:[{shadow:["","none",d,xe,pe]}],"shadow-color":[{shadow:T()}],"inset-shadow":[{"inset-shadow":["none",u,xe,pe]}],"inset-shadow-color":[{"inset-shadow":T()}],"ring-w":[{ring:A()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:T()}],"ring-offset-w":[{"ring-offset":[Y,se]}],"ring-offset-color":[{"ring-offset":T()}],"inset-ring-w":[{"inset-ring":A()}],"inset-ring-color":[{"inset-ring":T()}],"text-shadow":[{"text-shadow":["none",p,xe,pe]}],"text-shadow-color":[{"text-shadow":T()}],opacity:[{opacity:[Y,me,le]}],"mix-blend":[{"mix-blend":["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"]}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Y]}],"mask-image-linear-from-pos":[{"mask-linear-from":I()}],"mask-image-linear-to-pos":[{"mask-linear-to":I()}],"mask-image-linear-from-color":[{"mask-linear-from":T()}],"mask-image-linear-to-color":[{"mask-linear-to":T()}],"mask-image-t-from-pos":[{"mask-t-from":I()}],"mask-image-t-to-pos":[{"mask-t-to":I()}],"mask-image-t-from-color":[{"mask-t-from":T()}],"mask-image-t-to-color":[{"mask-t-to":T()}],"mask-image-r-from-pos":[{"mask-r-from":I()}],"mask-image-r-to-pos":[{"mask-r-to":I()}],"mask-image-r-from-color":[{"mask-r-from":T()}],"mask-image-r-to-color":[{"mask-r-to":T()}],"mask-image-b-from-pos":[{"mask-b-from":I()}],"mask-image-b-to-pos":[{"mask-b-to":I()}],"mask-image-b-from-color":[{"mask-b-from":T()}],"mask-image-b-to-color":[{"mask-b-to":T()}],"mask-image-l-from-pos":[{"mask-l-from":I()}],"mask-image-l-to-pos":[{"mask-l-to":I()}],"mask-image-l-from-color":[{"mask-l-from":T()}],"mask-image-l-to-color":[{"mask-l-to":T()}],"mask-image-x-from-pos":[{"mask-x-from":I()}],"mask-image-x-to-pos":[{"mask-x-to":I()}],"mask-image-x-from-color":[{"mask-x-from":T()}],"mask-image-x-to-color":[{"mask-x-to":T()}],"mask-image-y-from-pos":[{"mask-y-from":I()}],"mask-image-y-to-pos":[{"mask-y-to":I()}],"mask-image-y-from-color":[{"mask-y-from":T()}],"mask-image-y-to-color":[{"mask-y-to":T()}],"mask-image-radial":[{"mask-radial":[me,le]}],"mask-image-radial-from-pos":[{"mask-radial-from":I()}],"mask-image-radial-to-pos":[{"mask-radial-to":I()}],"mask-image-radial-from-color":[{"mask-radial-from":T()}],"mask-image-radial-to-color":[{"mask-radial-to":T()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"]}],"mask-image-conic-pos":[{"mask-conic":[Y]}],"mask-image-conic-from-pos":[{"mask-conic-from":I()}],"mask-image-conic-to-pos":[{"mask-conic-to":I()}],"mask-image-conic-from-color":[{"mask-conic-from":T()}],"mask-image-conic-to-color":[{"mask-conic-to":T()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:R()}],"mask-repeat":[{mask:["no-repeat",{repeat:["","x","y","space","round"]}]}],"mask-size":[{mask:N()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",me,le]}],filter:[{filter:["","none",me,le]}],blur:[{blur:M()}],brightness:[{brightness:[Y,me,le]}],contrast:[{contrast:[Y,me,le]}],"drop-shadow":[{"drop-shadow":["","none",m,xe,pe]}],"drop-shadow-color":[{"drop-shadow":T()}],grayscale:[{grayscale:["",Y,me,le]}],"hue-rotate":[{"hue-rotate":[Y,me,le]}],invert:[{invert:["",Y,me,le]}],saturate:[{saturate:[Y,me,le]}],sepia:[{sepia:["",Y,me,le]}],"backdrop-filter":[{"backdrop-filter":["","none",me,le]}],"backdrop-blur":[{"backdrop-blur":M()}],"backdrop-brightness":[{"backdrop-brightness":[Y,me,le]}],"backdrop-contrast":[{"backdrop-contrast":[Y,me,le]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Y,me,le]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Y,me,le]}],"backdrop-invert":[{"backdrop-invert":["",Y,me,le]}],"backdrop-opacity":[{"backdrop-opacity":[Y,me,le]}],"backdrop-saturate":[{"backdrop-saturate":[Y,me,le]}],"backdrop-sepia":[{"backdrop-sepia":["",Y,me,le]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":v()}],"border-spacing-x":[{"border-spacing-x":v()}],"border-spacing-y":[{"border-spacing-y":v()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",me,le]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Y,"initial",me,le]}],ease:[{ease:["linear","initial",b,me,le]}],delay:[{delay:[Y,me,le]}],animate:[{animate:["none",y,me,le]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[h,me,le]}],"perspective-origin":[{"perspective-origin":x()}],rotate:[{rotate:L()}],"rotate-x":[{"rotate-x":L()}],"rotate-y":[{"rotate-y":L()}],"rotate-z":[{"rotate-z":L()}],scale:[{scale:O()}],"scale-x":[{"scale-x":O()}],"scale-y":[{"scale-y":O()}],"scale-z":[{"scale-z":O()}],"scale-3d":["scale-3d"],skew:[{skew:P()}],"skew-x":[{"skew-x":P()}],"skew-y":[{"skew-y":P()}],transform:[{transform:[me,le,"","none","gpu","cpu"]}],"transform-origin":[{origin:x()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:B()}],"translate-x":[{"translate-x":B()}],"translate-y":[{"translate-y":B()}],"translate-z":[{"translate-z":B()}],"translate-none":["translate-none"],accent:[{accent:T()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:T()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",me,le]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":v()}],"scroll-mx":[{"scroll-mx":v()}],"scroll-my":[{"scroll-my":v()}],"scroll-ms":[{"scroll-ms":v()}],"scroll-me":[{"scroll-me":v()}],"scroll-mt":[{"scroll-mt":v()}],"scroll-mr":[{"scroll-mr":v()}],"scroll-mb":[{"scroll-mb":v()}],"scroll-ml":[{"scroll-ml":v()}],"scroll-p":[{"scroll-p":v()}],"scroll-px":[{"scroll-px":v()}],"scroll-py":[{"scroll-py":v()}],"scroll-ps":[{"scroll-ps":v()}],"scroll-pe":[{"scroll-pe":v()}],"scroll-pt":[{"scroll-pt":v()}],"scroll-pr":[{"scroll-pr":v()}],"scroll-pb":[{"scroll-pb":v()}],"scroll-pl":[{"scroll-pl":v()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",me,le]}],fill:[{fill:["none",...T()]}],"stroke-w":[{stroke:[Y,ge,se,ce]}],stroke:[{stroke:["none",...T()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}}));function Ne(...e){return Re(f(e))}const ze=window.ReactJSXRuntime,De=(0,e.forwardRef)(({className:e,...t},r)=>(0,ze.jsx)("div",{ref:r,className:Ne("rp-rounded-lg rp-border rp-bg-card rp-text-card-foreground rp-shadow-sm",e),style:{backgroundColor:"#fff",border:"1px solid hsl(214.3, 31.8%, 91.4%)",borderRadius:"0.5rem",boxShadow:"0 1px 3px 0 rgb(0 0 0 / 0.1), 0 1px 2px -1px rgb(0 0 0 / 0.1)"},...t}));De.displayName="Card";const Ae=(0,e.forwardRef)(({className:e,...t},r)=>(0,ze.jsx)("div",{ref:r,className:Ne("rp-flex rp-flex-col rp-space-y-1.5 rp-p-6",e),style:{padding:"1.5rem",paddingBottom:"0.75rem"},...t}));Ae.displayName="CardHeader";const Ie=(0,e.forwardRef)(({className:e,...t},r)=>(0,ze.jsx)("h3",{ref:r,className:Ne("rp-text-lg rp-font-semibold rp-leading-none rp-tracking-tight",e),style:{fontSize:"1.125rem",fontWeight:600,lineHeight:1.2},...t}));Ie.displayName="CardTitle";const Me=(0,e.forwardRef)(({className:e,...t},r)=>(0,ze.jsx)("p",{ref:r,className:Ne("rp-text-sm rp-text-muted-foreground",e),style:{fontSize:"0.875rem",color:"hsl(215.4, 16.3%, 46.9%)",marginTop:"0.25rem"},...t}));Me.displayName="CardDescription";const Le=(0,e.forwardRef)(({className:e,...t},r)=>(0,ze.jsx)("div",{ref:r,className:Ne("rp-p-6 rp-pt-0",e),style:{padding:"1.5rem",paddingTop:"0.75rem"},...t}));function Oe(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}Le.displayName="CardContent",(0,e.forwardRef)(({className:e,...t},r)=>(0,ze.jsx)("div",{ref:r,className:Ne("rp-flex rp-items-center rp-p-6 rp-pt-0",e),...t})).displayName="CardFooter";var Pe=Symbol.for("react.lazy"),Be=n[" use ".trim().toString()];function We(e){return null!=e&&"object"==typeof e&&"$$typeof"in e&&e.$$typeof===Pe&&"_payload"in e&&"object"==typeof(t=e._payload)&&null!==t&&"then"in t;var t}function Fe(e){const t=He(e),n=r.forwardRef((e,n)=>{let{children:i,...o}=e;We(i)&&"function"==typeof Be&&(i=Be(i._payload));const a=r.Children.toArray(i),l=a.find(Ke);if(l){const e=l.props.children,i=a.map(t=>t===l?r.Children.count(e)>1?r.Children.only(null):r.isValidElement(e)?e.props.children:null:t);return(0,ze.jsx)(t,{...o,ref:n,children:r.isValidElement(e)?r.cloneElement(e,void 0,i):null})}return(0,ze.jsx)(t,{...o,ref:n,children:i})});return n.displayName=`${e}.Slot`,n}var $e=Fe("Slot");function He(e){const t=r.forwardRef((e,t)=>{let{children:n,...i}=e;if(We(n)&&"function"==typeof Be&&(n=Be(n._payload)),r.isValidElement(n)){const e=function(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}(n),o=function(e,t){const r={...t};for(const n in t){const i=e[n],o=t[n];/^on[A-Z]/.test(n)?i&&o?r[n]=(...e)=>{const t=o(...e);return i(...e),t}:i&&(r[n]=i):"style"===n?r[n]={...i,...o}:"className"===n&&(r[n]=[i,o].filter(Boolean).join(" "))}return{...e,...r}}(i,n.props);return n.type!==r.Fragment&&(o.ref=t?function(...e){return t=>{let r=!1;const n=e.map(e=>{const n=Oe(e,t);return r||"function"!=typeof n||(r=!0),n});if(r)return()=>{for(let t=0;t<n.length;t++){const r=n[t];"function"==typeof r?r():Oe(e[t],null)}}}}(t,e):e),r.cloneElement(n,o)}return r.Children.count(n)>1?r.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Ue=Symbol("radix.slottable");function Ke(e){return r.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===Ue}const Ve=e=>"boolean"==typeof e?`${e}`:0===e?"0":e,Ge=f,Xe=(e,t)=>r=>{var n;if(null==(null==t?void 0:t.variants))return Ge(e,null==r?void 0:r.class,null==r?void 0:r.className);const{variants:i,defaultVariants:o}=t,a=Object.keys(i).map(e=>{const t=null==r?void 0:r[e],n=null==o?void 0:o[e];if(null===t)return null;const a=Ve(t)||Ve(n);return i[e][a]}),l=r&&Object.entries(r).reduce((e,t)=>{let[r,n]=t;return void 0===n||(e[r]=n),e},{}),s=null==t||null===(n=t.compoundVariants)||void 0===n?void 0:n.reduce((e,t)=>{let{class:r,className:n,...i}=t;return Object.entries(i).every(e=>{let[t,r]=e;return Array.isArray(r)?r.includes({...o,...l}[t]):{...o,...l}[t]===r})?[...e,r,n]:e},[]);return Ge(e,a,s,null==r?void 0:r.class,null==r?void 0:r.className)},qe=Xe("rp-inline-flex rp-items-center rp-justify-center rp-gap-2 rp-whitespace-nowrap rp-rounded-md rp-text-sm rp-font-medium rp-transition-colors focus-visible:rp-outline-none focus-visible:rp-ring-2 focus-visible:rp-ring-ring focus-visible:rp-ring-offset-2 disabled:rp-pointer-events-none disabled:rp-opacity-50",{variants:{variant:{default:"",destructive:"rp-bg-destructive rp-text-destructive-foreground hover:rp-bg-destructive/90",outline:"",secondary:"rp-bg-secondary rp-text-secondary-foreground hover:rp-bg-secondary/80",ghost:"hover:rp-bg-accent hover:rp-text-accent-foreground",link:"rp-text-primary rp-underline-offset-4 hover:rp-underline"},size:{default:"rp-h-10 rp-px-4 rp-py-2",sm:"rp-h-9 rp-rounded-md rp-px-3",lg:"rp-h-11 rp-rounded-md rp-px-8",icon:"rp-h-10 rp-w-10"}},defaultVariants:{variant:"default",size:"default"}}),Ye=(0,e.forwardRef)(({className:e,variant:t,size:r,asChild:n=!1,style:i,...o},a)=>{const l=n?$e:"button",s={default:{backgroundColor:"#1d71b8",color:"#ffffff",border:"none",borderRadius:"0.375rem",padding:"sm"===r?"0.5rem 0.75rem":"lg"===r?"0.75rem 2rem":"icon"===r?"0":"0.5rem 1rem",height:"sm"===r?"36px":"lg"===r?"44px":"40px",minWidth:"icon"===r?"40px":void 0,display:"inline-flex",alignItems:"center",justifyContent:"center",gap:"0.5rem",fontSize:"0.875rem",fontWeight:500,cursor:"pointer"},outline:{backgroundColor:"transparent",color:"#1d71b8",border:"1px solid #1d71b8",borderRadius:"0.375rem",padding:"sm"===r?"0.5rem 0.75rem":"lg"===r?"0.75rem 2rem":"icon"===r?"0":"0.5rem 1rem",height:"sm"===r?"36px":"lg"===r?"44px":"40px",minWidth:"icon"===r?"40px":void 0,display:"inline-flex",alignItems:"center",justifyContent:"center",gap:"0.5rem",fontSize:"0.875rem",fontWeight:500,cursor:"pointer"},ghost:{backgroundColor:"transparent",color:"#374151",border:"none",borderRadius:"0.375rem",padding:"sm"===r?"0.5rem 0.75rem":"lg"===r?"0.75rem 2rem":"icon"===r?"0":"0.5rem 1rem",height:"sm"===r?"36px":"lg"===r?"44px":"40px",minWidth:"icon"===r?"40px":void 0,display:"inline-flex",alignItems:"center",justifyContent:"center",gap:"0.5rem",fontSize:"0.875rem",fontWeight:500,cursor:"pointer"},destructive:{backgroundColor:"#dc2626",color:"#ffffff",border:"none",borderRadius:"0.375rem",padding:"sm"===r?"0.5rem 0.75rem":"lg"===r?"0.75rem 2rem":"icon"===r?"0":"0.5rem 1rem",height:"sm"===r?"36px":"lg"===r?"44px":"40px",minWidth:"icon"===r?"40px":void 0,display:"inline-flex",alignItems:"center",justifyContent:"center",gap:"0.5rem",fontSize:"0.875rem",fontWeight:500,cursor:"pointer"}},c={default:{backgroundColor:"#36a9e1"},outline:{backgroundColor:"#f0f7fc"},ghost:{backgroundColor:"#f3f4f6"},destructive:{backgroundColor:"#b91c1c"}},d=s[t]||s.default;return(0,ze.jsx)(l,{className:Ne(qe({variant:t,size:r,className:e})),ref:a,style:{...d,...i},onMouseEnter:e=>{const r=c[t]||c.default;Object.assign(e.currentTarget.style,r)},onMouseLeave:e=>{const r=s[t]||s.default;Object.assign(e.currentTarget.style,r)},...o})});Ye.displayName="Button";const Ze=window.ReactDOM,Je="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement;function Qe(e){const t=Object.prototype.toString.call(e);return"[object Window]"===t||"[object global]"===t}function et(e){return"nodeType"in e}function tt(e){var t,r;return e?Qe(e)?e:et(e)&&null!=(t=null==(r=e.ownerDocument)?void 0:r.defaultView)?t:window:window}function rt(e){const{Document:t}=tt(e);return e instanceof t}function nt(e){return!Qe(e)&&e instanceof tt(e).HTMLElement}function it(e){return e instanceof tt(e).SVGElement}function ot(e){return e?Qe(e)?e.document:et(e)?rt(e)?e:nt(e)||it(e)?e.ownerDocument:document:document:document}const at=Je?r.useLayoutEffect:r.useEffect;function lt(e){const t=(0,r.useRef)(e);return at(()=>{t.current=e}),(0,r.useCallback)(function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return null==t.current?void 0:t.current(...r)},[])}function st(e,t){void 0===t&&(t=[e]);const n=(0,r.useRef)(e);return at(()=>{n.current!==e&&(n.current=e)},t),n}function ct(e,t){const n=(0,r.useRef)();return(0,r.useMemo)(()=>{const t=e(n.current);return n.current=t,t},[...t])}function dt(e){const t=lt(e),n=(0,r.useRef)(null),i=(0,r.useCallback)(e=>{e!==n.current&&(null==t||t(e,n.current)),n.current=e},[]);return[n,i]}function ut(e){const t=(0,r.useRef)();return(0,r.useEffect)(()=>{t.current=e},[e]),t.current}let pt={};function mt(e,t){return(0,r.useMemo)(()=>{if(t)return t;const r=null==pt[e]?0:pt[e]+1;return pt[e]=r,e+"-"+r},[e,t])}function gt(e){return function(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return n.reduce((t,r)=>{const n=Object.entries(r);for(const[r,i]of n){const n=t[r];null!=n&&(t[r]=n+e*i)}return t},{...t})}}const ht=gt(1),ft=gt(-1);function bt(e){if(!e)return!1;const{KeyboardEvent:t}=tt(e.target);return t&&e instanceof t}function yt(e){if(function(e){if(!e)return!1;const{TouchEvent:t}=tt(e.target);return t&&e instanceof t}(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:r}=e.touches[0];return{x:t,y:r}}if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:r}=e.changedTouches[0];return{x:t,y:r}}}return function(e){return"clientX"in e&&"clientY"in e}(e)?{x:e.clientX,y:e.clientY}:null}const xt=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:r}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(r?Math.round(r):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:r}=e;return"scaleX("+t+") scaleY("+r+")"}},Transform:{toString(e){if(e)return[xt.Translate.toString(e),xt.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:r,easing:n}=e;return t+" "+r+"ms "+n}}}),vt="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function kt(e){return e.matches(vt)?e:e.querySelector(vt)}const jt={display:"none"};function wt(e){let{id:t,value:r}=e;return o().createElement("div",{id:t,style:jt},r)}function _t(e){let{id:t,announcement:r,ariaLiveType:n="assertive"}=e;return o().createElement("div",{id:t,style:{position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"},role:"status","aria-live":n,"aria-atomic":!0},r)}const St=(0,r.createContext)(null),Ct={draggable:"\n    To pick up a draggable item, press the space bar.\n    While dragging, use the arrow keys to move the item.\n    Press space again to drop the item in its new position, or press escape to cancel.\n  "},Et={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:r}=e;return r?"Draggable item "+t.id+" was moved over droppable area "+r.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:r}=e;return r?"Draggable item "+t.id+" was dropped over droppable area "+r.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function Tt(e){let{announcements:t=Et,container:n,hiddenTextDescribedById:i,screenReaderInstructions:a=Ct}=e;const{announce:l,announcement:s}=function(){const[e,t]=(0,r.useState)("");return{announce:(0,r.useCallback)(e=>{null!=e&&t(e)},[]),announcement:e}}(),c=mt("DndLiveRegion"),[d,u]=(0,r.useState)(!1);if((0,r.useEffect)(()=>{u(!0)},[]),function(e){const t=(0,r.useContext)(St);(0,r.useEffect)(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)},[e,t])}((0,r.useMemo)(()=>({onDragStart(e){let{active:r}=e;l(t.onDragStart({active:r}))},onDragMove(e){let{active:r,over:n}=e;t.onDragMove&&l(t.onDragMove({active:r,over:n}))},onDragOver(e){let{active:r,over:n}=e;l(t.onDragOver({active:r,over:n}))},onDragEnd(e){let{active:r,over:n}=e;l(t.onDragEnd({active:r,over:n}))},onDragCancel(e){let{active:r,over:n}=e;l(t.onDragCancel({active:r,over:n}))}}),[l,t])),!d)return null;const p=o().createElement(o().Fragment,null,o().createElement(wt,{id:i,value:a.draggable}),o().createElement(_t,{id:c,announcement:s}));return n?(0,Ze.createPortal)(p,n):p}var Rt;function Nt(){}function zt(e,t){return(0,r.useMemo)(()=>({sensor:e,options:null!=t?t:{}}),[e,t])}!function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"}(Rt||(Rt={}));const Dt=Object.freeze({x:0,y:0});function At(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function It(e,t){const r=yt(e);return r?(r.x-t.left)/t.width*100+"% "+(r.y-t.top)/t.height*100+"%":"0 0"}function Mt(e,t){let{data:{value:r}}=e,{data:{value:n}}=t;return r-n}function Lt(e,t){let{data:{value:r}}=e,{data:{value:n}}=t;return n-r}function Ot(e){let{left:t,top:r,height:n,width:i}=e;return[{x:t,y:r},{x:t+i,y:r},{x:t,y:r+n},{x:t+i,y:r+n}]}function Pt(e,t){if(!e||0===e.length)return null;const[r]=e;return t?r[t]:r}function Bt(e,t){const r=Math.max(t.top,e.top),n=Math.max(t.left,e.left),i=Math.min(t.left+t.width,e.left+e.width),o=Math.min(t.top+t.height,e.top+e.height),a=i-n,l=o-r;if(n<i&&r<o){const r=t.width*t.height,n=e.width*e.height,i=a*l;return Number((i/(r+n-i)).toFixed(4))}return 0}const Wt=e=>{let{collisionRect:t,droppableRects:r,droppableContainers:n}=e;const i=[];for(const e of n){const{id:n}=e,o=r.get(n);if(o){const r=Bt(o,t);r>0&&i.push({id:n,data:{droppableContainer:e,value:r}})}}return i.sort(Lt)};function Ft(e,t){const{top:r,left:n,bottom:i,right:o}=t;return r<=e.y&&e.y<=i&&n<=e.x&&e.x<=o}function $t(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:Dt}function Ht(e){return function(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return n.reduce((t,r)=>({...t,top:t.top+e*r.y,bottom:t.bottom+e*r.y,left:t.left+e*r.x,right:t.right+e*r.x}),{...t})}}const Ut=Ht(1);function Kt(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}const Vt={ignoreTransform:!1};function Gt(e,t){void 0===t&&(t=Vt);let r=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:t,transformOrigin:n}=tt(e).getComputedStyle(e);t&&(r=function(e,t,r){const n=Kt(t);if(!n)return e;const{scaleX:i,scaleY:o,x:a,y:l}=n,s=e.left-a-(1-i)*parseFloat(r),c=e.top-l-(1-o)*parseFloat(r.slice(r.indexOf(" ")+1)),d=i?e.width/i:e.width,u=o?e.height/o:e.height;return{width:d,height:u,top:c,right:s+d,bottom:c+u,left:s}}(r,t,n))}const{top:n,left:i,width:o,height:a,bottom:l,right:s}=r;return{top:n,left:i,width:o,height:a,bottom:l,right:s}}function Xt(e){return Gt(e,{ignoreTransform:!0})}function qt(e,t){const r=[];return e?function n(i){if(null!=t&&r.length>=t)return r;if(!i)return r;if(rt(i)&&null!=i.scrollingElement&&!r.includes(i.scrollingElement))return r.push(i.scrollingElement),r;if(!nt(i)||it(i))return r;if(r.includes(i))return r;const o=tt(e).getComputedStyle(i);return i!==e&&function(e,t){void 0===t&&(t=tt(e).getComputedStyle(e));const r=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(e=>{const n=t[e];return"string"==typeof n&&r.test(n)})}(i,o)&&r.push(i),function(e,t){return void 0===t&&(t=tt(e).getComputedStyle(e)),"fixed"===t.position}(i,o)?r:n(i.parentNode)}(e):r}function Yt(e){const[t]=qt(e,1);return null!=t?t:null}function Zt(e){return Je&&e?Qe(e)?e:et(e)?rt(e)||e===ot(e).scrollingElement?window:nt(e)?e:null:null:null}function Jt(e){return Qe(e)?e.scrollX:e.scrollLeft}function Qt(e){return Qe(e)?e.scrollY:e.scrollTop}function er(e){return{x:Jt(e),y:Qt(e)}}var tr;function rr(e){return!(!Je||!e)&&e===document.scrollingElement}function nr(e){const t={x:0,y:0},r=rr(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},n={x:e.scrollWidth-r.width,y:e.scrollHeight-r.height};return{isTop:e.scrollTop<=t.y,isLeft:e.scrollLeft<=t.x,isBottom:e.scrollTop>=n.y,isRight:e.scrollLeft>=n.x,maxScroll:n,minScroll:t}}!function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"}(tr||(tr={}));const ir={x:.2,y:.2};function or(e,t,r,n,i){let{top:o,left:a,right:l,bottom:s}=r;void 0===n&&(n=10),void 0===i&&(i=ir);const{isTop:c,isBottom:d,isLeft:u,isRight:p}=nr(e),m={x:0,y:0},g={x:0,y:0},h=t.height*i.y,f=t.width*i.x;return!c&&o<=t.top+h?(m.y=tr.Backward,g.y=n*Math.abs((t.top+h-o)/h)):!d&&s>=t.bottom-h&&(m.y=tr.Forward,g.y=n*Math.abs((t.bottom-h-s)/h)),!p&&l>=t.right-f?(m.x=tr.Forward,g.x=n*Math.abs((t.right-f-l)/f)):!u&&a<=t.left+f&&(m.x=tr.Backward,g.x=n*Math.abs((t.left+f-a)/f)),{direction:m,speed:g}}function ar(e){if(e===document.scrollingElement){const{innerWidth:e,innerHeight:t}=window;return{top:0,left:0,right:e,bottom:t,width:e,height:t}}const{top:t,left:r,right:n,bottom:i}=e.getBoundingClientRect();return{top:t,left:r,right:n,bottom:i,width:e.clientWidth,height:e.clientHeight}}function lr(e){return e.reduce((e,t)=>ht(e,er(t)),Dt)}function sr(e,t){if(void 0===t&&(t=Gt),!e)return;const{top:r,left:n,bottom:i,right:o}=t(e);Yt(e)&&(i<=0||o<=0||r>=window.innerHeight||n>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const cr=[["x",["left","right"],function(e){return e.reduce((e,t)=>e+Jt(t),0)}],["y",["top","bottom"],function(e){return e.reduce((e,t)=>e+Qt(t),0)}]];class dr{constructor(e,t){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const r=qt(t),n=lr(r);this.rect={...e},this.width=e.width,this.height=e.height;for(const[e,t,i]of cr)for(const o of t)Object.defineProperty(this,o,{get:()=>{const t=i(r),a=n[e]-t;return this.rect[o]+a},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class ur{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(e=>{var t;return null==(t=this.target)?void 0:t.removeEventListener(...e)})},this.target=e}add(e,t,r){var n;null==(n=this.target)||n.addEventListener(e,t,r),this.listeners.push([e,t,r])}}function pr(e,t){const r=Math.abs(e.x),n=Math.abs(e.y);return"number"==typeof t?Math.sqrt(r**2+n**2)>t:"x"in t&&"y"in t?r>t.x&&n>t.y:"x"in t?r>t.x:"y"in t&&n>t.y}var mr,gr;function hr(e){e.preventDefault()}function fr(e){e.stopPropagation()}!function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"}(mr||(mr={})),function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"}(gr||(gr={}));const br={start:[gr.Space,gr.Enter],cancel:[gr.Esc],end:[gr.Space,gr.Enter,gr.Tab]},yr=(e,t)=>{let{currentCoordinates:r}=t;switch(e.code){case gr.Right:return{...r,x:r.x+25};case gr.Left:return{...r,x:r.x-25};case gr.Down:return{...r,y:r.y+25};case gr.Up:return{...r,y:r.y-25}}};class xr{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;const{event:{target:t}}=e;this.props=e,this.listeners=new ur(ot(t)),this.windowListeners=new ur(tt(t)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(mr.Resize,this.handleCancel),this.windowListeners.add(mr.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(mr.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:e,onStart:t}=this.props,r=e.node.current;r&&sr(r),t(Dt)}handleKeyDown(e){if(bt(e)){const{active:t,context:r,options:n}=this.props,{keyboardCodes:i=br,coordinateGetter:o=yr,scrollBehavior:a="smooth"}=n,{code:l}=e;if(i.end.includes(l))return void this.handleEnd(e);if(i.cancel.includes(l))return void this.handleCancel(e);const{collisionRect:s}=r.current,c=s?{x:s.left,y:s.top}:Dt;this.referenceCoordinates||(this.referenceCoordinates=c);const d=o(e,{active:t,context:r.current,currentCoordinates:c});if(d){const t=ft(d,c),n={x:0,y:0},{scrollableAncestors:i}=r.current;for(const r of i){const i=e.code,{isTop:o,isRight:l,isLeft:s,isBottom:c,maxScroll:u,minScroll:p}=nr(r),m=ar(r),g={x:Math.min(i===gr.Right?m.right-m.width/2:m.right,Math.max(i===gr.Right?m.left:m.left+m.width/2,d.x)),y:Math.min(i===gr.Down?m.bottom-m.height/2:m.bottom,Math.max(i===gr.Down?m.top:m.top+m.height/2,d.y))},h=i===gr.Right&&!l||i===gr.Left&&!s,f=i===gr.Down&&!c||i===gr.Up&&!o;if(h&&g.x!==d.x){const e=r.scrollLeft+t.x,o=i===gr.Right&&e<=u.x||i===gr.Left&&e>=p.x;if(o&&!t.y)return void r.scrollTo({left:e,behavior:a});n.x=o?r.scrollLeft-e:i===gr.Right?r.scrollLeft-u.x:r.scrollLeft-p.x,n.x&&r.scrollBy({left:-n.x,behavior:a});break}if(f&&g.y!==d.y){const e=r.scrollTop+t.y,o=i===gr.Down&&e<=u.y||i===gr.Up&&e>=p.y;if(o&&!t.x)return void r.scrollTo({top:e,behavior:a});n.y=o?r.scrollTop-e:i===gr.Down?r.scrollTop-u.y:r.scrollTop-p.y,n.y&&r.scrollBy({top:-n.y,behavior:a});break}}this.handleMove(e,ht(ft(d,this.referenceCoordinates),n))}}}handleMove(e,t){const{onMove:r}=this.props;e.preventDefault(),r(t)}handleEnd(e){const{onEnd:t}=this.props;e.preventDefault(),this.detach(),t()}handleCancel(e){const{onCancel:t}=this.props;e.preventDefault(),this.detach(),t()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}function vr(e){return Boolean(e&&"distance"in e)}function kr(e){return Boolean(e&&"delay"in e)}xr.activators=[{eventName:"onKeyDown",handler:(e,t,r)=>{let{keyboardCodes:n=br,onActivation:i}=t,{active:o}=r;const{code:a}=e.nativeEvent;if(n.start.includes(a)){const t=o.activatorNode.current;return!(t&&e.target!==t||(e.preventDefault(),null==i||i({event:e.nativeEvent}),0))}return!1}}];class jr{constructor(e,t,r){var n;void 0===r&&(r=function(e){const{EventTarget:t}=tt(e);return e instanceof t?e:ot(e)}(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=t;const{event:i}=e,{target:o}=i;this.props=e,this.events=t,this.document=ot(o),this.documentListeners=new ur(this.document),this.listeners=new ur(r),this.windowListeners=new ur(tt(o)),this.initialCoordinates=null!=(n=yt(i))?n:Dt,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:e,props:{options:{activationConstraint:t,bypassActivationConstraint:r}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),e.cancel&&this.listeners.add(e.cancel.name,this.handleCancel),this.windowListeners.add(mr.Resize,this.handleCancel),this.windowListeners.add(mr.DragStart,hr),this.windowListeners.add(mr.VisibilityChange,this.handleCancel),this.windowListeners.add(mr.ContextMenu,hr),this.documentListeners.add(mr.Keydown,this.handleKeydown),t){if(null!=r&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(kr(t))return this.timeoutId=setTimeout(this.handleStart,t.delay),void this.handlePending(t);if(vr(t))return void this.handlePending(t)}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),null!==this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(e,t){const{active:r,onPending:n}=this.props;n(r,e,this.initialCoordinates,t)}handleStart(){const{initialCoordinates:e}=this,{onStart:t}=this.props;e&&(this.activated=!0,this.documentListeners.add(mr.Click,fr,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(mr.SelectionChange,this.removeTextSelection),t(e))}handleMove(e){var t;const{activated:r,initialCoordinates:n,props:i}=this,{onMove:o,options:{activationConstraint:a}}=i;if(!n)return;const l=null!=(t=yt(e))?t:Dt,s=ft(n,l);if(!r&&a){if(vr(a)){if(null!=a.tolerance&&pr(s,a.tolerance))return this.handleCancel();if(pr(s,a.distance))return this.handleStart()}return kr(a)&&pr(s,a.tolerance)?this.handleCancel():void this.handlePending(a,s)}e.cancelable&&e.preventDefault(),o(l)}handleEnd(){const{onAbort:e,onEnd:t}=this.props;this.detach(),this.activated||e(this.props.active),t()}handleCancel(){const{onAbort:e,onCancel:t}=this.props;this.detach(),this.activated||e(this.props.active),t()}handleKeydown(e){e.code===gr.Esc&&this.handleCancel()}removeTextSelection(){var e;null==(e=this.document.getSelection())||e.removeAllRanges()}}const wr={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class _r extends jr{constructor(e){const{event:t}=e,r=ot(t.target);super(e,wr,r)}}_r.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:r}=e,{onActivation:n}=t;return!(!r.isPrimary||0!==r.button||(null==n||n({event:r}),0))}}];const Sr={move:{name:"mousemove"},end:{name:"mouseup"}};var Cr;!function(e){e[e.RightClick=2]="RightClick"}(Cr||(Cr={})),class extends jr{constructor(e){super(e,Sr,ot(e.event.target))}}.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:r}=e,{onActivation:n}=t;return r.button!==Cr.RightClick&&(null==n||n({event:r}),!0)}}];const Er={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};var Tr,Rr;(class extends jr{constructor(e){super(e,Er)}static setup(){return window.addEventListener(Er.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener(Er.move.name,e)};function e(){}}}).activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:r}=e,{onActivation:n}=t;const{touches:i}=r;return!(i.length>1||(null==n||n({event:r}),0))}}],function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"}(Tr||(Tr={})),function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"}(Rr||(Rr={}));const Nr={x:{[tr.Backward]:!1,[tr.Forward]:!1},y:{[tr.Backward]:!1,[tr.Forward]:!1}};var zr,Dr;!function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"}(zr||(zr={})),function(e){e.Optimized="optimized"}(Dr||(Dr={}));const Ar=new Map;function Ir(e,t){return ct(r=>e?r||("function"==typeof t?t(e):e):null,[t,e])}function Mr(e){let{callback:t,disabled:n}=e;const i=lt(t),o=(0,r.useMemo)(()=>{if(n||"undefined"==typeof window||void 0===window.ResizeObserver)return;const{ResizeObserver:e}=window;return new e(i)},[n]);return(0,r.useEffect)(()=>()=>null==o?void 0:o.disconnect(),[o]),o}function Lr(e){return new dr(Gt(e),e)}function Or(e,t,n){void 0===t&&(t=Lr);const[i,o]=(0,r.useState)(null);function a(){o(r=>{if(!e)return null;var i;if(!1===e.isConnected)return null!=(i=null!=r?r:n)?i:null;const o=t(e);return JSON.stringify(r)===JSON.stringify(o)?r:o})}const l=function(e){let{callback:t,disabled:n}=e;const i=lt(t),o=(0,r.useMemo)(()=>{if(n||"undefined"==typeof window||void 0===window.MutationObserver)return;const{MutationObserver:e}=window;return new e(i)},[i,n]);return(0,r.useEffect)(()=>()=>null==o?void 0:o.disconnect(),[o]),o}({callback(t){if(e)for(const r of t){const{type:t,target:n}=r;if("childList"===t&&n instanceof HTMLElement&&n.contains(e)){a();break}}}}),s=Mr({callback:a});return at(()=>{a(),e?(null==s||s.observe(e),null==l||l.observe(document.body,{childList:!0,subtree:!0})):(null==s||s.disconnect(),null==l||l.disconnect())},[e]),i}const Pr=[];function Br(e,t){void 0===t&&(t=[]);const n=(0,r.useRef)(null);return(0,r.useEffect)(()=>{n.current=null},t),(0,r.useEffect)(()=>{const t=e!==Dt;t&&!n.current&&(n.current=e),!t&&n.current&&(n.current=null)},[e]),n.current?ft(e,n.current):Dt}function Wr(e){return(0,r.useMemo)(()=>e?function(e){const t=e.innerWidth,r=e.innerHeight;return{top:0,left:0,right:t,bottom:r,width:t,height:r}}(e):null,[e])}const Fr=[];function $r(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return nt(t)?t:e}const Hr=[{sensor:_r,options:{}},{sensor:xr,options:{}}],Ur={current:{}},Kr={draggable:{measure:Xt},droppable:{measure:Xt,strategy:zr.WhileDragging,frequency:Dr.Optimized},dragOverlay:{measure:Gt}};class Vr extends Map{get(e){var t;return null!=e&&null!=(t=super.get(e))?t:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(e=>{let{disabled:t}=e;return!t})}getNodeFor(e){var t,r;return null!=(t=null==(r=this.get(e))?void 0:r.node.current)?t:void 0}}const Gr={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Vr,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:Nt},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:Kr,measureDroppableContainers:Nt,windowRect:null,measuringScheduled:!1},Xr={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:Nt,draggableNodes:new Map,over:null,measureDroppableContainers:Nt},qr=(0,r.createContext)(Xr),Yr=(0,r.createContext)(Gr);function Zr(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Vr}}}function Jr(e,t){switch(t.type){case Rt.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case Rt.DragMove:return null==e.draggable.active?e:{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}};case Rt.DragEnd:case Rt.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case Rt.RegisterDroppable:{const{element:r}=t,{id:n}=r,i=new Vr(e.droppable.containers);return i.set(n,r),{...e,droppable:{...e.droppable,containers:i}}}case Rt.SetDroppableDisabled:{const{id:r,key:n,disabled:i}=t,o=e.droppable.containers.get(r);if(!o||n!==o.key)return e;const a=new Vr(e.droppable.containers);return a.set(r,{...o,disabled:i}),{...e,droppable:{...e.droppable,containers:a}}}case Rt.UnregisterDroppable:{const{id:r,key:n}=t,i=e.droppable.containers.get(r);if(!i||n!==i.key)return e;const o=new Vr(e.droppable.containers);return o.delete(r),{...e,droppable:{...e.droppable,containers:o}}}default:return e}}function Qr(e){let{disabled:t}=e;const{active:n,activatorEvent:i,draggableNodes:o}=(0,r.useContext)(qr),a=ut(i),l=ut(null==n?void 0:n.id);return(0,r.useEffect)(()=>{if(!t&&!i&&a&&null!=l){if(!bt(a))return;if(document.activeElement===a.target)return;const e=o.get(l);if(!e)return;const{activatorNode:t,node:r}=e;if(!t.current&&!r.current)return;requestAnimationFrame(()=>{for(const e of[t.current,r.current]){if(!e)continue;const t=kt(e);if(t){t.focus();break}}})}},[i,t,o,l,a]),null}function en(e,t){let{transform:r,...n}=t;return null!=e&&e.length?e.reduce((e,t)=>t({transform:e,...n}),r):r}const tn=(0,r.createContext)({...Dt,scaleX:1,scaleY:1});var rn;!function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"}(rn||(rn={}));const nn=(0,r.memo)(function(e){var t,n,i,a;let{id:l,accessibility:s,autoScroll:c=!0,children:d,sensors:u=Hr,collisionDetection:p=Wt,measuring:m,modifiers:g,...h}=e;const f=(0,r.useReducer)(Jr,void 0,Zr),[b,y]=f,[x,v]=function(){const[e]=(0,r.useState)(()=>new Set),t=(0,r.useCallback)(t=>(e.add(t),()=>e.delete(t)),[e]);return[(0,r.useCallback)(t=>{let{type:r,event:n}=t;e.forEach(e=>{var t;return null==(t=e[r])?void 0:t.call(e,n)})},[e]),t]}(),[k,j]=(0,r.useState)(rn.Uninitialized),w=k===rn.Initialized,{draggable:{active:_,nodes:S,translate:C},droppable:{containers:E}}=b,T=null!=_?S.get(_):null,R=(0,r.useRef)({initial:null,translated:null}),N=(0,r.useMemo)(()=>{var e;return null!=_?{id:_,data:null!=(e=null==T?void 0:T.data)?e:Ur,rect:R}:null},[_,T]),z=(0,r.useRef)(null),[D,A]=(0,r.useState)(null),[I,M]=(0,r.useState)(null),L=st(h,Object.values(h)),O=mt("DndDescribedBy",l),P=(0,r.useMemo)(()=>E.getEnabled(),[E]),B=(W=m,(0,r.useMemo)(()=>({draggable:{...Kr.draggable,...null==W?void 0:W.draggable},droppable:{...Kr.droppable,...null==W?void 0:W.droppable},dragOverlay:{...Kr.dragOverlay,...null==W?void 0:W.dragOverlay}}),[null==W?void 0:W.draggable,null==W?void 0:W.droppable,null==W?void 0:W.dragOverlay]));var W;const{droppableRects:F,measureDroppableContainers:$,measuringScheduled:H}=function(e,t){let{dragging:n,dependencies:i,config:o}=t;const[a,l]=(0,r.useState)(null),{frequency:s,measure:c,strategy:d}=o,u=(0,r.useRef)(e),p=function(){switch(d){case zr.Always:return!1;case zr.BeforeDragging:return n;default:return!n}}(),m=st(p),g=(0,r.useCallback)(function(e){void 0===e&&(e=[]),m.current||l(t=>null===t?e:t.concat(e.filter(e=>!t.includes(e))))},[m]),h=(0,r.useRef)(null),f=ct(t=>{if(p&&!n)return Ar;if(!t||t===Ar||u.current!==e||null!=a){const t=new Map;for(let r of e){if(!r)continue;if(a&&a.length>0&&!a.includes(r.id)&&r.rect.current){t.set(r.id,r.rect.current);continue}const e=r.node.current,n=e?new dr(c(e),e):null;r.rect.current=n,n&&t.set(r.id,n)}return t}return t},[e,a,n,p,c]);return(0,r.useEffect)(()=>{u.current=e},[e]),(0,r.useEffect)(()=>{p||g()},[n,p]),(0,r.useEffect)(()=>{a&&a.length>0&&l(null)},[JSON.stringify(a)]),(0,r.useEffect)(()=>{p||"number"!=typeof s||null!==h.current||(h.current=setTimeout(()=>{g(),h.current=null},s))},[s,p,g,...i]),{droppableRects:f,measureDroppableContainers:g,measuringScheduled:null!=a}}(P,{dragging:w,dependencies:[C.x,C.y],config:B.droppable}),U=function(e,t){const r=null!=t?e.get(t):void 0,n=r?r.node.current:null;return ct(e=>{var r;return null==t?null:null!=(r=null!=n?n:e)?r:null},[n,t])}(S,_),K=(0,r.useMemo)(()=>I?yt(I):null,[I]),V=function(){const e=!1===(null==D?void 0:D.autoScrollEnabled),t="object"==typeof c?!1===c.enabled:!1===c,r=w&&!e&&!t;return"object"==typeof c?{...c,enabled:r}:{enabled:r}}(),G=function(e,t){return Ir(e,t)}(U,B.draggable.measure);!function(e){let{activeNode:t,measure:n,initialRect:i,config:o=!0}=e;const a=(0,r.useRef)(!1),{x:l,y:s}="boolean"==typeof o?{x:o,y:o}:o;at(()=>{if(!l&&!s||!t)return void(a.current=!1);if(a.current||!i)return;const e=null==t?void 0:t.node.current;if(!e||!1===e.isConnected)return;const r=$t(n(e),i);if(l||(r.x=0),s||(r.y=0),a.current=!0,Math.abs(r.x)>0||Math.abs(r.y)>0){const t=Yt(e);t&&t.scrollBy({top:r.y,left:r.x})}},[t,l,s,i,n])}({activeNode:null!=_?S.get(_):null,config:V.layoutShiftCompensation,initialRect:G,measure:B.draggable.measure});const X=Or(U,B.draggable.measure,G),q=Or(U?U.parentElement:null),Y=(0,r.useRef)({activatorEvent:null,active:null,activeNode:U,collisionRect:null,collisions:null,droppableRects:F,draggableNodes:S,draggingNode:null,draggingNodeRect:null,droppableContainers:E,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),Z=E.getNodeFor(null==(t=Y.current.over)?void 0:t.id),J=function(e){let{measure:t}=e;const[n,i]=(0,r.useState)(null),o=(0,r.useCallback)(e=>{for(const{target:r}of e)if(nt(r)){i(e=>{const n=t(r);return e?{...e,width:n.width,height:n.height}:n});break}},[t]),a=Mr({callback:o}),l=(0,r.useCallback)(e=>{const r=$r(e);null==a||a.disconnect(),r&&(null==a||a.observe(r)),i(r?t(r):null)},[t,a]),[s,c]=dt(l);return(0,r.useMemo)(()=>({nodeRef:s,rect:n,setRef:c}),[n,s,c])}({measure:B.dragOverlay.measure}),Q=null!=(n=J.nodeRef.current)?n:U,ee=w?null!=(i=J.rect)?i:X:null,te=Boolean(J.nodeRef.current&&J.rect),re=$t(ne=te?null:X,Ir(ne));var ne;const ie=Wr(Q?tt(Q):null),oe=function(e){const t=(0,r.useRef)(e),n=ct(r=>e?r&&r!==Pr&&e&&t.current&&e.parentNode===t.current.parentNode?r:qt(e):Pr,[e]);return(0,r.useEffect)(()=>{t.current=e},[e]),n}(w?null!=Z?Z:U:null),ae=function(e,t){void 0===t&&(t=Gt);const[n]=e,i=Wr(n?tt(n):null),[o,a]=(0,r.useState)(Fr);function l(){a(()=>e.length?e.map(e=>rr(e)?i:new dr(t(e),e)):Fr)}const s=Mr({callback:l});return at(()=>{null==s||s.disconnect(),l(),e.forEach(e=>null==s?void 0:s.observe(e))},[e]),o}(oe),le=en(g,{transform:{x:C.x-re.x,y:C.y-re.y,scaleX:1,scaleY:1},activatorEvent:I,active:N,activeNodeRect:X,containerNodeRect:q,draggingNodeRect:ee,over:Y.current.over,overlayNodeRect:J.rect,scrollableAncestors:oe,scrollableAncestorRects:ae,windowRect:ie}),se=K?ht(K,C):null,ce=function(e){const[t,n]=(0,r.useState)(null),i=(0,r.useRef)(e),o=(0,r.useCallback)(e=>{const t=Zt(e.target);t&&n(e=>e?(e.set(t,er(t)),new Map(e)):null)},[]);return(0,r.useEffect)(()=>{const t=i.current;if(e!==t){r(t);const a=e.map(e=>{const t=Zt(e);return t?(t.addEventListener("scroll",o,{passive:!0}),[t,er(t)]):null}).filter(e=>null!=e);n(a.length?new Map(a):null),i.current=e}return()=>{r(e),r(t)};function r(e){e.forEach(e=>{const t=Zt(e);null==t||t.removeEventListener("scroll",o)})}},[o,e]),(0,r.useMemo)(()=>e.length?t?Array.from(t.values()).reduce((e,t)=>ht(e,t),Dt):lr(e):Dt,[e,t])}(oe),de=Br(ce),ue=Br(ce,[X]),pe=ht(le,de),me=ee?Ut(ee,le):null,ge=N&&me?p({active:N,collisionRect:me,droppableRects:F,droppableContainers:P,pointerCoordinates:se}):null,he=Pt(ge,"id"),[fe,be]=(0,r.useState)(null),ye=function(e,t,r){return{...e,scaleX:t&&r?t.width/r.width:1,scaleY:t&&r?t.height/r.height:1}}(te?le:ht(le,ue),null!=(a=null==fe?void 0:fe.rect)?a:null,X),xe=(0,r.useRef)(null),ve=(0,r.useCallback)((e,t)=>{let{sensor:r,options:n}=t;if(null==z.current)return;const i=S.get(z.current);if(!i)return;const o=e.nativeEvent,a=new r({active:z.current,activeNode:i,event:o,options:n,context:Y,onAbort(e){if(!S.get(e))return;const{onDragAbort:t}=L.current,r={id:e};null==t||t(r),x({type:"onDragAbort",event:r})},onPending(e,t,r,n){if(!S.get(e))return;const{onDragPending:i}=L.current,o={id:e,constraint:t,initialCoordinates:r,offset:n};null==i||i(o),x({type:"onDragPending",event:o})},onStart(e){const t=z.current;if(null==t)return;const r=S.get(t);if(!r)return;const{onDragStart:n}=L.current,i={activatorEvent:o,active:{id:t,data:r.data,rect:R}};(0,Ze.unstable_batchedUpdates)(()=>{null==n||n(i),j(rn.Initializing),y({type:Rt.DragStart,initialCoordinates:e,active:t}),x({type:"onDragStart",event:i}),A(xe.current),M(o)})},onMove(e){y({type:Rt.DragMove,coordinates:e})},onEnd:l(Rt.DragEnd),onCancel:l(Rt.DragCancel)});function l(e){return async function(){const{active:t,collisions:r,over:n,scrollAdjustedTranslate:i}=Y.current;let a=null;if(t&&i){const{cancelDrop:l}=L.current;a={activatorEvent:o,active:t,collisions:r,delta:i,over:n},e===Rt.DragEnd&&"function"==typeof l&&await Promise.resolve(l(a))&&(e=Rt.DragCancel)}z.current=null,(0,Ze.unstable_batchedUpdates)(()=>{y({type:e}),j(rn.Uninitialized),be(null),A(null),M(null),xe.current=null;const t=e===Rt.DragEnd?"onDragEnd":"onDragCancel";if(a){const e=L.current[t];null==e||e(a),x({type:t,event:a})}})}}xe.current=a},[S]),ke=(0,r.useCallback)((e,t)=>(r,n)=>{const i=r.nativeEvent,o=S.get(n);if(null!==z.current||!o||i.dndKit||i.defaultPrevented)return;const a={active:o};!0===e(r,t.options,a)&&(i.dndKit={capturedBy:t.sensor},z.current=n,ve(r,t))},[S,ve]),je=function(e,t){return(0,r.useMemo)(()=>e.reduce((e,r)=>{const{sensor:n}=r;return[...e,...n.activators.map(e=>({eventName:e.eventName,handler:t(e.handler,r)}))]},[]),[e,t])}(u,ke);!function(e){(0,r.useEffect)(()=>{if(!Je)return;const t=e.map(e=>{let{sensor:t}=e;return null==t.setup?void 0:t.setup()});return()=>{for(const e of t)null==e||e()}},e.map(e=>{let{sensor:t}=e;return t}))}(u),at(()=>{X&&k===rn.Initializing&&j(rn.Initialized)},[X,k]),(0,r.useEffect)(()=>{const{onDragMove:e}=L.current,{active:t,activatorEvent:r,collisions:n,over:i}=Y.current;if(!t||!r)return;const o={active:t,activatorEvent:r,collisions:n,delta:{x:pe.x,y:pe.y},over:i};(0,Ze.unstable_batchedUpdates)(()=>{null==e||e(o),x({type:"onDragMove",event:o})})},[pe.x,pe.y]),(0,r.useEffect)(()=>{const{active:e,activatorEvent:t,collisions:r,droppableContainers:n,scrollAdjustedTranslate:i}=Y.current;if(!e||null==z.current||!t||!i)return;const{onDragOver:o}=L.current,a=n.get(he),l=a&&a.rect.current?{id:a.id,rect:a.rect.current,data:a.data,disabled:a.disabled}:null,s={active:e,activatorEvent:t,collisions:r,delta:{x:i.x,y:i.y},over:l};(0,Ze.unstable_batchedUpdates)(()=>{be(l),null==o||o(s),x({type:"onDragOver",event:s})})},[he]),at(()=>{Y.current={activatorEvent:I,active:N,activeNode:U,collisionRect:me,collisions:ge,droppableRects:F,draggableNodes:S,draggingNode:Q,draggingNodeRect:ee,droppableContainers:E,over:fe,scrollableAncestors:oe,scrollAdjustedTranslate:pe},R.current={initial:ee,translated:me}},[N,U,ge,me,S,Q,ee,F,E,fe,oe,pe]),function(e){let{acceleration:t,activator:n=Tr.Pointer,canScroll:i,draggingRect:o,enabled:a,interval:l=5,order:s=Rr.TreeOrder,pointerCoordinates:c,scrollableAncestors:d,scrollableAncestorRects:u,delta:p,threshold:m}=e;const g=function(e){let{delta:t,disabled:r}=e;const n=ut(t);return ct(e=>{if(r||!n||!e)return Nr;const i=Math.sign(t.x-n.x),o=Math.sign(t.y-n.y);return{x:{[tr.Backward]:e.x[tr.Backward]||-1===i,[tr.Forward]:e.x[tr.Forward]||1===i},y:{[tr.Backward]:e.y[tr.Backward]||-1===o,[tr.Forward]:e.y[tr.Forward]||1===o}}},[r,t,n])}({delta:p,disabled:!a}),[h,f]=function(){const e=(0,r.useRef)(null);return[(0,r.useCallback)((t,r)=>{e.current=setInterval(t,r)},[]),(0,r.useCallback)(()=>{null!==e.current&&(clearInterval(e.current),e.current=null)},[])]}(),b=(0,r.useRef)({x:0,y:0}),y=(0,r.useRef)({x:0,y:0}),x=(0,r.useMemo)(()=>{switch(n){case Tr.Pointer:return c?{top:c.y,bottom:c.y,left:c.x,right:c.x}:null;case Tr.DraggableRect:return o}},[n,o,c]),v=(0,r.useRef)(null),k=(0,r.useCallback)(()=>{const e=v.current;if(!e)return;const t=b.current.x*y.current.x,r=b.current.y*y.current.y;e.scrollBy(t,r)},[]),j=(0,r.useMemo)(()=>s===Rr.TreeOrder?[...d].reverse():d,[s,d]);(0,r.useEffect)(()=>{if(a&&d.length&&x){for(const e of j){if(!1===(null==i?void 0:i(e)))continue;const r=d.indexOf(e),n=u[r];if(!n)continue;const{direction:o,speed:a}=or(e,n,x,t,m);for(const e of["x","y"])g[e][o[e]]||(a[e]=0,o[e]=0);if(a.x>0||a.y>0)return f(),v.current=e,h(k,l),b.current=a,void(y.current=o)}b.current={x:0,y:0},y.current={x:0,y:0},f()}else f()},[t,k,i,f,a,l,JSON.stringify(x),JSON.stringify(g),h,d,j,u,JSON.stringify(m)])}({...V,delta:C,draggingRect:me,pointerCoordinates:se,scrollableAncestors:oe,scrollableAncestorRects:ae});const we=(0,r.useMemo)(()=>({active:N,activeNode:U,activeNodeRect:X,activatorEvent:I,collisions:ge,containerNodeRect:q,dragOverlay:J,draggableNodes:S,droppableContainers:E,droppableRects:F,over:fe,measureDroppableContainers:$,scrollableAncestors:oe,scrollableAncestorRects:ae,measuringConfiguration:B,measuringScheduled:H,windowRect:ie}),[N,U,X,I,ge,q,J,S,E,F,fe,$,oe,ae,B,H,ie]),_e=(0,r.useMemo)(()=>({activatorEvent:I,activators:je,active:N,activeNodeRect:X,ariaDescribedById:{draggable:O},dispatch:y,draggableNodes:S,over:fe,measureDroppableContainers:$}),[I,je,N,X,y,O,S,fe,$]);return o().createElement(St.Provider,{value:v},o().createElement(qr.Provider,{value:_e},o().createElement(Yr.Provider,{value:we},o().createElement(tn.Provider,{value:ye},d)),o().createElement(Qr,{disabled:!1===(null==s?void 0:s.restoreFocus)})),o().createElement(Tt,{...s,hiddenTextDescribedById:O}))}),on=(0,r.createContext)(null),an="button";function ln(){return(0,r.useContext)(Yr)}const sn={timeout:25};function cn(e){let{data:t,disabled:n=!1,id:i,resizeObserverConfig:o}=e;const a=mt("Droppable"),{active:l,dispatch:s,over:c,measureDroppableContainers:d}=(0,r.useContext)(qr),u=(0,r.useRef)({disabled:n}),p=(0,r.useRef)(!1),m=(0,r.useRef)(null),g=(0,r.useRef)(null),{disabled:h,updateMeasurementsFor:f,timeout:b}={...sn,...o},y=st(null!=f?f:i),x=Mr({callback:(0,r.useCallback)(()=>{p.current?(null!=g.current&&clearTimeout(g.current),g.current=setTimeout(()=>{d(Array.isArray(y.current)?y.current:[y.current]),g.current=null},b)):p.current=!0},[b]),disabled:h||!l}),v=(0,r.useCallback)((e,t)=>{x&&(t&&(x.unobserve(t),p.current=!1),e&&x.observe(e))},[x]),[k,j]=dt(v),w=st(t);return(0,r.useEffect)(()=>{x&&k.current&&(x.disconnect(),p.current=!1,x.observe(k.current))},[k,x]),(0,r.useEffect)(()=>(s({type:Rt.RegisterDroppable,element:{id:i,key:a,disabled:n,node:k,rect:m,data:w}}),()=>s({type:Rt.UnregisterDroppable,key:a,id:i})),[i]),(0,r.useEffect)(()=>{n!==u.current.disabled&&(s({type:Rt.SetDroppableDisabled,id:i,key:a,disabled:n}),u.current.disabled=n)},[i,a,n,s]),{active:l,rect:m,isOver:(null==c?void 0:c.id)===i,node:k,over:c,setNodeRef:j}}function dn(e){let{animation:t,children:n}=e;const[i,a]=(0,r.useState)(null),[l,s]=(0,r.useState)(null),c=ut(n);return n||i||!c||a(c),at(()=>{if(!l)return;const e=null==i?void 0:i.key,r=null==i?void 0:i.props.id;null!=e&&null!=r?Promise.resolve(t(r,l)).then(()=>{a(null)}):a(null)},[t,i,l]),o().createElement(o().Fragment,null,n,i?(0,r.cloneElement)(i,{ref:s}):null)}const un={x:0,y:0,scaleX:1,scaleY:1};function pn(e){let{children:t}=e;return o().createElement(qr.Provider,{value:Xr},o().createElement(tn.Provider,{value:un},t))}const mn={position:"fixed",touchAction:"none"},gn=e=>bt(e)?"transform 250ms ease":void 0,hn=(0,r.forwardRef)((e,t)=>{let{as:r,activatorEvent:n,adjustScale:i,children:a,className:l,rect:s,style:c,transform:d,transition:u=gn}=e;if(!s)return null;const p=i?d:{...d,scaleX:1,scaleY:1},m={...mn,width:s.width,height:s.height,top:s.top,left:s.left,transform:xt.Transform.toString(p),transformOrigin:i&&n?It(n,s):void 0,transition:"function"==typeof u?u(n):u,...c};return o().createElement(r,{className:l,style:m,ref:t},a)}),fn=e=>t=>{let{active:r,dragOverlay:n}=t;const i={},{styles:o,className:a}=e;if(null!=o&&o.active)for(const[e,t]of Object.entries(o.active))void 0!==t&&(i[e]=r.node.style.getPropertyValue(e),r.node.style.setProperty(e,t));if(null!=o&&o.dragOverlay)for(const[e,t]of Object.entries(o.dragOverlay))void 0!==t&&n.node.style.setProperty(e,t);return null!=a&&a.active&&r.node.classList.add(a.active),null!=a&&a.dragOverlay&&n.node.classList.add(a.dragOverlay),function(){for(const[e,t]of Object.entries(i))r.node.style.setProperty(e,t);null!=a&&a.active&&r.node.classList.remove(a.active)}},bn={duration:250,easing:"ease",keyframes:e=>{let{transform:{initial:t,final:r}}=e;return[{transform:xt.Transform.toString(t)},{transform:xt.Transform.toString(r)}]},sideEffects:fn({styles:{active:{opacity:"0"}}})};let yn=0;function xn(e){return(0,r.useMemo)(()=>{if(null!=e)return yn++,yn},[e])}const vn=o().memo(e=>{let{adjustScale:t=!1,children:n,dropAnimation:i,style:a,transition:l,modifiers:s,wrapperElement:c="div",className:d,zIndex:u=999}=e;const{activatorEvent:p,active:m,activeNodeRect:g,containerNodeRect:h,draggableNodes:f,droppableContainers:b,dragOverlay:y,over:x,measuringConfiguration:v,scrollableAncestors:k,scrollableAncestorRects:j,windowRect:w}=ln(),_=(0,r.useContext)(tn),S=xn(null==m?void 0:m.id),C=en(s,{activatorEvent:p,active:m,activeNodeRect:g,containerNodeRect:h,draggingNodeRect:y.rect,over:x,overlayNodeRect:y.rect,scrollableAncestors:k,scrollableAncestorRects:j,transform:_,windowRect:w}),E=Ir(g),T=function(e){let{config:t,draggableNodes:r,droppableContainers:n,measuringConfiguration:i}=e;return lt((e,o)=>{if(null===t)return;const a=r.get(e);if(!a)return;const l=a.node.current;if(!l)return;const s=$r(o);if(!s)return;const{transform:c}=tt(o).getComputedStyle(o),d=Kt(c);if(!d)return;const u="function"==typeof t?t:function(e){const{duration:t,easing:r,sideEffects:n,keyframes:i}={...bn,...e};return e=>{let{active:o,dragOverlay:a,transform:l,...s}=e;if(!t)return;const c=a.rect.left-o.rect.left,d=a.rect.top-o.rect.top,u={scaleX:1!==l.scaleX?o.rect.width*l.scaleX/a.rect.width:1,scaleY:1!==l.scaleY?o.rect.height*l.scaleY/a.rect.height:1},p={x:l.x-c,y:l.y-d,...u},m=i({...s,active:o,dragOverlay:a,transform:{initial:l,final:p}}),[g]=m,h=m[m.length-1];if(JSON.stringify(g)===JSON.stringify(h))return;const f=null==n?void 0:n({active:o,dragOverlay:a,...s}),b=a.node.animate(m,{duration:t,easing:r,fill:"forwards"});return new Promise(e=>{b.onfinish=()=>{null==f||f(),e()}})}}(t);return sr(l,i.draggable.measure),u({active:{id:e,data:a.data,node:l,rect:i.draggable.measure(l)},draggableNodes:r,dragOverlay:{node:o,rect:i.dragOverlay.measure(s)},droppableContainers:n,measuringConfiguration:i,transform:d})})}({config:i,draggableNodes:f,droppableContainers:b,measuringConfiguration:v}),R=E?y.setRef:void 0;return o().createElement(pn,null,o().createElement(dn,{animation:T},m&&S?o().createElement(hn,{key:S,id:m.id,ref:R,as:c,activatorEvent:p,adjustScale:t,className:d,transition:l,rect:E,style:{zIndex:u,...a},transform:C},n):null))});function kn(e,t,r){const n=e.slice();return n.splice(r<0?n.length+r:r,0,n.splice(t,1)[0]),n}function jn(e,t){return e.reduce((e,r,n)=>{const i=t.get(r);return i&&(e[n]=i),e},Array(e.length))}function wn(e){return null!==e&&e>=0}const Sn=e=>{let{rects:t,activeIndex:r,overIndex:n,index:i}=e;const o=kn(t,n,r),a=t[i],l=o[i];return l&&a?{x:l.left-a.left,y:l.top-a.top,scaleX:l.width/a.width,scaleY:l.height/a.height}:null},Cn={scaleX:1,scaleY:1},En=e=>{var t;let{activeIndex:r,activeNodeRect:n,index:i,rects:o,overIndex:a}=e;const l=null!=(t=o[r])?t:n;if(!l)return null;if(i===r){const e=o[a];return e?{x:0,y:r<a?e.top+e.height-(l.top+l.height):e.top-l.top,...Cn}:null}const s=function(e,t,r){const n=e[t],i=e[t-1],o=e[t+1];return n?r<t?i?n.top-(i.top+i.height):o?o.top-(n.top+n.height):0:o?o.top-(n.top+n.height):i?n.top-(i.top+i.height):0:0}(o,i,r);return i>r&&i<=a?{x:0,y:-l.height-s,...Cn}:i<r&&i>=a?{x:0,y:l.height+s,...Cn}:{x:0,y:0,...Cn}},Tn="Sortable",Rn=o().createContext({activeIndex:-1,containerId:Tn,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:Sn,disabled:{draggable:!1,droppable:!1}});function Nn(e){let{children:t,id:n,items:i,strategy:a=Sn,disabled:l=!1}=e;const{active:s,dragOverlay:c,droppableRects:d,over:u,measureDroppableContainers:p}=ln(),m=mt(Tn,n),g=Boolean(null!==c.rect),h=(0,r.useMemo)(()=>i.map(e=>"object"==typeof e&&"id"in e?e.id:e),[i]),f=null!=s,b=s?h.indexOf(s.id):-1,y=u?h.indexOf(u.id):-1,x=(0,r.useRef)(h),v=!function(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}(h,x.current),k=-1!==y&&-1===b||v,j=function(e){return"boolean"==typeof e?{draggable:e,droppable:e}:e}(l);at(()=>{v&&f&&p(h)},[v,h,f,p]),(0,r.useEffect)(()=>{x.current=h},[h]);const w=(0,r.useMemo)(()=>({activeIndex:b,containerId:m,disabled:j,disableTransforms:k,items:h,overIndex:y,useDragOverlay:g,sortedRects:jn(h,d),strategy:a}),[b,m,j.draggable,j.droppable,k,h,y,d,g,a]);return o().createElement(Rn.Provider,{value:w},t)}const zn=e=>{let{id:t,items:r,activeIndex:n,overIndex:i}=e;return kn(r,n,i).indexOf(t)},Dn=e=>{let{containerId:t,isSorting:r,wasDragging:n,index:i,items:o,newIndex:a,previousItems:l,previousContainerId:s,transition:c}=e;return!(!c||!n||l!==o&&i===a||!r&&(a===i||t!==s))},An={duration:200,easing:"ease"},In="transform",Mn=xt.Transition.toString({property:In,duration:0,easing:"linear"}),Ln={roleDescription:"sortable"};function On(e){let{animateLayoutChanges:t=Dn,attributes:n,disabled:i,data:o,getNewIndex:a=zn,id:l,strategy:s,resizeObserverConfig:c,transition:d=An}=e;const{items:u,containerId:p,activeIndex:m,disabled:g,disableTransforms:h,sortedRects:f,overIndex:b,useDragOverlay:y,strategy:x}=(0,r.useContext)(Rn),v=function(e,t){var r,n;return"boolean"==typeof e?{draggable:e,droppable:!1}:{draggable:null!=(r=null==e?void 0:e.draggable)?r:t.draggable,droppable:null!=(n=null==e?void 0:e.droppable)?n:t.droppable}}(i,g),k=u.indexOf(l),j=(0,r.useMemo)(()=>({sortable:{containerId:p,index:k,items:u},...o}),[p,o,k,u]),w=(0,r.useMemo)(()=>u.slice(u.indexOf(l)),[u,l]),{rect:_,node:S,isOver:C,setNodeRef:E}=cn({id:l,data:j,disabled:v.droppable,resizeObserverConfig:{updateMeasurementsFor:w,...c}}),{active:T,activatorEvent:R,activeNodeRect:N,attributes:z,setNodeRef:D,listeners:A,isDragging:I,over:M,setActivatorNodeRef:L,transform:O}=function(e){let{id:t,data:n,disabled:i=!1,attributes:o}=e;const a=mt("Draggable"),{activators:l,activatorEvent:s,active:c,activeNodeRect:d,ariaDescribedById:u,draggableNodes:p,over:m}=(0,r.useContext)(qr),{role:g=an,roleDescription:h="draggable",tabIndex:f=0}=null!=o?o:{},b=(null==c?void 0:c.id)===t,y=(0,r.useContext)(b?tn:on),[x,v]=dt(),[k,j]=dt(),w=function(e,t){return(0,r.useMemo)(()=>e.reduce((e,r)=>{let{eventName:n,handler:i}=r;return e[n]=e=>{i(e,t)},e},{}),[e,t])}(l,t),_=st(n);return at(()=>(p.set(t,{id:t,key:a,node:x,activatorNode:k,data:_}),()=>{const e=p.get(t);e&&e.key===a&&p.delete(t)}),[p,t]),{active:c,activatorEvent:s,activeNodeRect:d,attributes:(0,r.useMemo)(()=>({role:g,tabIndex:f,"aria-disabled":i,"aria-pressed":!(!b||g!==an)||void 0,"aria-roledescription":h,"aria-describedby":u.draggable}),[i,g,f,b,h,u.draggable]),isDragging:b,listeners:i?void 0:w,node:x,over:m,setNodeRef:v,setActivatorNodeRef:j,transform:y}}({id:l,data:j,attributes:{...Ln,...n},disabled:v.draggable}),P=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,r.useMemo)(()=>e=>{t.forEach(t=>t(e))},t)}(E,D),B=Boolean(T),W=B&&!h&&wn(m)&&wn(b),F=!y&&I,$=F&&W?O:null,H=W?null!=$?$:(null!=s?s:x)({rects:f,activeNodeRect:N,activeIndex:m,overIndex:b,index:k}):null,U=wn(m)&&wn(b)?a({id:l,items:u,activeIndex:m,overIndex:b}):k,K=null==T?void 0:T.id,V=(0,r.useRef)({activeId:K,items:u,newIndex:U,containerId:p}),G=u!==V.current.items,X=t({active:T,containerId:p,isDragging:I,isSorting:B,id:l,index:k,items:u,newIndex:V.current.newIndex,previousItems:V.current.items,previousContainerId:V.current.containerId,transition:d,wasDragging:null!=V.current.activeId}),q=function(e){let{disabled:t,index:n,node:i,rect:o}=e;const[a,l]=(0,r.useState)(null),s=(0,r.useRef)(n);return at(()=>{if(!t&&n!==s.current&&i.current){const e=o.current;if(e){const t=Gt(i.current,{ignoreTransform:!0}),r={x:e.left-t.left,y:e.top-t.top,scaleX:e.width/t.width,scaleY:e.height/t.height};(r.x||r.y)&&l(r)}}n!==s.current&&(s.current=n)},[t,n,i,o]),(0,r.useEffect)(()=>{a&&l(null)},[a]),a}({disabled:!X,index:k,node:S,rect:_});return(0,r.useEffect)(()=>{B&&V.current.newIndex!==U&&(V.current.newIndex=U),p!==V.current.containerId&&(V.current.containerId=p),u!==V.current.items&&(V.current.items=u)},[B,U,p,u]),(0,r.useEffect)(()=>{if(K===V.current.activeId)return;if(K&&!V.current.activeId)return void(V.current.activeId=K);const e=setTimeout(()=>{V.current.activeId=K},50);return()=>clearTimeout(e)},[K]),{active:T,activeIndex:m,attributes:z,data:j,rect:_,index:k,newIndex:U,items:u,isOver:C,isSorting:B,isDragging:I,listeners:A,node:S,overIndex:b,over:M,setNodeRef:P,setActivatorNodeRef:L,setDroppableNodeRef:E,setDraggableNodeRef:D,transform:null!=q?q:H,transition:q||G&&V.current.newIndex===k?Mn:F&&!bt(R)||!d?void 0:B||X?xt.Transition.toString({...d,property:In}):void 0}}function Pn(e){if(!e)return!1;const t=e.data.current;return!!(t&&"sortable"in t&&"object"==typeof t.sortable&&"containerId"in t.sortable&&"items"in t.sortable&&"index"in t.sortable)}const Bn=[gr.Down,gr.Right,gr.Up,gr.Left],Wn=(e,t)=>{let{context:{active:r,collisionRect:n,droppableRects:i,droppableContainers:o,over:a,scrollableAncestors:l}}=t;if(Bn.includes(e.code)){if(e.preventDefault(),!r||!n)return;const t=[];o.getEnabled().forEach(r=>{if(!r||null!=r&&r.disabled)return;const o=i.get(r.id);if(o)switch(e.code){case gr.Down:n.top<o.top&&t.push(r);break;case gr.Up:n.top>o.top&&t.push(r);break;case gr.Left:n.left>o.left&&t.push(r);break;case gr.Right:n.left<o.left&&t.push(r)}});const d=(e=>{let{collisionRect:t,droppableRects:r,droppableContainers:n}=e;const i=Ot(t),o=[];for(const e of n){const{id:t}=e,n=r.get(t);if(n){const r=Ot(n),a=i.reduce((e,t,n)=>e+At(r[n],t),0),l=Number((a/4).toFixed(4));o.push({id:t,data:{droppableContainer:e,value:l}})}}return o.sort(Mt)})({active:r,collisionRect:n,droppableRects:i,droppableContainers:t,pointerCoordinates:null});let u=Pt(d,"id");if(u===(null==a?void 0:a.id)&&d.length>1&&(u=d[1].id),null!=u){const e=o.get(r.id),t=o.get(u),a=t?i.get(t.id):null,d=null==t?void 0:t.node.current;if(d&&a&&e&&t){const r=qt(d).some((e,t)=>l[t]!==e),i=Fn(e,t),o=(c=t,!(!Pn(s=e)||!Pn(c))&&!!Fn(s,c)&&s.data.current.sortable.index<c.data.current.sortable.index),u=r||!i?{x:0,y:0}:{x:o?n.width-a.width:0,y:o?n.height-a.height:0},p={x:a.left,y:a.top};return u.x&&u.y?p:ft(p,u)}}}var s,c};function Fn(e,t){return!(!Pn(e)||!Pn(t))&&e.data.current.sortable.containerId===t.data.current.sortable.containerId}const $n=u("star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]),Hn=u("briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]),Un=u("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]),Kn=u("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]]),Vn=window.wp.apiFetch;var Gn=i.n(Vn);const Xn={overall:{label:(0,t.__)("Gesamteindruck","recruiting-playbook"),Icon:$n},skills:{label:(0,t.__)("Fachkompetenz","recruiting-playbook"),Icon:Hn},culture_fit:{label:(0,t.__)("Kulturelle Passung","recruiting-playbook"),Icon:Un},experience:{label:(0,t.__)("Erfahrung","recruiting-playbook"),Icon:Kn}};function qn({size:e="1rem"}){return(0,ze.jsx)("div",{style:{width:e,height:e,border:"2px solid #e5e7eb",borderTopColor:"#1d71b8",borderRadius:"50%",animation:"spin 0.8s linear infinite"}})}function Yn({rating:r=0,average:n=0,count:i=0,readonly:o=!1,onRate:a,saving:l=!1}){var s;const[c,d]=(0,e.useState)(null),u=null!==(s=null!=c?c:r)&&void 0!==s?s:0;return(0,ze.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.25rem"},onMouseLeave:()=>d(null),children:[[1,2,3,4,5].map(e=>{const r=e<=u,n=!o&&e<=(c||0);return(0,ze.jsx)("button",{type:"button",onClick:()=>(e=>{o||l||a(e)})(e),onMouseEnter:()=>!o&&!l&&d(e),disabled:o||l,style:{display:"flex",alignItems:"center",justifyContent:"center",width:"1.75rem",height:"1.75rem",padding:0,background:"none",border:"none",cursor:o||l?"default":"pointer",color:r?"#f59e0b":n?"#fbbf24":"#d1d5db",transition:"color 0.15s ease"},"aria-label":`${e} ${(0,t.__)("von 5 Sternen","recruiting-playbook")}`,children:(0,ze.jsx)($n,{style:{width:"1.25rem",height:"1.25rem",fill:r?"currentColor":"none"}})},e)}),n>0&&(0,ze.jsxs)("span",{style:{marginLeft:"0.5rem",fontSize:"0.875rem",color:"#6b7280",display:"flex",alignItems:"center",gap:"0.25rem"},children:[n.toFixed(1),i>0&&(0,ze.jsxs)("span",{style:{color:"#9ca3af"},children:["(",i,")"]})]})]})}function Zn({applicationId:r,readonly:n=!1,showDistribution:i=!0}){const{summary:o,userRatings:a,loading:l,error:s,saving:c,rate:d}=function(t){const[r,n]=(0,e.useState)(null),[i,o]=(0,e.useState)({}),[a,l]=(0,e.useState)(!0),[s,c]=(0,e.useState)(null),[d,u]=(0,e.useState)(!1),p=(0,e.useCallback)(async()=>{if(t)try{l(!0),c(null);const e=await Gn()({path:`/recruiting/v1/applications/${t}/rating-summary`});n(e),o(e.user_rating||{})}catch(e){console.error("Error fetching rating summary:",e),c(e.message||window.rpApplicant?.i18n?.errorLoadingRating||"Fehler beim Laden der Bewertung")}finally{l(!1)}else l(!1)},[t]);(0,e.useEffect)(()=>{p()},[p]);const m=(0,e.useCallback)(async(e,a)=>{if(!t||a<1||a>5)return!1;const l={...i},s=r?{...r}:null;try{u(!0),c(null),o(t=>({...t,[e]:a}));const r=await Gn()({path:`/recruiting/v1/applications/${t}/ratings`,method:"POST",data:{rating:a,category:e}});return n(r),o(r.user_rating||{}),!0}catch(e){return console.error("Error rating:",e),o(l),s&&n(s),c(e.message||window.rpApplicant?.i18n?.errorRating||"Fehler beim Bewerten"),!1}finally{u(!1)}},[t,i,r]),g=(0,e.useCallback)(async e=>{if(!t||!e)return!1;const r={...i};try{return u(!0),c(null),o(t=>{const r={...t};return delete r[e],r}),await Gn()({path:`/recruiting/v1/applications/${t}/ratings/${e}`,method:"DELETE"}),await p(),!0}catch(e){return console.error("Error deleting rating:",e),o(r),c(e.message||window.rpApplicant?.i18n?.errorDeletingRating||"Fehler beim Lschen der Bewertung"),!1}finally{u(!1)}},[t,i,p]);return{summary:r,userRatings:i,loading:a,error:s,saving:d,rate:m,deleteRating:g,refetch:p}}(r),[u,p]=(0,e.useState)("overall");return l?(0,ze.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",padding:"2rem",gap:"0.5rem",color:"#6b7280"},children:[(0,ze.jsx)(qn,{}),(0,t.__)("Laden...","recruiting-playbook")]}):(0,ze.jsxs)("div",{children:[s&&(0,ze.jsx)("div",{style:{padding:"0.75rem",backgroundColor:"#fee2e2",color:"#dc2626",borderRadius:"0.375rem",marginBottom:"1rem",fontSize:"0.875rem"},children:s}),(0,ze.jsx)("div",{style:{display:"flex",flexWrap:"wrap",gap:"0.25rem",marginBottom:"1rem"},children:Object.entries(Xn).map(([e,t])=>{const r=u===e,n=t.Icon;return(0,ze.jsxs)("button",{type:"button",onClick:()=>p(e),style:{display:"inline-flex",alignItems:"center",gap:"0.375rem",padding:"0.5rem 0.75rem",backgroundColor:r?"#1d71b8":"#f3f4f6",color:r?"#fff":"#6b7280",border:"none",borderRadius:"0.375rem",fontSize:"0.8125rem",fontWeight:500,cursor:"pointer",transition:"all 0.15s ease"},children:[(0,ze.jsx)(n,{style:{width:"0.875rem",height:"0.875rem"}}),t.label,a?.[e]&&(0,ze.jsx)("span",{style:{backgroundColor:r?"rgba(255,255,255,0.2)":"#e5e7eb",color:r?"#fff":"#374151",padding:"0.125rem 0.375rem",borderRadius:"0.25rem",fontSize:"0.75rem",fontWeight:600},children:a[e]})]},e)})}),(0,ze.jsx)("div",{style:{marginBottom:"1.5rem"},children:Object.entries(Xn).map(([e,t])=>{if(u!==e)return null;const r=t.Icon;return(0,ze.jsxs)("div",{style:{padding:"1rem",backgroundColor:"#f9fafb",borderRadius:"0.375rem",borderLeft:"3px solid #1d71b8"},children:[(0,ze.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"0.75rem"},children:[(0,ze.jsx)("div",{style:{width:"1.75rem",height:"1.75rem",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"#1d71b8",color:"#fff",borderRadius:"0.375rem"},children:(0,ze.jsx)(r,{style:{width:"1rem",height:"1rem"}})}),(0,ze.jsx)("span",{style:{fontWeight:600,fontSize:"0.9375rem",color:"#1f2937"},children:t.label})]}),(0,ze.jsx)(Yn,{rating:a?.[e],average:o?.by_category?.[e]?.average,count:o?.by_category?.[e]?.count,readonly:n,saving:c,onRate:t=>d(e,t)})]},e)})}),i&&o?.distribution&&o.count>0&&(0,ze.jsxs)("div",{children:[(0,ze.jsx)("h4",{style:{margin:"0 0 0.75rem 0",fontSize:"0.875rem",fontWeight:600,color:"#374151"},children:(0,t.__)("Verteilung","recruiting-playbook")}),(0,ze.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:"0.375rem"},children:[5,4,3,2,1].map(e=>{const t=o.distribution[e]||0,r=o.count>0?t/o.count*100:0;return(0,ze.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[(0,ze.jsxs)("span",{style:{display:"flex",alignItems:"center",gap:"0.25rem",width:"2rem",fontSize:"0.8125rem",color:"#6b7280"},children:[e,(0,ze.jsx)($n,{style:{width:"0.75rem",height:"0.75rem",fill:"#f59e0b",color:"#f59e0b"}})]}),(0,ze.jsx)("div",{style:{flex:1,height:"0.5rem",backgroundColor:"#e5e7eb",borderRadius:"0.25rem",overflow:"hidden"},children:(0,ze.jsx)("div",{style:{width:`${r}%`,height:"100%",backgroundColor:"#f59e0b",borderRadius:"0.25rem",transition:"width 0.3s ease"}})}),(0,ze.jsx)("span",{style:{width:"1.5rem",fontSize:"0.75rem",color:"#9ca3af",textAlign:"right"},children:t})]},e)})})]}),(0,ze.jsx)("style",{children:"@keyframes spin { to { transform: rotate(360deg); } }"})]})}function Jn({average:e,count:r=0}){return!e||e<=0?null:(0,ze.jsxs)("div",{style:{display:"inline-flex",alignItems:"center",gap:"0.25rem",padding:"0.25rem 0.5rem",backgroundColor:"#fef3c7",color:"#92400e",borderRadius:"0.25rem",fontSize:"0.75rem",fontWeight:500},title:`${r} ${1===r?(0,t.__)("Bewertung","recruiting-playbook"):(0,t.__)("Bewertungen","recruiting-playbook")}`,children:[(0,ze.jsx)($n,{style:{width:"0.75rem",height:"0.75rem",fill:"#f59e0b",color:"#f59e0b"}}),(0,ze.jsx)("span",{children:e.toFixed(1)})]})}const Qn=u("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),ei=u("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),ti=u("info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);function ri({size:e="1rem"}){return(0,ze.jsx)("div",{style:{width:e,height:e,border:"2px solid #e5e7eb",borderTopColor:"#1d71b8",borderRadius:"50%",animation:"spin 0.8s linear infinite"}})}function ni({title:e,children:t,onClose:r}){return(0,ze.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e5,padding:"1rem"},onClick:r,children:(0,ze.jsxs)("div",{style:{backgroundColor:"#fff",borderRadius:"0.5rem",boxShadow:"0 4px 20px rgba(0, 0, 0, 0.15)",maxWidth:"500px",width:"100%",maxHeight:"90vh",overflow:"auto"},onClick:e=>e.stopPropagation(),children:[(0,ze.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"1rem 1.5rem",borderBottom:"1px solid #e5e7eb"},children:[(0,ze.jsx)("h3",{style:{margin:0,fontSize:"1rem",fontWeight:600,color:"#1f2937"},children:e}),(0,ze.jsx)("button",{type:"button",onClick:r,style:{display:"flex",alignItems:"center",justifyContent:"center",width:"2rem",height:"2rem",background:"none",border:"none",borderRadius:"0.375rem",cursor:"pointer",color:"#6b7280"},children:(0,ze.jsx)(Qn,{style:{width:"1.25rem",height:"1.25rem"}})})]}),t]})})}function ii({candidateId:r,inPool:n=!1,onStatusChange:i}){const[o,a]=(0,e.useState)(!1),[l,s]=(0,e.useState)(""),[c,d]=(0,e.useState)(""),[u,p]=(0,e.useState)(!1),{isInPool:m,loading:g,error:h,addToPool:f,removeFromPool:b}=function(t,r=!1){const[n,i]=(0,e.useState)(r),[o,a]=(0,e.useState)(null),[l,s]=(0,e.useState)(!1),[c,d]=(0,e.useState)(null),u=(0,e.useCallback)(async()=>{if(t)try{s(!0),d(null);const e=await Gn()({path:`/recruiting/v1/candidates/${t}/talent-pool`});i(e.in_pool),a(e.entry)}catch(e){console.error("Error fetching talent pool status:",e),d(e.message||window.rpApplicant?.i18n?.errorLoadingTalentPool||"Fehler beim Laden des Talent-Pool Status")}finally{s(!1)}},[t]);(0,e.useEffect)(()=>{t&&void 0===r&&u()},[t,r,u]);const p=(0,e.useCallback)(async(e="",r="",n=null)=>{if(!t)return!1;try{s(!0),d(null);const o={candidate_id:t,reason:e,tags:r};n&&(o.expires_at=n);const l=await Gn()({path:"/recruiting/v1/talent-pool",method:"POST",data:o});return i(!0),a(l),!0}catch(e){return console.error("Error adding to talent pool:",e),"already_exists"===e.code?(i(!0),d(null),!0):(d(e.message||window.rpApplicant?.i18n?.errorAddingToTalentPool||"Fehler beim Hinzufgen zum Talent-Pool"),!1)}finally{s(!1)}},[t]),m=(0,e.useCallback)(async()=>{if(!t)return!1;const e=n,r=o;try{return s(!0),d(null),i(!1),a(null),await Gn()({path:`/recruiting/v1/talent-pool/${t}`,method:"DELETE"}),!0}catch(t){return console.error("Error removing from talent pool:",t),i(e),a(r),d(t.message||window.rpApplicant?.i18n?.errorRemovingFromTalentPool||"Fehler beim Entfernen aus dem Talent-Pool"),!1}finally{s(!1)}},[t,n,o]),g=(0,e.useCallback)(async e=>{if(!t||!n)return!1;try{s(!0),d(null);const r=await Gn()({path:`/recruiting/v1/talent-pool/${t}`,method:"PATCH",data:e});return a(r),!0}catch(e){return console.error("Error updating talent pool entry:",e),d(e.message||window.rpApplicant?.i18n?.errorUpdatingTalentPool||"Fehler beim Aktualisieren des Talent-Pool Eintrags"),!1}finally{s(!1)}},[t,n]);return{isInPool:n,entry:o,loading:l,error:c,addToPool:p,removeFromPool:m,updateEntry:g,refetch:u}}(r,n);return m?(0,ze.jsxs)(ze.Fragment,{children:[(0,ze.jsxs)(Ye,{variant:"outline",onClick:()=>p(!0),disabled:g,style:{backgroundColor:"#e6f3ff",borderColor:"#1d71b8",color:"#1d71b8"},children:[(0,ze.jsx)(Un,{style:{width:"1rem",height:"1rem"}}),(0,t.__)("Im Talent-Pool","recruiting-playbook"),g&&(0,ze.jsx)(ri,{size:"0.875rem"})]}),u&&(0,ze.jsxs)(ni,{title:(0,t.__)("Aus Talent-Pool entfernen","recruiting-playbook"),onClose:()=>p(!1),children:[(0,ze.jsxs)("div",{style:{padding:"1.5rem"},children:[(0,ze.jsx)("p",{style:{margin:"0 0 1rem 0",color:"#374151"},children:(0,t.__)("Kandidat wirklich aus dem Talent-Pool entfernen?","recruiting-playbook")}),h&&(0,ze.jsx)("div",{style:{padding:"0.75rem",backgroundColor:"#fee2e2",color:"#dc2626",borderRadius:"0.375rem",marginBottom:"1rem",fontSize:"0.875rem"},children:h})]}),(0,ze.jsxs)("div",{style:{display:"flex",justifyContent:"flex-end",gap:"0.5rem",padding:"1rem 1.5rem",borderTop:"1px solid #e5e7eb",backgroundColor:"#f9fafb"},children:[(0,ze.jsx)(Ye,{variant:"outline",onClick:()=>p(!1),disabled:g,children:(0,t.__)("Abbrechen","recruiting-playbook")}),(0,ze.jsx)(Ye,{onClick:async()=>{await b()&&(p(!1),i&&i(!1))},disabled:g,style:{backgroundColor:"#d63638"},children:g?(0,ze.jsx)(ri,{size:"0.875rem"}):(0,t.__)("Entfernen","recruiting-playbook")})]})]}),(0,ze.jsx)("style",{children:"@keyframes spin { to { transform: rotate(360deg); } }"})]}):(0,ze.jsxs)(ze.Fragment,{children:[(0,ze.jsxs)(Ye,{variant:"outline",onClick:()=>a(!0),disabled:g,children:[(0,ze.jsx)(ei,{style:{width:"1rem",height:"1rem"}}),(0,t.__)("Talent-Pool","recruiting-playbook")]}),o&&(0,ze.jsxs)(ni,{title:(0,t.__)("Zum Talent-Pool hinzufgen","recruiting-playbook"),onClose:()=>a(!1),children:[(0,ze.jsxs)("div",{style:{padding:"1.5rem"},children:[h&&(0,ze.jsx)("div",{style:{padding:"0.75rem",backgroundColor:"#fee2e2",color:"#dc2626",borderRadius:"0.375rem",marginBottom:"1rem",fontSize:"0.875rem"},children:h}),(0,ze.jsxs)("div",{style:{marginBottom:"1rem"},children:[(0,ze.jsx)("label",{htmlFor:"rp-talent-reason",style:{display:"block",marginBottom:"0.375rem",fontSize:"0.875rem",fontWeight:500,color:"#374151"},children:(0,t.__)("Grund fr Aufnahme","recruiting-playbook")}),(0,ze.jsx)("textarea",{id:"rp-talent-reason",value:l,onChange:e=>s(e.target.value),placeholder:(0,t.__)("z.B. Sehr guter Kandidat, aber aktuell keine passende Stelle...","recruiting-playbook"),rows:3,disabled:g,style:{width:"100%",padding:"0.5rem 0.75rem",border:"1px solid #e5e7eb",borderRadius:"0.375rem",fontSize:"0.875rem",resize:"vertical",fontFamily:"inherit"}})]}),(0,ze.jsxs)("div",{style:{marginBottom:"1rem"},children:[(0,ze.jsx)("label",{htmlFor:"rp-talent-tags",style:{display:"block",marginBottom:"0.375rem",fontSize:"0.875rem",fontWeight:500,color:"#374151"},children:(0,t.__)("Tags (komma-separiert)","recruiting-playbook")}),(0,ze.jsx)("input",{type:"text",id:"rp-talent-tags",value:c,onChange:e=>d(e.target.value),placeholder:(0,t.__)("z.B. php, react, senior, remote","recruiting-playbook"),disabled:g,style:{width:"100%",padding:"0.5rem 0.75rem",border:"1px solid #e5e7eb",borderRadius:"0.375rem",fontSize:"0.875rem"}}),(0,ze.jsx)("p",{style:{margin:"0.375rem 0 0 0",fontSize:"0.75rem",color:"#6b7280"},children:(0,t.__)("Tags helfen, Kandidaten spter schneller zu finden.","recruiting-playbook")})]}),(0,ze.jsxs)("div",{style:{display:"flex",alignItems:"flex-start",gap:"0.5rem",padding:"0.75rem",backgroundColor:"#fef3c7",borderRadius:"0.375rem",fontSize:"0.75rem",color:"#92400e"},children:[(0,ze.jsx)(ti,{style:{width:"1rem",height:"1rem",flexShrink:0,marginTop:"0.125rem"}}),(0,ze.jsx)("span",{children:(0,t.__)("Der Eintrag wird nach 24 Monaten automatisch gelscht (DSGVO).","recruiting-playbook")})]})]}),(0,ze.jsxs)("div",{style:{display:"flex",justifyContent:"flex-end",gap:"0.5rem",padding:"1rem 1.5rem",borderTop:"1px solid #e5e7eb",backgroundColor:"#f9fafb"},children:[(0,ze.jsx)(Ye,{variant:"outline",onClick:()=>a(!1),disabled:g,children:(0,t.__)("Abbrechen","recruiting-playbook")}),(0,ze.jsx)(Ye,{onClick:async()=>{await f(l,c)&&(a(!1),s(""),d(""),i&&i(!0))},disabled:g,children:g?(0,ze.jsxs)(ze.Fragment,{children:[(0,ze.jsx)(ri,{size:"0.875rem"}),(0,t.__)("Hinzufgen...","recruiting-playbook")]}):(0,t.__)("Hinzufgen","recruiting-playbook")})]})]}),(0,ze.jsx)("style",{children:"@keyframes spin { to { transform: rotate(360deg); } }"})]})}function oi({inPool:e}){return e?(0,ze.jsx)("span",{style:{display:"inline-flex",alignItems:"center",justifyContent:"center",width:"1.5rem",height:"1.5rem",backgroundColor:"#e6f3ff",borderRadius:"50%",color:"#1d71b8"},title:(0,t.__)("Im Talent-Pool","recruiting-playbook"),children:(0,ze.jsx)(Un,{style:{width:"0.875rem",height:"0.875rem"}})}):null}function ai({application:e,isDragging:r=!1,index:n=0,totalInColumn:i=1,columnLabel:o=""}){const{attributes:a,listeners:l,setNodeRef:s,transform:c,transition:d,isDragging:u}=On({id:e.id,data:{type:"card",status:e.status,application:e}}),p={transform:xt.Transform.toString(c),transition:d,opacity:u?.5:1},m=`${e.first_name||""} ${e.last_name||""}`.trim()||(0,t.__)("Unbekannt","recruiting-playbook"),g=(w=e.first_name,_=e.last_name,`${(w||"").charAt(0).toUpperCase()}${(_||"").charAt(0).toUpperCase()}`||"?"),h=function(e){if(!e)return 0;const t=new Date(e),r=new Date,n=Math.abs(r-t);return Math.floor(n/864e5)}(e.created_at),f=window.rpKanban?.i18n||{},b=window.rpKanban?.detailUrl||"",y=e.job_title||(0,t.__)("Keine Stelle","recruiting-playbook"),x=function(e,r){if(0===e)return r.today||(0,t.__)("Heute","recruiting-playbook");if(1===e)return r.yesterday||(0,t.__)("Gestern","recruiting-playbook");return(r.daysAgo||(0,t.__)("vor %d Tagen","recruiting-playbook")).replace("%d",e)}(h,f),v=`${n+1} von ${i}`,k=`${m}, ${y}, ${x}${e.documents_count>0?`, ${e.documents_count} ${1===e.documents_count?"Dokument":"Dokumente"}`:""}. Position ${v} in ${o}. Drcke Leertaste zum Ziehen.`,j=t=>{u||r||t.defaultPrevented||b&&(window.location.href=`${b}${e.id}`)};var w,_;return(0,ze.jsxs)("article",{ref:s,style:p,className:"rp-kanban-card "+(u||r?"is-dragging":""),...a,...l,onClick:j,onKeyDown:e=>{"Enter"!==e.key||u||e.defaultPrevented||j(e)},role:"listitem",tabIndex:0,"aria-label":k,"aria-grabbed":u||r,"data-application-id":e.id,children:[(0,ze.jsxs)("div",{className:"rp-kanban-card-header",children:[(0,ze.jsx)("div",{className:"rp-kanban-card-avatar",style:{backgroundColor:li(e.id)},"aria-hidden":"true",children:g}),(0,ze.jsxs)("div",{className:"rp-kanban-card-info",children:[(0,ze.jsx)("div",{className:"rp-kanban-card-name",children:m}),(0,ze.jsx)("div",{className:"rp-kanban-card-email",children:e.email||""})]})]}),(0,ze.jsxs)("div",{className:"rp-kanban-card-meta",children:[(0,ze.jsxs)("span",{className:"rp-kanban-card-job",title:e.job_title,children:[(0,ze.jsx)("span",{className:"dashicons dashicons-businessman","aria-hidden":"true"}),y]}),(0,ze.jsxs)("span",{className:"rp-kanban-card-date",children:[(0,ze.jsx)("span",{className:"dashicons dashicons-calendar-alt","aria-hidden":"true"}),x]})]}),(0,ze.jsxs)("div",{className:"rp-kanban-card-footer",children:[e.documents_count>0&&(0,ze.jsxs)("span",{className:"rp-kanban-card-badge",title:`${e.documents_count} Dokumente`,children:[(0,ze.jsx)("span",{className:"dashicons dashicons-media-document","aria-hidden":"true"}),e.documents_count]}),e.notes_count>0&&(0,ze.jsxs)("span",{className:"rp-kanban-card-badge",title:`${e.notes_count} Notizen`,children:[(0,ze.jsx)("span",{className:"dashicons dashicons-edit","aria-hidden":"true"}),e.notes_count]}),(0,ze.jsx)("span",{className:"rp-kanban-card-spacer"}),(0,ze.jsx)(oi,{inPool:e.in_talent_pool}),(0,ze.jsx)(Jn,{average:e.average_rating,count:e.ratings_count})]})]})}function li(e){const t=["#2271b1","#00a32a","#dba617","#9b59b6","#e74c3c","#1abc9c","#3498db","#e67e22"];return t[e%t.length]}function si({status:r,label:n,color:i,collapsed:o=!1,applications:a,columnIndex:l=0,totalColumns:s=1}){const[c,d]=(0,e.useState)(o),{setNodeRef:u,isOver:p}=cn({id:r,data:{type:"column",status:r}}),m=a.length,g=window.rpKanban?.i18n||{},h=`${n}, ${m} ${1===m?(0,t.__)("Bewerbung","recruiting-playbook"):(0,t.__)("Bewerbungen","recruiting-playbook")}, Spalte ${l+1} von ${s}`;return(0,ze.jsxs)("section",{className:`rp-kanban-column ${c?"is-collapsed":""} ${p?"is-over":""}`,style:{"--column-color":i},"aria-label":h,children:[(0,ze.jsxs)("div",{className:"rp-kanban-column-header",onClick:()=>d(!c),role:"button",tabIndex:0,onKeyDown:e=>{"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),d(!c))},"aria-expanded":!c,"aria-controls":`rp-kanban-column-content-${r}`,children:[(0,ze.jsx)("span",{className:"rp-kanban-column-color",style:{backgroundColor:i},"aria-hidden":"true"}),(0,ze.jsx)("h3",{className:"rp-kanban-column-title",id:`rp-kanban-column-title-${r}`,children:n}),(0,ze.jsx)("span",{className:"rp-kanban-column-count","aria-label":`${m} Bewerbungen`,children:m}),(0,ze.jsx)("button",{type:"button",className:"rp-kanban-collapse-btn","aria-label":c?g.expand||(0,t.__)("Aufklappen","recruiting-playbook"):g.collapse||(0,t.__)("Zuklappen","recruiting-playbook"),onClick:e=>{e.stopPropagation(),d(!c)},children:(0,ze.jsx)("span",{className:`dashicons dashicons-arrow-${c?"down":"up"}-alt2`,"aria-hidden":"true"})})]}),!c&&(0,ze.jsx)("div",{ref:u,className:"rp-kanban-column-content",id:`rp-kanban-column-content-${r}`,role:"list","aria-labelledby":`rp-kanban-column-title-${r}`,children:(0,ze.jsx)(Nn,{items:a.map(e=>e.id),strategy:En,children:0===a.length?(0,ze.jsx)("div",{className:"rp-kanban-empty",role:"listitem",children:g.noApplications||(0,t.__)("Keine Bewerbungen","recruiting-playbook")}):a.map((e,t)=>(0,ze.jsx)(ai,{application:e,index:t,totalInColumn:a.length,columnLabel:n},e.id))})})]})}function ci(e,t="info"){document.querySelectorAll(".rp-kanban-notice").forEach(e=>e.remove());const r=["success","error","warning","info"].includes(t)?t:"info",n=document.createElement("div");n.className=`notice notice-${r} is-dismissible rp-kanban-notice`,n.style.cssText="position: fixed; top: 50px; right: 20px; z-index: 99999; max-width: 300px;",n.innerHTML=`\n\t\t<p>${function(e){const t=document.createElement("div");return t.textContent=e,t.innerHTML}(e)}</p>\n\t\t<button type="button" class="notice-dismiss">\n\t\t\t<span class="screen-reader-text">Dismiss this notice.</span>\n\t\t</button>\n\t`,document.body.appendChild(n),n.querySelector(".notice-dismiss").addEventListener("click",()=>{n.remove()}),setTimeout(()=>{n.parentNode&&n.remove()},3e3)}function di(e){const t=(e=>{let{droppableContainers:t,droppableRects:r,pointerCoordinates:n}=e;if(!n)return[];const i=[];for(const e of t){const{id:t}=e,o=r.get(t);if(o&&Ft(n,o)){const r=Ot(o).reduce((e,t)=>e+At(n,t),0),a=Number((r/4).toFixed(4));i.push({id:t,data:{droppableContainer:e,value:a}})}}return i.sort(Mt)})(e);return t.length>0?t:Wt(e)}function ui({jobFilter:n="",searchTerm:i="",refreshTrigger:o=0}){const{applications:a,loading:l,error:s,updateStatus:c,reorderInColumn:d,moveToColumn:u,refetch:p}=function(){const[t,r]=(0,e.useState)([]),[n,i]=(0,e.useState)(!0),[o,a]=(0,e.useState)(null),l=(0,e.useRef)(null),s=(0,e.useCallback)(async()=>{try{i(!0),a(null);const e=await Gn()({path:"/recruiting/v1/applications?per_page=200&context=kanban"}),t=e.items||e;r(Array.isArray(t)?t:[])}catch(e){console.error("Error fetching applications:",e),a(e.message||window.rpKanban?.i18n?.error||"Fehler beim Laden")}finally{i(!1)}},[]);(0,e.useEffect)(()=>{s()},[s]),(0,e.useEffect)(()=>{const e=setInterval(()=>{"visible"===document.visibilityState&&s()},6e4);return()=>clearInterval(e)},[s]);const c=(0,e.useCallback)(async(e,n,i=0)=>{l.current=[...t],r(t=>t.map(t=>t.id===e?{...t,status:n,kanban_position:i}:t));try{await Gn()({path:`/recruiting/v1/applications/${e}/status`,method:"PATCH",data:{status:n,kanban_position:i,note:"Status via Kanban-Board gendert"}}),ci((window.rpKanban?.i18n||{}).statusChanged||"Status gendert","success"),l.current=null}catch(e){console.error("Error updating status:",e),l.current&&(r(l.current),l.current=null),ci((window.rpKanban?.i18n||{}).updateFailed||"Aktualisierung fehlgeschlagen","error")}},[t]),d=(0,e.useCallback)(async(e,n,i,o)=>{const a=o.findIndex(e=>e.id===n),s=o.findIndex(e=>e.id===i);if(-1===a||-1===s||a===s)return;l.current=[...t];const c=[...o],[d]=c.splice(a,1);c.splice(s,0,d);const u=c.map((e,t)=>({id:e.id,kanban_position:10*(t+1)}));r(e=>e.map(e=>{const t=u.find(t=>t.id===e.id);return t?{...e,kanban_position:t.kanban_position}:e}));try{await Gn()({path:"/recruiting/v1/applications/reorder",method:"POST",data:{status:e,positions:u}}),l.current=null}catch(e){console.error("Error reordering:",e),l.current&&(r(l.current),l.current=null),ci((window.rpKanban?.i18n||{}).reorderFailed||"Sortierung fehlgeschlagen","error")}},[t]),u=(0,e.useCallback)(async(e,n,i,o)=>{const a=[...o],s=t.find(t=>t.id===e);if(!s)return;l.current=[...t],a.splice(i,0,{...s,status:n});const c=a.map((e,t)=>({id:e.id,kanban_position:10*(t+1)})),d=c.find(t=>t.id===e)?.kanban_position||10;r(t=>t.map(t=>{if(t.id===e)return{...t,status:n,kanban_position:d};const r=c.find(e=>e.id===t.id);return r&&t.status===n?{...t,kanban_position:r.kanban_position}:t}));try{await Gn()({path:`/recruiting/v1/applications/${e}/status`,method:"PATCH",data:{status:n,kanban_position:d,note:"Status via Kanban-Board gendert"}}),o.length>0&&await Gn()({path:"/recruiting/v1/applications/reorder",method:"POST",data:{status:n,positions:c.filter(t=>t.id!==e)}}),ci((window.rpKanban?.i18n||{}).statusChanged||"Status gendert","success"),l.current=null}catch(e){console.error("Error moving application:",e),l.current&&(r(l.current),l.current=null),ci((window.rpKanban?.i18n||{}).updateFailed||"Verschieben fehlgeschlagen","error")}},[t]);return{applications:t,setApplications:r,loading:n,error:o,updateStatus:c,reorderInColumn:d,moveToColumn:u,refetch:s}}(),[m,g]=(0,e.useState)(null),h=(0,e.useRef)(null),f=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,r.useMemo)(()=>[...t].filter(e=>null!=e),[...t])}(zt(_r,{activationConstraint:{distance:8}}),zt(xr,{coordinateGetter:Wn})),b=(0,e.useCallback)(e=>{h.current&&(h.current.textContent=e,setTimeout(()=>{h.current&&(h.current.textContent="")},1e3))},[]);(0,e.useEffect)(()=>{o>0&&p()},[o,p]);const y=a.filter(e=>{if(n&&e.job_id!==parseInt(n,10))return!1;if(i){const t=i.toLowerCase(),r=`${e.first_name} ${e.last_name}`.toLowerCase(),n=(e.email||"").toLowerCase();if(!r.includes(t)&&!n.includes(t))return!1}return!0}),x=window.rpKanban?.statuses||[],v=(0,e.useMemo)(()=>x.map(e=>({...e,applications:y.filter(t=>t.status===e.id).sort((e,t)=>(e.kanban_position||0)-(t.kanban_position||0))})),[x,y]),k=(0,e.useCallback)(e=>{for(const t of v)if(t.applications.some(t=>t.id===e))return t;return null},[v]),j=m?a.find(e=>e.id===m):null,w=(0,e.useCallback)((e,r,n)=>{const i=`${e.first_name} ${e.last_name}`.trim(),o=r?.label||"";b(n?(0,t.__)(`${i} neu sortiert in ${o}.`,"recruiting-playbook"):(0,t.__)(`${i} verschoben nach ${o}.`,"recruiting-playbook"))},[b]),_=(0,e.useCallback)(e=>{const{active:r}=e;g(r.id);const n=a.find(e=>e.id===r.id);if(n){const e=`${n.first_name} ${n.last_name}`.trim(),r=v.find(e=>e.id===n.status),i=r?.label||n.status;b((0,t.__)(`${e} aufgenommen aus ${i}. Nutze Pfeiltasten zum Verschieben.`,"recruiting-playbook"))}},[a,v,b]),S=(0,e.useCallback)(async e=>{const{active:t,over:r}=e;if(g(null),!r)return;const n=t.id,i=r.id,o=a.find(e=>e.id===n);if(!o)return;const l=k(n);if(!l)return;let s=null,c=null,p=!1;if("column"===r.data?.current?.type?(s=r.data.current.status,c=v.find(e=>e.id===s)):"card"===r.data?.current?.type?(s=r.data.current.status,c=v.find(e=>e.id===s),p=!0):x.map(e=>e.id).includes(i)&&(s=i,c=v.find(e=>e.id===s)),!s||!c)return;const m=o.status;if(m===s&&p&&n!==i)return await d(m,n,i,l.applications),void w(o,c,!0);if(m!==s){let e=0;if(p){const t=c.applications.findIndex(e=>e.id===i);e=t>=0?t:c.applications.length}else e=c.applications.length;await u(n,s,e,c.applications),w(o,c,!1)}},[a,v,x,k,d,u,w]),C=(0,e.useCallback)(()=>{g(null),b((0,t.__)("Verschieben abgebrochen.","recruiting-playbook"))},[b]);return l?(0,ze.jsxs)("div",{className:"rp-kanban-loading",role:"status","aria-live":"polite","aria-busy":"true",children:[(0,ze.jsx)("span",{className:"spinner is-active","aria-hidden":"true"}),window.rpKanban?.i18n?.loading||(0,t.__)("Lade Bewerbungen...","recruiting-playbook")]}):s?(0,ze.jsxs)("div",{className:"rp-kanban-error notice notice-error",role:"alert","aria-live":"assertive",children:[(0,ze.jsx)("p",{children:s}),(0,ze.jsx)("button",{onClick:p,className:"button",children:window.rpKanban?.i18n?.retry||(0,t.__)("Erneut versuchen","recruiting-playbook")})]}):(0,ze.jsxs)(ze.Fragment,{children:[(0,ze.jsx)("div",{ref:h,role:"status","aria-live":"polite","aria-atomic":"true",className:"screen-reader-text"}),(0,ze.jsxs)(nn,{sensors:f,collisionDetection:di,onDragStart:_,onDragEnd:S,onDragCancel:C,children:[(0,ze.jsx)("div",{className:"rp-kanban-board",role:"region","aria-label":(0,t.__)("Kanban-Board fr Bewerbungen","recruiting-playbook"),children:v.map((e,t)=>(0,ze.jsx)(si,{status:e.id,label:e.label,color:e.color,collapsed:e.collapsed,applications:e.applications,columnIndex:t,totalColumns:v.length},e.id))}),(0,ze.jsx)(vn,{children:j?(0,ze.jsx)(ai,{application:j,isDragging:!0}):null})]})]})}function pi(){const r=window.rpKanban||{},n=r.logoUrl||"",i=r.adminUrl||"",o=r.jobs||[],[a,l]=(0,e.useState)(""),[s,c]=(0,e.useState)(""),[d,u]=(0,e.useState)(!1),[h,f]=(0,e.useState)(0),b=(0,e.useMemo)(()=>function(){let e;return function(...t){clearTimeout(e),e=setTimeout(()=>{clearTimeout(e),(e=>{c(e)})(...t)},300)}}(),[]);return(0,ze.jsxs)("div",{className:"rp-admin",style:{padding:"20px 0"},children:[(0,ze.jsxs)("div",{style:{maxWidth:"100%",paddingRight:"20px"},children:[(0,ze.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-end",marginBottom:"1.5rem"},children:[n&&(0,ze.jsx)("img",{src:n,alt:"Recruiting Playbook",style:{width:"150px",height:"auto"}}),(0,ze.jsx)("h1",{style:{margin:0,fontSize:"1.5rem",fontWeight:700,color:"#1f2937"},children:(0,t.__)("Kanban-Board","recruiting-playbook")})]}),(0,ze.jsx)(De,{style:{marginBottom:"1rem"},children:(0,ze.jsx)(Le,{style:{padding:"0.75rem 1rem"},children:(0,ze.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"1rem",flexWrap:"wrap"},children:[(0,ze.jsxs)("select",{value:a,onChange:e=>l(e.target.value),style:{padding:"0.5rem 2rem 0.5rem 0.75rem",border:"1px solid #e5e7eb",borderRadius:"0.375rem",fontSize:"0.875rem",backgroundColor:"#fff",cursor:"pointer",minWidth:"200px"},children:[(0,ze.jsx)("option",{value:"",children:(0,t.__)("Alle Stellen","recruiting-playbook")}),o.map(e=>(0,ze.jsx)("option",{value:e.id,children:e.title},e.id))]}),(0,ze.jsxs)("div",{style:{position:"relative"},children:[(0,ze.jsx)(p,{style:{position:"absolute",left:"0.75rem",top:"50%",transform:"translateY(-50%)",width:"1rem",height:"1rem",color:"#9ca3af"}}),(0,ze.jsx)("input",{type:"search",placeholder:(0,t.__)("Bewerber suchen...","recruiting-playbook"),onChange:e=>b(e.target.value),style:{paddingLeft:"2.5rem",paddingRight:"1rem",paddingTop:"0.5rem",paddingBottom:"0.5rem",border:"1px solid #e5e7eb",borderRadius:"0.375rem",fontSize:"0.875rem",width:"250px",outline:"none"}})]}),(0,ze.jsx)("div",{style:{flexGrow:1}}),(0,ze.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[(0,ze.jsx)(Ye,{variant:"outline",onClick:()=>{u(!0),f(e=>e+1),setTimeout(()=>u(!1),1e3)},disabled:d,title:(0,t.__)("Aktualisieren","recruiting-playbook"),style:{padding:"0.5rem"},children:(0,ze.jsx)(m,{style:{width:"1rem",height:"1rem",animation:d?"spin 1s linear infinite":"none"}})}),(0,ze.jsxs)("a",{href:`${i}admin.php?page=rp-applications`,style:{display:"inline-flex",alignItems:"center",gap:"0.375rem",padding:"0.5rem 0.75rem",backgroundColor:"#fff",color:"#1d71b8",border:"1px solid #1d71b8",borderRadius:"0.375rem",fontSize:"0.875rem",fontWeight:500,textDecoration:"none"},children:[(0,ze.jsx)(g,{style:{width:"1rem",height:"1rem"}}),(0,t.__)("Listen-Ansicht","recruiting-playbook")]})]})]})})}),(0,ze.jsx)(De,{children:(0,ze.jsx)(Le,{style:{padding:"1rem",backgroundColor:"#f9fafb",minHeight:"500px"},children:(0,ze.jsx)(ui,{jobFilter:a,searchTerm:s,refreshTrigger:h})})})]}),(0,ze.jsx)("style",{children:"@keyframes spin { to { transform: rotate(360deg); } }"})]})}const mi=u("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),gi=u("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]),hi=u("copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]),fi=u("file-text",[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]),bi=u("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),yi=u("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]]),xi=u("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),vi=(0,e.createContext)({}),ki=(0,e.forwardRef)(({className:e,value:t,onValueChange:r,children:n,...i},o)=>(0,ze.jsx)(vi.Provider,{value:{value:t,onValueChange:r},children:(0,ze.jsx)("div",{ref:o,className:Ne("rp-tabs",e),...i,children:n})}));ki.displayName="Tabs";const ji=(0,e.forwardRef)(({className:e,...t},r)=>(0,ze.jsx)("div",{ref:r,className:Ne("rp-inline-flex rp-h-10 rp-items-center rp-justify-start rp-rounded-md rp-bg-muted rp-p-1 rp-text-muted-foreground",e),style:{display:"inline-flex",height:"2.5rem",alignItems:"center",justifyContent:"flex-start",borderRadius:"0.5rem",backgroundColor:"#f4f4f5",padding:"0.25rem",gap:"0.125rem"},role:"tablist",...t}));ji.displayName="TabsList";const wi=(0,e.forwardRef)(({className:t,value:r,children:n,count:i,...o},a)=>{const{value:l,onValueChange:s}=(0,e.useContext)(vi),c=l===r;return(0,ze.jsxs)("button",{ref:a,type:"button",role:"tab","aria-selected":c,className:Ne("rp-inline-flex rp-items-center rp-justify-center rp-whitespace-nowrap rp-rounded-sm rp-px-3 rp-py-1.5 rp-text-sm rp-font-medium rp-ring-offset-background rp-transition-all focus-visible:rp-outline-none focus-visible:rp-ring-2 focus-visible:rp-ring-ring focus-visible:rp-ring-offset-2 disabled:rp-pointer-events-none disabled:rp-opacity-50",t),style:{display:"inline-flex",alignItems:"center",justifyContent:"center",whiteSpace:"nowrap",borderRadius:"0.375rem",padding:"0.375rem 0.75rem",fontSize:"0.875rem",fontWeight:500,transition:"all 150ms",cursor:"pointer",border:"none",backgroundColor:c?"#ffffff":"transparent",color:c?"#1f2937":"#71717a",boxShadow:c?"0 1px 2px 0 rgba(0, 0, 0, 0.05)":"none",gap:"0.375rem"},onClick:()=>s&&s(r),...o,children:[n,void 0!==i&&i>0&&(0,ze.jsx)("span",{style:{display:"inline-flex",alignItems:"center",justifyContent:"center",minWidth:"1.25rem",height:"1.25rem",padding:"0 0.375rem",borderRadius:"9999px",fontSize:"0.75rem",fontWeight:500,backgroundColor:c?"#1d71b8":"#e4e4e7",color:c?"#ffffff":"#71717a"},children:i})]})});wi.displayName="TabsTrigger";const _i=(0,e.forwardRef)(({className:t,value:r,children:n,...i},o)=>{const{value:a}=(0,e.useContext)(vi);return a===r?(0,ze.jsx)("div",{ref:o,role:"tabpanel",className:Ne("rp-mt-2 rp-ring-offset-background focus-visible:rp-outline-none focus-visible:rp-ring-2 focus-visible:rp-ring-ring focus-visible:rp-ring-offset-2",t),style:{marginTop:"0.5rem"},...i,children:n}):null});function Si({className:e,size:t="default",...r}){const n={sm:{width:"1rem",height:"1rem",borderWidth:"2px"},default:{width:"1.5rem",height:"1.5rem",borderWidth:"2px"},lg:{width:"2rem",height:"2rem",borderWidth:"3px"}},i=n[t]||n.default;return(0,ze.jsx)("div",{className:Ne("rp-animate-spin",e),style:{...i,borderRadius:"9999px",borderColor:"#e5e7eb",borderTopColor:"#1d71b8",borderStyle:"solid",animation:"rp-spin 0.8s linear infinite"},...r,children:(0,ze.jsx)("style",{children:"@keyframes rp-spin { to { transform: rotate(360deg); } }"})})}_i.displayName="TabsContent";const Ci=u("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),Ei=u("pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]),Ti=u("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]);function Ri({size:e="1rem"}){return(0,ze.jsx)("div",{style:{width:e,height:e,border:"2px solid #e5e7eb",borderTopColor:"#1d71b8",borderRadius:"50%",animation:"spin 0.8s linear infinite"}})}function Ni(e){const r=new Date(e),n=new Date-r,i=Math.floor(n/6e4),o=Math.floor(n/36e5),a=Math.floor(n/864e5);return i<1?(0,t.__)("Gerade eben","recruiting-playbook"):i<60?`vor ${i} ${1===i?"Minute":"Minuten"}`:o<24?`vor ${o} ${1===o?"Stunde":"Stunden"}`:a<7?`vor ${a} ${1===a?"Tag":"Tagen"}`:r.toLocaleDateString("de-DE",{day:"2-digit",month:"2-digit",year:"numeric"})}function zi({initialContent:r="",onSave:n,onCancel:i,saving:o,saveLabel:a,showPrivate:l=!0}){const[s,c]=(0,e.useState)(r),[d,u]=(0,e.useState)(!1),p=(0,e.useRef)(null);(0,e.useEffect)(()=>{p.current&&p.current.focus()},[]);const m=()=>{s.trim()&&!o&&n(s,d)};return(0,ze.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"0.75rem"},children:[(0,ze.jsx)("textarea",{ref:p,value:s,onChange:e=>c(e.target.value),onKeyDown:e=>{(e.metaKey||e.ctrlKey)&&"Enter"===e.key&&(e.preventDefault(),m()),"Escape"===e.key&&i&&(e.preventDefault(),i())},placeholder:(0,t.__)("Notiz eingeben...","recruiting-playbook"),rows:4,disabled:o,style:{width:"100%",padding:"0.75rem",border:"1px solid #e5e7eb",borderRadius:"0.375rem",fontSize:"0.875rem",resize:"vertical",fontFamily:"inherit"}}),(0,ze.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",flexWrap:"wrap",gap:"0.75rem"},children:[l&&(0,ze.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem",fontSize:"0.875rem",color:"#6b7280",cursor:"pointer"},children:[(0,ze.jsx)("input",{type:"checkbox",checked:d,onChange:e=>u(e.target.checked),disabled:o}),(0,ze.jsx)(Ci,{style:{width:"0.875rem",height:"0.875rem"}}),(0,t.__)("Nur fr mich sichtbar","recruiting-playbook")]}),(0,ze.jsxs)("div",{style:{display:"flex",gap:"0.5rem",marginLeft:"auto"},children:[i&&(0,ze.jsx)(Ye,{variant:"outline",onClick:i,disabled:o,children:(0,t.__)("Abbrechen","recruiting-playbook")}),(0,ze.jsx)(Ye,{onClick:m,disabled:!s.trim()||o,children:o?(0,ze.jsxs)(ze.Fragment,{children:[(0,ze.jsx)(Ri,{size:"0.875rem"}),(0,t.__)("Speichern...","recruiting-playbook")]}):a||(0,t.__)("Speichern","recruiting-playbook")})]})]}),(0,ze.jsxs)("div",{style:{fontSize:"0.75rem",color:"#9ca3af"},children:[(0,ze.jsx)("kbd",{style:{padding:"0.125rem 0.375rem",backgroundColor:"#f3f4f6",border:"1px solid #e5e7eb",borderRadius:"0.25rem",fontSize:"0.6875rem"},children:"Ctrl"})," + ",(0,ze.jsx)("kbd",{style:{padding:"0.125rem 0.375rem",backgroundColor:"#f3f4f6",border:"1px solid #e5e7eb",borderRadius:"0.25rem",fontSize:"0.6875rem"},children:"Enter"})," ",(0,t.__)("zum Speichern","recruiting-playbook")]})]})}function Di({note:r,onUpdate:n,onDelete:i,saving:o}){const[a,l]=(0,e.useState)(!1),[s,c]=(0,e.useState)(!1);return a?(0,ze.jsx)("div",{style:{padding:"1rem",backgroundColor:"#fff",border:"1px solid #1d71b8",borderRadius:"0.375rem"},children:(0,ze.jsx)(zi,{initialContent:r.content,onSave:async e=>{await n(r.id,e)&&l(!1)},onCancel:()=>l(!1),saving:o,showPrivate:!1,saveLabel:(0,t.__)("nderungen speichern","recruiting-playbook")})}):(0,ze.jsxs)("div",{style:{padding:"1rem",backgroundColor:r.is_private?"#fef3c7":"#f9fafb",borderLeft:"3px solid "+(r.is_private?"#f59e0b":"#1d71b8"),borderRadius:"0.375rem"},children:[(0,ze.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"0.75rem"},children:[r.author?.avatar&&(0,ze.jsx)("img",{src:r.author.avatar,alt:r.author.name,style:{width:"1.5rem",height:"1.5rem",borderRadius:"50%"}}),(0,ze.jsx)("span",{style:{fontWeight:600,fontSize:"0.875rem",color:"#1f2937"},children:r.author?.name||(0,t.__)("Unbekannt","recruiting-playbook")}),r.is_private&&(0,ze.jsxs)("span",{style:{display:"inline-flex",alignItems:"center",gap:"0.25rem",padding:"0.125rem 0.5rem",backgroundColor:"#f59e0b",color:"#fff",borderRadius:"0.25rem",fontSize:"0.6875rem",fontWeight:500},children:[(0,ze.jsx)(Ci,{style:{width:"0.625rem",height:"0.625rem"}}),(0,t.__)("Privat","recruiting-playbook")]}),(0,ze.jsxs)("span",{style:{marginLeft:"auto",fontSize:"0.75rem",color:"#6b7280"},children:[Ni(r.created_at),r.updated_at!==r.created_at&&(0,ze.jsxs)("span",{style:{marginLeft:"0.25rem"},children:["(",(0,t.__)("bearbeitet","recruiting-playbook"),")"]})]})]}),(0,ze.jsx)("div",{style:{fontSize:"0.875rem",color:"#374151",lineHeight:1.6},dangerouslySetInnerHTML:{__html:r.content}}),(r.can_edit||r.can_delete)&&(0,ze.jsxs)("div",{style:{display:"flex",gap:"0.75rem",marginTop:"0.75rem",paddingTop:"0.75rem",borderTop:"1px solid rgba(0,0,0,0.05)"},children:[r.can_edit&&(0,ze.jsxs)("button",{type:"button",onClick:()=>l(!0),disabled:o,style:{display:"inline-flex",alignItems:"center",gap:"0.25rem",background:"none",border:"none",padding:0,color:"#1d71b8",fontSize:"0.75rem",cursor:"pointer"},children:[(0,ze.jsx)(Ei,{style:{width:"0.75rem",height:"0.75rem"}}),(0,t.__)("Bearbeiten","recruiting-playbook")]}),r.can_delete&&(0,ze.jsx)(ze.Fragment,{children:s?(0,ze.jsxs)("span",{style:{display:"flex",alignItems:"center",gap:"0.5rem",fontSize:"0.75rem"},children:[(0,ze.jsx)("span",{children:(0,t.__)("Wirklich lschen?","recruiting-playbook")}),(0,ze.jsx)("button",{type:"button",onClick:async()=>{await i(r.id),c(!1)},disabled:o,style:{background:"none",border:"none",padding:0,color:"#d63638",cursor:"pointer",fontWeight:600},children:(0,t.__)("Ja","recruiting-playbook")}),(0,ze.jsx)("button",{type:"button",onClick:()=>c(!1),disabled:o,style:{background:"none",border:"none",padding:0,color:"#6b7280",cursor:"pointer"},children:(0,t.__)("Nein","recruiting-playbook")})]}):(0,ze.jsxs)("button",{type:"button",onClick:()=>c(!0),disabled:o,style:{display:"inline-flex",alignItems:"center",gap:"0.25rem",background:"none",border:"none",padding:0,color:"#d63638",fontSize:"0.75rem",cursor:"pointer"},children:[(0,ze.jsx)(Ti,{style:{width:"0.75rem",height:"0.75rem"}}),(0,t.__)("Lschen","recruiting-playbook")]})})]})]})}function Ai({applicationId:r,showHeader:n=!0}){const[i,o]=(0,e.useState)(!1),{notes:a,loading:l,error:s,saving:c,fetchNotes:d,createNote:u,updateNote:p,deleteNote:m}=function(t){const[r,n]=(0,e.useState)([]),[i,o]=(0,e.useState)(!0),[a,l]=(0,e.useState)(null),[s,c]=(0,e.useState)(!1),d=(0,e.useCallback)(async()=>{if(t)try{o(!0),l(null);const e=await Gn()({path:`/recruiting/v1/applications/${t}/notes`});n(Array.isArray(e)?e:[])}catch(e){console.error("Error fetching notes:",e),l(e.message||window.rpApplicant?.i18n?.errorLoadingNotes||"Fehler beim Laden der Notizen")}finally{o(!1)}else o(!1)},[t]),u=(0,e.useCallback)(async(e,r=!1)=>{if(!t||!e.trim())return null;try{c(!0),l(null);const i=await Gn()({path:`/recruiting/v1/applications/${t}/notes`,method:"POST",data:{content:e,is_private:r}});return n(e=>[i,...e]),i}catch(e){return console.error("Error creating note:",e),l(e.message||window.rpApplicant?.i18n?.errorCreatingNote||"Fehler beim Erstellen der Notiz"),null}finally{c(!1)}},[t]),p=(0,e.useCallback)(async(e,t)=>{if(!e||!t.trim())return null;try{c(!0),l(null);const r=await Gn()({path:`/recruiting/v1/notes/${e}`,method:"PATCH",data:{content:t}});return n(t=>t.map(t=>t.id===e?r:t)),r}catch(e){return console.error("Error updating note:",e),l(e.message||window.rpApplicant?.i18n?.errorUpdatingNote||"Fehler beim Aktualisieren der Notiz"),null}finally{c(!1)}},[]),m=(0,e.useCallback)(async e=>{if(!e)return!1;const t=[...r];try{return c(!0),l(null),n(t=>t.filter(t=>t.id!==e)),await Gn()({path:`/recruiting/v1/notes/${e}`,method:"DELETE"}),!0}catch(e){return console.error("Error deleting note:",e),n(t),l(e.message||window.rpApplicant?.i18n?.errorDeletingNote||"Fehler beim Lschen der Notiz"),!1}finally{c(!1)}},[r]);return{notes:r,loading:i,error:a,saving:s,fetchNotes:d,createNote:u,updateNote:p,deleteNote:m,refetch:d}}(r);return(0,e.useEffect)(()=>{d()},[d]),l?(0,ze.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",padding:"2rem",gap:"0.5rem",color:"#6b7280"},children:[(0,ze.jsx)(Ri,{}),(0,t.__)("Laden...","recruiting-playbook")]}):(0,ze.jsxs)("div",{children:[n?(0,ze.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"1rem"},children:[(0,ze.jsxs)("h3",{style:{margin:0,fontSize:"1rem",fontWeight:600,color:"#1f2937",display:"flex",alignItems:"center",gap:"0.5rem"},children:[(0,t.__)("Notizen","recruiting-playbook"),a.length>0&&(0,ze.jsx)("span",{style:{backgroundColor:"#e5e7eb",color:"#6b7280",padding:"0.125rem 0.5rem",borderRadius:"9999px",fontSize:"0.75rem",fontWeight:500},children:a.length})]}),!i&&(0,ze.jsxs)(Ye,{size:"sm",onClick:()=>o(!0),children:[(0,ze.jsx)(ei,{style:{width:"1rem",height:"1rem"}}),(0,t.__)("Notiz hinzufgen","recruiting-playbook")]})]}):!i&&(0,ze.jsx)("div",{style:{display:"flex",justifyContent:"flex-end",marginBottom:"1rem"},children:(0,ze.jsxs)(Ye,{size:"sm",onClick:()=>o(!0),children:[(0,ze.jsx)(ei,{style:{width:"1rem",height:"1rem"}}),(0,t.__)("Notiz hinzufgen","recruiting-playbook")]})}),s&&(0,ze.jsx)("div",{style:{padding:"0.75rem",backgroundColor:"#fee2e2",color:"#dc2626",borderRadius:"0.375rem",marginBottom:"1rem",fontSize:"0.875rem"},children:s}),i&&(0,ze.jsx)("div",{style:{marginBottom:"1.5rem",paddingBottom:"1.5rem",borderBottom:"1px solid #e5e7eb"},children:(0,ze.jsx)(zi,{onSave:async(e,t)=>{await u(e,t)&&o(!1)},onCancel:()=>o(!1),saving:c,saveLabel:(0,t.__)("Notiz hinzufgen","recruiting-playbook")})}),(0,ze.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:"0.75rem"},children:0===a.length?(0,ze.jsxs)("div",{style:{textAlign:"center",padding:"2rem",color:"#6b7280"},children:[(0,ze.jsx)(Ei,{style:{width:"2.5rem",height:"2.5rem",marginBottom:"0.75rem",opacity:.3}}),(0,ze.jsx)("p",{style:{margin:"0 0 1rem 0"},children:(0,t.__)("Noch keine Notizen vorhanden.","recruiting-playbook")}),!i&&(0,ze.jsx)(Ye,{variant:"outline",onClick:()=>o(!0),children:(0,t.__)("Erste Notiz hinzufgen","recruiting-playbook")})]}):a.map(e=>(0,ze.jsx)(Di,{note:e,onUpdate:p,onDelete:m,saving:c},e.id))}),(0,ze.jsx)("style",{children:"@keyframes spin { to { transform: rotate(360deg); } }"})]})}const Ii=u("user-check",[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]),Mi=u("message-square",[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]]),Li=u("mail",[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]]),Oi=[{id:"all",label:"Alle"},{id:"status",label:"Status"},{id:"note",label:"Notizen"},{id:"rating",label:"Bewertungen"},{id:"email",label:"E-Mails"},{id:"document",label:"Dokumente"}],Pi={status_changed:Ii,note_added:Mi,note_updated:Mi,rating_added:$n,rating_updated:$n,email_sent:Li,document_uploaded:fi,created:xi},Bi={status_changed:"#1d71b8",note_added:"#6b7280",note_updated:"#6b7280",rating_added:"#f59e0b",rating_updated:"#f59e0b",email_sent:"#2fac66",document_uploaded:"#8b5cf6",created:"#1d71b8"};function Wi({size:e="1rem"}){return(0,ze.jsx)("div",{style:{width:e,height:e,border:"2px solid #e5e7eb",borderTopColor:"#1d71b8",borderRadius:"50%",animation:"spin 0.8s linear infinite"}})}function Fi(e){const r=new Date(e),n=new Date,i=new Date(n);i.setDate(i.getDate()-1);const o=n.toISOString().split("T")[0],a=i.toISOString().split("T")[0];return e===o?(0,t.__)("Heute","recruiting-playbook"):e===a?(0,t.__)("Gestern","recruiting-playbook"):r.toLocaleDateString("de-DE",{weekday:"long",day:"numeric",month:"long",year:"numeric"})}function $i({item:e}){const t=Pi[e.action]||xi,r=Bi[e.action]||"#6b7280";return(0,ze.jsxs)("div",{style:{display:"flex",gap:"0.75rem",padding:"0.75rem",backgroundColor:"#f9fafb",borderRadius:"0.375rem",borderLeft:`3px solid ${r}`},children:[(0,ze.jsx)("div",{style:{width:"1.75rem",height:"1.75rem",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:r,color:"#fff",borderRadius:"50%",flexShrink:0},children:(0,ze.jsx)(t,{style:{width:"0.875rem",height:"0.875rem"}})}),(0,ze.jsxs)("div",{style:{flex:1,minWidth:0},children:[(0,ze.jsxs)("div",{style:{display:"flex",alignItems:"flex-start",gap:"0.5rem",flexWrap:"wrap"},children:[e.user?.avatar&&(0,ze.jsx)("img",{src:e.user.avatar,alt:e.user.name,style:{width:"1.25rem",height:"1.25rem",borderRadius:"50%"}}),(0,ze.jsx)("span",{style:{flex:1,fontSize:"0.8125rem",color:"#374151",lineHeight:1.4},children:e.message}),(0,ze.jsx)("span",{style:{fontSize:"0.6875rem",color:"#9ca3af",whiteSpace:"nowrap"},children:(n=e.created_at,new Date(n).toLocaleTimeString("de-DE",{hour:"2-digit",minute:"2-digit"}))})]}),e.detail&&(0,ze.jsx)("div",{style:{marginTop:"0.5rem",padding:"0.5rem",backgroundColor:"rgba(255,255,255,0.5)",borderRadius:"0.25rem",fontSize:"0.75rem",color:"#6b7280"},children:e.detail})]})]});var n}function Hi({applicationId:r,compact:n=!1,showHeader:i=!0,maxItems:o=0}){const[a,l]=(0,e.useState)("all"),{items:s,loading:c,error:d,hasMore:u,loadMore:p,refresh:g}=function(t,r="all"){const[n,i]=(0,e.useState)([]),[o,a]=(0,e.useState)(!0),[l,s]=(0,e.useState)(null),[c,d]=(0,e.useState)(1),[u,p]=(0,e.useState)(0),[m,g]=(0,e.useState)(0),h=(0,e.useCallback)(async(e=1,n=!1)=>{if(t)try{a(!0),s(null);const o=(e=>{const t={status:["status_changed","application_received"],note:["note_added","note_updated","note_deleted"],rating:["rating_added","rating_updated"],email:["email_sent"],document:["document_viewed","document_downloaded"],talent_pool:["talent_pool_added","talent_pool_removed"]};return"all"!==e&&t[e]?t[e]:[]})(r);let l=`/recruiting/v1/applications/${t}/timeline?page=${e}&per_page=20`;o.length>0&&(l+=`&${o.map(e=>`types[]=${encodeURIComponent(e)}`).join("&")}`);const c=await Gn()({path:l,parse:!1}),u=await c.json(),m=parseInt(c.headers.get("X-WP-Total")||"0",10),h=parseInt(c.headers.get("X-WP-TotalPages")||"0",10);g(m),p(h),d(e),i(n?e=>[...e,...Array.isArray(u)?u:[]]:Array.isArray(u)?u:[])}catch(e){console.error("Error fetching timeline:",e),s(e.message||window.rpApplicant?.i18n?.errorLoadingTimeline||"Fehler beim Laden der Timeline")}finally{a(!1)}else a(!1)},[t,r]);(0,e.useEffect)(()=>{i([]),d(1),h(1,!1)},[h]);const f=(0,e.useCallback)(async()=>{c<u&&!o&&await h(c+1,!0)},[c,u,o,h]),b=(0,e.useCallback)(async()=>{i([]),d(1),await h(1,!1)},[h]);return{items:n,loading:o,error:l,total:m,page:c,totalPages:u,hasMore:c<u,loadMore:f,refresh:b,refetch:b}}(r,a),h=function(e){return e.reduce((e,t)=>{const r=t.created_at.split("T")[0];return e[r]||(e[r]=[]),e[r].push(t),e},{})}(o>0?s.slice(0,o):s);return c&&0===s.length?(0,ze.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",padding:"2rem",gap:"0.5rem",color:"#6b7280"},children:[(0,ze.jsx)(Wi,{}),(0,t.__)("Laden...","recruiting-playbook")]}):(0,ze.jsxs)("div",{children:[i&&!n&&(0,ze.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"1rem"},children:[(0,ze.jsx)("h3",{style:{margin:0,fontSize:"1rem",fontWeight:600,color:"#1f2937"},children:(0,t.__)("Verlauf","recruiting-playbook")}),(0,ze.jsx)("button",{type:"button",onClick:g,disabled:c,title:(0,t.__)("Aktualisieren","recruiting-playbook"),style:{display:"flex",alignItems:"center",justifyContent:"center",width:"2rem",height:"2rem",background:"none",border:"1px solid #e5e7eb",borderRadius:"0.375rem",cursor:"pointer",color:c?"#9ca3af":"#6b7280"},children:(0,ze.jsx)(m,{style:{width:"1rem",height:"1rem",animation:c?"spin 1s linear infinite":"none"}})})]}),!n&&(0,ze.jsx)("div",{style:{display:"flex",flexWrap:"wrap",gap:"0.25rem",marginBottom:"1rem"},children:Oi.map(e=>(0,ze.jsx)("button",{type:"button",onClick:()=>l(e.id),style:{padding:"0.375rem 0.75rem",backgroundColor:a===e.id?"#1d71b8":"#f3f4f6",color:a===e.id?"#fff":"#6b7280",border:"none",borderRadius:"9999px",fontSize:"0.75rem",fontWeight:500,cursor:"pointer",transition:"all 0.15s ease"},children:e.label},e.id))}),d&&(0,ze.jsx)("div",{style:{padding:"0.75rem",backgroundColor:"#fee2e2",color:"#dc2626",borderRadius:"0.375rem",marginBottom:"1rem",fontSize:"0.875rem"},children:d}),(0,ze.jsxs)("div",{children:[0===Object.keys(h).length?(0,ze.jsxs)("div",{style:{textAlign:"center",padding:"2rem",color:"#6b7280"},children:[(0,ze.jsx)(xi,{style:{width:"2.5rem",height:"2.5rem",marginBottom:"0.75rem",opacity:.3}}),(0,ze.jsx)("p",{style:{margin:0},children:(0,t.__)("Noch keine Aktivitten","recruiting-playbook")})]}):Object.entries(h).map(([e,t])=>(0,ze.jsxs)("div",{style:{marginBottom:"1.5rem"},children:[!n&&(0,ze.jsx)("div",{style:{fontSize:"0.75rem",fontWeight:600,color:"#6b7280",textTransform:"uppercase",letterSpacing:"0.05em",marginBottom:"0.75rem",paddingBottom:"0.5rem",borderBottom:"1px solid #e5e7eb"},children:Fi(e)}),(0,ze.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:t.map(e=>(0,ze.jsx)($i,{item:e},e.id))})]},e)),u&&!n&&(0,ze.jsx)("div",{style:{textAlign:"center",marginTop:"1rem"},children:(0,ze.jsx)(Ye,{variant:"outline",onClick:p,disabled:c,children:c?(0,ze.jsxs)(ze.Fragment,{children:[(0,ze.jsx)(Wi,{size:"0.875rem"}),(0,t.__)("Laden...","recruiting-playbook")]}):(0,t.__)("Mehr laden","recruiting-playbook")})})]}),(0,ze.jsx)("style",{children:"@keyframes spin { to { transform: rotate(360deg); } }"})]})}var Ui=i(556),Ki=i.n(Ui);const Vi=u("pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]),Gi=(u("rotate-ccw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]),(0,e.forwardRef)(({className:e,type:t,style:r,...n},i)=>(0,ze.jsx)("input",{type:t,className:Ne("rp-input",e),ref:i,style:{display:"block",width:"100%",height:"40px",padding:"0.5rem 0.75rem",fontSize:"0.875rem",lineHeight:"1.5",color:"#18181b",backgroundColor:"#ffffff",border:"1px solid #d1d5db",borderRadius:"6px",outline:"none",transition:"border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out",...r},onFocus:e=>{e.target.style.borderColor="#1d71b8",e.target.style.boxShadow="0 0 0 3px rgba(29, 113, 184, 0.1)"},onBlur:e=>{e.target.style.borderColor=r?.borderColor||"#d1d5db",e.target.style.boxShadow="none"},...n})));Gi.displayName="Input";const Xi=u("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),qi=(0,e.forwardRef)(({className:e,children:t,style:r,...n},i)=>(0,ze.jsxs)("div",{className:"rp-select-wrapper",style:{position:"relative",display:"inline-block",minWidth:r?.width||"200px"},children:[(0,ze.jsx)("select",{className:Ne("rp-select",e),ref:i,style:{display:"block",width:"100%",height:"40px",borderRadius:"6px",border:"1px solid #e5e7eb",backgroundColor:"#fff",padding:"0 36px 0 12px",fontSize:"14px",lineHeight:"38px",color:"#18181b",cursor:"pointer",outline:"none",WebkitAppearance:"none",MozAppearance:"none",appearance:"none",...r},...n,children:t}),(0,ze.jsx)(Xi,{style:{position:"absolute",right:"12px",top:"50%",transform:"translateY(-50%)",width:"16px",height:"16px",color:"#71717a",pointerEvents:"none"}})]}));qi.displayName="Select";const Yi=({children:e,...t})=>(0,ze.jsx)("option",{...t,children:e}),Zi=Xe("rp-relative rp-w-full rp-rounded-lg rp-border rp-p-4 [&>svg~*]:rp-pl-7 [&>svg+div]:rp-translate-y-[-3px] [&>svg]:rp-absolute [&>svg]:rp-left-4 [&>svg]:rp-top-4 [&>svg]:rp-text-foreground",{variants:{variant:{default:"rp-bg-background rp-text-foreground",success:"",destructive:"rp-border-destructive/50 rp-text-destructive rp-bg-destructive/10 [&>svg]:rp-text-destructive",warning:"rp-border-yellow-500/50 rp-text-yellow-700 rp-bg-yellow-50 [&>svg]:rp-text-yellow-600",info:"rp-border-blue-500/50 rp-text-blue-700 rp-bg-blue-50 [&>svg]:rp-text-blue-600"}},defaultVariants:{variant:"default"}}),Ji=(0,e.forwardRef)(({className:e,variant:t,style:r,...n},i)=>{const o={success:{backgroundColor:"#e6f5ec",borderLeft:"4px solid #2fac66",borderTop:"1px solid #c3e6d1",borderRight:"1px solid #c3e6d1",borderBottom:"1px solid #c3e6d1",color:"#2fac66"},info:{backgroundColor:"#edf4f9",borderLeft:"4px solid #1d71b8",borderTop:"1px solid #d1e3f0",borderRight:"1px solid #d1e3f0",borderBottom:"1px solid #d1e3f0",color:"#1d71b8"}}[t]||{};return(0,ze.jsx)("div",{ref:i,role:"alert",className:Ne(Zi({variant:t}),e),style:{padding:"1rem 1rem 1rem 3rem",position:"relative",borderRadius:"0.375rem",...o,...r},...n})});Ji.displayName="Alert",(0,e.forwardRef)(({className:e,...t},r)=>(0,ze.jsx)("h5",{ref:r,className:Ne("rp-mb-1 rp-font-medium rp-leading-none rp-tracking-tight",e),style:{fontWeight:500,marginBottom:"0.25rem"},...t})).displayName="AlertTitle";const Qi=(0,e.forwardRef)(({className:e,...t},r)=>(0,ze.jsx)("div",{ref:r,className:Ne("rp-text-sm [&_p]:rp-leading-relaxed",e),style:{fontSize:"0.875rem"},...t}));Qi.displayName="AlertDescription";const eo=(0,e.createContext)({});function to({open:t,onOpenChange:r,children:n}){return t?(0,ze.jsx)(eo.Provider,{value:{onOpenChange:r},children:(0,e.createPortal)((0,ze.jsx)("div",{className:"rp-alert-dialog",children:n}),document.body)}):null}const ro=(0,e.forwardRef)(({className:t,children:r,...n},i)=>{const{onOpenChange:o}=(0,e.useContext)(eo);return(0,ze.jsxs)(ze.Fragment,{children:[(0,ze.jsx)("div",{style:{position:"fixed",inset:0,backgroundColor:"rgba(0, 0, 0, 0.5)",zIndex:99999},onClick:()=>o&&o(!1)}),(0,ze.jsx)("div",{ref:i,className:Ne("rp-alert-dialog__content",t),style:{position:"fixed",left:"50%",top:"50%",transform:"translate(-50%, -50%)",zIndex:1e5,width:"100%",maxWidth:"32rem",backgroundColor:"#ffffff",borderRadius:"0.5rem",boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.25)",padding:"1.5rem"},...n,children:r})]})});ro.displayName="AlertDialogContent";const no=({className:e,...t})=>(0,ze.jsx)("div",{className:Ne("rp-alert-dialog__header",e),style:{display:"flex",flexDirection:"column",gap:"0.5rem",textAlign:"center",marginBottom:"1rem"},...t});no.displayName="AlertDialogHeader";const io=({className:e,...t})=>(0,ze.jsx)("div",{className:Ne("rp-alert-dialog__footer",e),style:{display:"flex",flexDirection:"row",justifyContent:"flex-end",gap:"0.5rem",marginTop:"1.5rem"},...t});io.displayName="AlertDialogFooter";const oo=(0,e.forwardRef)(({className:e,...t},r)=>(0,ze.jsx)("h2",{ref:r,className:Ne("rp-alert-dialog__title",e),style:{fontSize:"1.125rem",fontWeight:600,color:"#111827",margin:0},...t}));oo.displayName="AlertDialogTitle";const ao=(0,e.forwardRef)(({className:e,...t},r)=>(0,ze.jsx)("p",{ref:r,className:Ne("rp-alert-dialog__description",e),style:{fontSize:"0.875rem",color:"#6b7280",margin:0},...t}));ao.displayName="AlertDialogDescription";const lo=(0,e.forwardRef)(({className:t,variant:r="default",...n},i)=>{const{onOpenChange:o}=(0,e.useContext)(eo);return(0,ze.jsx)(Ye,{ref:i,className:Ne("rp-alert-dialog__action",t),variant:r,...n,onClick:e=>{n.onClick&&n.onClick(e),o&&o(!1)}})});lo.displayName="AlertDialogAction";const so=(0,e.forwardRef)(({className:t,...r},n)=>{const{onOpenChange:i}=(0,e.useContext)(eo);return(0,ze.jsx)(Ye,{ref:n,variant:"outline",className:Ne("rp-alert-dialog__cancel",t),onClick:()=>i&&i(!1),...r})});so.displayName="AlertDialogCancel",Ki().arrayOf(Ki().shape({id:Ki().number.isRequired,name:Ki().string,subject:Ki().string,category:Ki().string,is_system:Ki().bool,is_default:Ki().bool,is_active:Ki().bool})),Ki().bool,Ki().string,Ki().func,Ki().func,Ki().func,Ki().func,Ki().func;const co=(0,e.forwardRef)(({className:e,checked:t,onCheckedChange:r,disabled:n,...i},o)=>{const a=()=>{!n&&r&&r(!t)};return(0,ze.jsx)("button",{type:"button",role:"switch","aria-checked":t,disabled:n,className:Ne("rp-peer rp-inline-flex rp-h-6 rp-w-11 rp-shrink-0 rp-cursor-pointer rp-items-center rp-rounded-full rp-border-2 rp-border-transparent rp-transition-colors focus-visible:rp-outline-none focus-visible:rp-ring-2 focus-visible:rp-ring-ring focus-visible:rp-ring-offset-2 focus-visible:rp-ring-offset-background disabled:rp-cursor-not-allowed disabled:rp-opacity-50",e),style:{backgroundColor:t?"#1d71b8":"#e5e7eb",width:"2.75rem",height:"1.5rem",borderRadius:"9999px",position:"relative",cursor:n?"not-allowed":"pointer",opacity:n?.5:1},onClick:a,onKeyDown:e=>{"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),a())},ref:o,...i,children:(0,ze.jsx)("span",{style:{display:"block",width:"1.25rem",height:"1.25rem",borderRadius:"9999px",backgroundColor:"#ffffff",boxShadow:"0 1px 3px 0 rgba(0, 0, 0, 0.1)",transition:"transform 150ms",transform:t?"translateX(1.25rem)":"translateX(0.125rem)"}})})});co.displayName="Switch";const uo=(0,e.forwardRef)(({className:e,...t},r)=>(0,ze.jsx)("label",{className:Ne("rp-text-sm rp-font-medium rp-leading-none peer-disabled:rp-cursor-not-allowed peer-disabled:rp-opacity-70",e),ref:r,style:{display:"block",marginBottom:"0.5rem",fontSize:"0.875rem",fontWeight:500,color:"#374151"},...t}));uo.displayName="Label";const po=u("bold",[["path",{d:"M6 12h9a4 4 0 0 1 0 8H7a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h7a4 4 0 0 1 0 8",key:"mg9rjx"}]]),mo=u("italic",[["line",{x1:"19",x2:"10",y1:"4",y2:"4",key:"15jd3p"}],["line",{x1:"14",x2:"5",y1:"20",y2:"20",key:"bu0au3"}],["line",{x1:"15",x2:"9",y1:"4",y2:"20",key:"uljnxc"}]]),go=u("type",[["path",{d:"M12 4v16",key:"1654pz"}],["path",{d:"M4 7V5a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2",key:"e0r10z"}],["path",{d:"M9 20h6",key:"s66wpe"}]]),ho=u("list-ordered",[["path",{d:"M11 5h10",key:"1cz7ny"}],["path",{d:"M11 12h10",key:"1438ji"}],["path",{d:"M11 19h10",key:"11t30w"}],["path",{d:"M4 4h1v5",key:"10yrso"}],["path",{d:"M4 9h2",key:"r1h2o0"}],["path",{d:"M6.5 20H3.4c0-1 2.6-1.925 2.6-3.5a1.5 1.5 0 0 0-2.6-1.02",key:"xtkcd5"}]]),fo=u("link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]),bo=u("table",[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]]),yo=u("minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]),xo=u("remove-formatting",[["path",{d:"M4 7V4h16v3",key:"9msm58"}],["path",{d:"M5 20h6",key:"1h6pxn"}],["path",{d:"M13 4 8 20",key:"kqq6aj"}],["path",{d:"m15 15 5 5",key:"me55sn"}],["path",{d:"m20 15-5 5",key:"11p7ol"}]]),vo=u("code",[["path",{d:"m16 18 6-6-6-6",key:"eg8j8"}],["path",{d:"m8 6-6 6 6 6",key:"ppft3o"}]]),ko=u("undo",[["path",{d:"M3 7v6h6",key:"1v2h90"}],["path",{d:"M21 17a9 9 0 0 0-9-9 9 9 0 0 0-6 2.3L3 13",key:"1r6uu6"}]]),jo=u("redo",[["path",{d:"M21 7v6h-6",key:"3ptur4"}],["path",{d:"M3 17a9 9 0 0 1 9-9 9 9 0 0 1 6 2.3l3 2.7",key:"1kgawr"}]]),wo=[{label:"Klein",value:"12px"},{label:"Normal",value:"16px"},{label:"Gro",value:"20px"},{label:"Sehr gro",value:"24px"}];function _o({active:e,onClick:t,children:r,title:n,disabled:i}){return(0,ze.jsx)("button",{type:"button",onClick:t,disabled:i,title:n,style:{display:"inline-flex",alignItems:"center",justifyContent:"center",width:"2rem",height:"2rem",padding:0,border:"none",borderRadius:"0.25rem",backgroundColor:e?"#e5e7eb":"transparent",color:e?"#1f2937":"#6b7280",cursor:i?"not-allowed":"pointer",opacity:i?.5:1,transition:"all 150ms"},onMouseEnter:t=>{i||e||(t.currentTarget.style.backgroundColor="#f3f4f6")},onMouseLeave:t=>{e||(t.currentTarget.style.backgroundColor="transparent")},children:r})}const So=(0,e.forwardRef)(({className:t,value:r="",onChange:n,placeholder:i="",disabled:o=!1,minHeight:a="200px",...l},s)=>{const c=(0,e.useRef)(null),d=s||c,[u,p]=(0,e.useState)(!1),[m,h]=(0,e.useState)(""),[f,b]=(0,e.useState)(!1),[y,x]=(0,e.useState)(!1),[v,k]=(0,e.useState)(!1),j=(0,e.useRef)(u);(0,e.useEffect)(()=>{!u&&d.current&&d.current.innerHTML!==r&&(d.current.innerHTML=r)},[r,d,u]),(0,e.useEffect)(()=>{!0===j.current&&!1===u&&(d.current&&(d.current.innerHTML=m),n&&n(m)),j.current=u},[u,m,n,d]),(0,e.useEffect)(()=>{u&&h(d.current?.innerHTML||r)},[u]);const w=(0,e.useCallback)((e,t=null)=>{document.execCommand(e,!1,t),d.current?.focus(),n&&d.current&&n(d.current.innerHTML)},[n,d]),_=(0,e.useCallback)(()=>{n&&d.current&&n(d.current.innerHTML)},[n,d]),S=(0,e.useCallback)(e=>{e.preventDefault();const t=e.clipboardData.getData("text/plain");document.execCommand("insertText",!1,t)},[]),C=(0,e.useCallback)(()=>{const e=window.getSelection(),t=e?.toString()||"",r=prompt("URL eingeben:","https://");if(r)if(t)w("createLink",r);else{const e=prompt("Link-Text eingeben:","");e&&document.execCommand("insertHTML",!1,`<a href="${r}" target="_blank" rel="noopener noreferrer">${e}</a>`)}},[w]),E=(0,e.useCallback)(e=>{if(e.ctrlKey||e.metaKey)switch(e.key.toLowerCase()){case"b":e.preventDefault(),w("bold");break;case"i":e.preventDefault(),w("italic");break;case"z":e.preventDefault(),e.shiftKey?w("redo"):w("undo");break;case"y":e.preventDefault(),w("redo")}},[w]),T=(0,e.useCallback)(()=>{w("removeFormat")},[w]),R=(0,e.useCallback)(e=>{const t=window.getSelection();if(t.rangeCount>0&&!t.isCollapsed){const r=t.getRangeAt(0),i=document.createElement("span");i.style.fontSize=e,r.surroundContents(i),n&&d.current&&n(d.current.innerHTML)}k(!1),d.current?.focus()},[n,d]),N=(0,e.useCallback)(()=>{p(e=>!e)},[]),z=(0,e.useCallback)(e=>{h(e.target.value)},[]),D=(0,e.useCallback)(()=>{const e=window.getSelection();if(!e.rangeCount)return null;let t=e.anchorNode;for(;t&&t!==d.current;){if("TD"===t.nodeName||"TH"===t.nodeName)return t;t=t.parentNode}return null},[d]),A=(0,e.useCallback)(()=>{const e=D();if(!e)return null;let t=e;for(;t&&t!==d.current;){if("TABLE"===t.nodeName)return t;t=t.parentNode}return null},[D,d]),I=(0,e.useCallback)(()=>{const e=null!==D();b(e)},[D]);(0,e.useEffect)(()=>(document.addEventListener("selectionchange",I),()=>{document.removeEventListener("selectionchange",I)}),[I]),(0,e.useEffect)(()=>{const e=e=>{e.target.closest(".rp-rich-text-editor__toolbar")||(x(!1),k(!1))};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[y,v]);const M=(0,e.useCallback)(()=>{let e='<table style="border-collapse: collapse; margin: 16px 0;">';for(let t=0;t<2;t++){e+="<tr>";for(let t=0;t<2;t++)e+='<td style="padding: 4px 12px 4px 0;">&nbsp;</td>';e+="</tr>"}e+="</table><p>&nbsp;</p>",document.execCommand("insertHTML",!1,e),n&&d.current&&n(d.current.innerHTML),x(!1)},[n,d]),L=(0,e.useCallback)(()=>{const e=D();if(!e)return;const t=e.parentNode,r=A();if(!t||!r)return;const i=t.cloneNode(!0);Array.from(i.cells).forEach(e=>{e.innerHTML="&nbsp;"}),t.parentNode.insertBefore(i,t.nextSibling),n&&d.current&&n(d.current.innerHTML),x(!1)},[D,A,n,d]),O=(0,e.useCallback)(()=>{const e=D();if(!e)return;const t=A();if(!t)return;const r=e.cellIndex;t.querySelectorAll("tr").forEach(e=>{const t=e.cells[r];if(t){const e=t.cloneNode(!0);e.innerHTML="&nbsp;",t.parentNode.insertBefore(e,t.nextSibling)}}),n&&d.current&&n(d.current.innerHTML),x(!1)},[D,A,n,d]),P=(0,e.useCallback)(()=>{const e=D();if(!e)return;const t=e.parentNode,r=A();t&&r&&(r.querySelectorAll("tr").length<=1||(t.remove(),n&&d.current&&n(d.current.innerHTML),x(!1)))},[D,A,n,d]),B=(0,e.useCallback)(()=>{const e=D();if(!e)return;const t=A();if(!t)return;const r=e.cellIndex,i=t.querySelectorAll("tr");i[0]&&i[0].cells.length<=1||(i.forEach(e=>{e.cells[r]&&e.cells[r].remove()}),n&&d.current&&n(d.current.innerHTML),x(!1))},[D,A,n,d]),W=(0,e.useCallback)(()=>{const e=A();e&&(e.remove(),n&&d.current&&n(d.current.innerHTML),x(!1),b(!1))},[A,n,d]);return(0,ze.jsxs)("div",{className:Ne("rp-rich-text-editor",t),style:{border:"1px solid #e5e7eb",borderRadius:"0.5rem",overflow:"hidden",backgroundColor:"#fff"},children:[(0,ze.jsxs)("div",{className:"rp-rich-text-editor__toolbar",style:{display:"flex",alignItems:"center",gap:"0.25rem",padding:"0.5rem",borderBottom:"1px solid #e5e7eb",backgroundColor:"#fafafa"},children:[(0,ze.jsx)(_o,{onClick:()=>w("bold"),title:"Fett (Strg+B)",disabled:o||u,children:(0,ze.jsx)(po,{style:{width:"1rem",height:"1rem"}})}),(0,ze.jsx)(_o,{onClick:()=>w("italic"),title:"Kursiv (Strg+I)",disabled:o||u,children:(0,ze.jsx)(mo,{style:{width:"1rem",height:"1rem"}})}),(0,ze.jsxs)("div",{style:{position:"relative"},children:[(0,ze.jsx)(_o,{onClick:()=>k(!v),title:"Schriftgre",active:v,disabled:o||u,children:(0,ze.jsx)(go,{style:{width:"1rem",height:"1rem"}})}),v&&(0,ze.jsx)("div",{style:{position:"absolute",top:"100%",left:0,marginTop:"4px",backgroundColor:"#fff",border:"1px solid #e5e7eb",borderRadius:"0.375rem",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)",zIndex:50,minWidth:"120px",padding:"4px 0"},children:wo.map(({label:e,value:t})=>(0,ze.jsx)("button",{type:"button",onClick:()=>R(t),style:{display:"block",width:"100%",padding:"8px 12px",border:"none",background:"none",textAlign:"left",cursor:"pointer",fontSize:t},onMouseEnter:e=>e.currentTarget.style.backgroundColor="#f3f4f6",onMouseLeave:e=>e.currentTarget.style.backgroundColor="transparent",children:e},t))})]}),(0,ze.jsx)("div",{style:{width:"1px",height:"1.5rem",backgroundColor:"#e5e7eb",margin:"0 0.25rem"}}),(0,ze.jsx)(_o,{onClick:()=>w("insertUnorderedList"),title:"Aufzhlung",disabled:o||u,children:(0,ze.jsx)(g,{style:{width:"1rem",height:"1rem"}})}),(0,ze.jsx)(_o,{onClick:()=>w("insertOrderedList"),title:"Nummerierte Liste",disabled:o||u,children:(0,ze.jsx)(ho,{style:{width:"1rem",height:"1rem"}})}),(0,ze.jsx)("div",{style:{width:"1px",height:"1.5rem",backgroundColor:"#e5e7eb",margin:"0 0.25rem"}}),(0,ze.jsx)(_o,{onClick:C,title:"Link einfgen",disabled:o||u,children:(0,ze.jsx)(fo,{style:{width:"1rem",height:"1rem"}})}),(0,ze.jsx)("div",{style:{width:"1px",height:"1.5rem",backgroundColor:"#e5e7eb",margin:"0 0.25rem"}}),(0,ze.jsxs)("div",{style:{position:"relative"},children:[(0,ze.jsx)(_o,{onClick:()=>x(!y),title:"Tabelle",active:y||f,disabled:o||u,children:(0,ze.jsx)(bo,{style:{width:"1rem",height:"1rem"}})}),y&&(0,ze.jsxs)("div",{style:{position:"absolute",top:"100%",left:0,marginTop:"4px",backgroundColor:"#fff",border:"1px solid #e5e7eb",borderRadius:"0.375rem",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)",zIndex:50,minWidth:"160px",padding:"4px 0"},children:[(0,ze.jsxs)("button",{type:"button",onClick:M,style:{display:"flex",alignItems:"center",gap:"8px",width:"100%",padding:"8px 12px",border:"none",background:"none",textAlign:"left",cursor:"pointer",fontSize:"14px"},onMouseEnter:e=>e.currentTarget.style.backgroundColor="#f3f4f6",onMouseLeave:e=>e.currentTarget.style.backgroundColor="transparent",children:[(0,ze.jsx)(ei,{style:{width:"14px",height:"14px"}}),"Tabelle einfgen"]}),f&&(0,ze.jsxs)(ze.Fragment,{children:[(0,ze.jsx)("div",{style:{height:"1px",backgroundColor:"#e5e7eb",margin:"4px 0"}}),(0,ze.jsxs)("button",{type:"button",onClick:L,style:{display:"flex",alignItems:"center",gap:"8px",width:"100%",padding:"8px 12px",border:"none",background:"none",textAlign:"left",cursor:"pointer",fontSize:"14px"},onMouseEnter:e=>e.currentTarget.style.backgroundColor="#f3f4f6",onMouseLeave:e=>e.currentTarget.style.backgroundColor="transparent",children:[(0,ze.jsx)(ei,{style:{width:"14px",height:"14px"}}),"Zeile hinzufgen"]}),(0,ze.jsxs)("button",{type:"button",onClick:O,style:{display:"flex",alignItems:"center",gap:"8px",width:"100%",padding:"8px 12px",border:"none",background:"none",textAlign:"left",cursor:"pointer",fontSize:"14px"},onMouseEnter:e=>e.currentTarget.style.backgroundColor="#f3f4f6",onMouseLeave:e=>e.currentTarget.style.backgroundColor="transparent",children:[(0,ze.jsx)(ei,{style:{width:"14px",height:"14px"}}),"Spalte hinzufgen"]}),(0,ze.jsx)("div",{style:{height:"1px",backgroundColor:"#e5e7eb",margin:"4px 0"}}),(0,ze.jsxs)("button",{type:"button",onClick:P,style:{display:"flex",alignItems:"center",gap:"8px",width:"100%",padding:"8px 12px",border:"none",background:"none",textAlign:"left",cursor:"pointer",fontSize:"14px",color:"#dc2626"},onMouseEnter:e=>e.currentTarget.style.backgroundColor="#fef2f2",onMouseLeave:e=>e.currentTarget.style.backgroundColor="transparent",children:[(0,ze.jsx)(yo,{style:{width:"14px",height:"14px"}}),"Zeile lschen"]}),(0,ze.jsxs)("button",{type:"button",onClick:B,style:{display:"flex",alignItems:"center",gap:"8px",width:"100%",padding:"8px 12px",border:"none",background:"none",textAlign:"left",cursor:"pointer",fontSize:"14px",color:"#dc2626"},onMouseEnter:e=>e.currentTarget.style.backgroundColor="#fef2f2",onMouseLeave:e=>e.currentTarget.style.backgroundColor="transparent",children:[(0,ze.jsx)(yo,{style:{width:"14px",height:"14px"}}),"Spalte lschen"]}),(0,ze.jsxs)("button",{type:"button",onClick:W,style:{display:"flex",alignItems:"center",gap:"8px",width:"100%",padding:"8px 12px",border:"none",background:"none",textAlign:"left",cursor:"pointer",fontSize:"14px",color:"#dc2626"},onMouseEnter:e=>e.currentTarget.style.backgroundColor="#fef2f2",onMouseLeave:e=>e.currentTarget.style.backgroundColor="transparent",children:[(0,ze.jsx)(Ti,{style:{width:"14px",height:"14px"}}),"Tabelle lschen"]})]})]})]}),(0,ze.jsx)("div",{style:{width:"1px",height:"1.5rem",backgroundColor:"#e5e7eb",margin:"0 0.25rem"}}),(0,ze.jsx)(_o,{onClick:T,title:"Formatierung entfernen",disabled:o||u,children:(0,ze.jsx)(xo,{style:{width:"1rem",height:"1rem"}})}),(0,ze.jsx)("div",{style:{flex:1}}),(0,ze.jsx)(_o,{onClick:N,title:u?"Zur Vorschau":"HTML anzeigen",active:u,disabled:o,children:(0,ze.jsx)(vo,{style:{width:"1rem",height:"1rem"}})}),(0,ze.jsx)("div",{style:{width:"1px",height:"1.5rem",backgroundColor:"#e5e7eb",margin:"0 0.25rem"}}),(0,ze.jsx)(_o,{onClick:()=>w("undo"),title:"Rckgngig (Strg+Z)",disabled:o,children:(0,ze.jsx)(ko,{style:{width:"1rem",height:"1rem"}})}),(0,ze.jsx)(_o,{onClick:()=>w("redo"),title:"Wiederholen (Strg+Y)",disabled:o,children:(0,ze.jsx)(jo,{style:{width:"1rem",height:"1rem"}})})]}),!u&&(0,ze.jsx)("div",{ref:d,contentEditable:!o,onInput:_,onPaste:S,onKeyDown:E,"data-placeholder":i,className:"rp-rich-text-editor__content",style:{minHeight:a||"300px",padding:"1.5rem",outline:"none",fontSize:"16px",lineHeight:1.9,color:"#1f2937",overflowY:"auto"},...l}),u&&(0,ze.jsx)("textarea",{value:m,onChange:z,disabled:o,placeholder:"HTML eingeben...",className:"rp-rich-text-editor__source",style:{width:"100%",minHeight:a||"300px",padding:"1rem",border:"none",outline:"none",fontFamily:"monospace",fontSize:"13px",lineHeight:1.6,color:"#1f2937",backgroundColor:"#f8fafc",resize:"vertical",boxSizing:"border-box"}}),(0,ze.jsx)("style",{children:"\n\t\t\t\t.rp-rich-text-editor__content:empty:before {\n\t\t\t\t\tcontent: attr(data-placeholder);\n\t\t\t\t\tcolor: #9ca3af;\n\t\t\t\t\tpointer-events: none;\n\t\t\t\t}\n\t\t\t\t.rp-rich-text-editor__content p {\n\t\t\t\t\tmargin: 0 0 0.75rem 0;\n\t\t\t\t}\n\t\t\t\t.rp-rich-text-editor__content ul,\n\t\t\t\t.rp-rich-text-editor__content ol {\n\t\t\t\t\tmargin: 0 0 0.75rem 0 !important;\n\t\t\t\t\tpadding-left: 1.75rem !important;\n\t\t\t\t\tlist-style-position: outside !important;\n\t\t\t\t}\n\t\t\t\t.rp-rich-text-editor__content ul {\n\t\t\t\t\tlist-style-type: disc !important;\n\t\t\t\t}\n\t\t\t\t.rp-rich-text-editor__content ol {\n\t\t\t\t\tlist-style-type: decimal !important;\n\t\t\t\t}\n\t\t\t\t.rp-rich-text-editor__content li {\n\t\t\t\t\tmargin-bottom: 0.25rem;\n\t\t\t\t\tdisplay: list-item !important;\n\t\t\t\t}\n\t\t\t\t.rp-rich-text-editor__content a {\n\t\t\t\t\tcolor: #1d71b8;\n\t\t\t\t\ttext-decoration: underline;\n\t\t\t\t}\n\t\t\t\t/* CSS Normalization - Keep consistent line-height and font-family */\n\t\t\t\t.rp-rich-text-editor__content * {\n\t\t\t\t\tline-height: inherit !important;\n\t\t\t\t\tfont-family: inherit !important;\n\t\t\t\t}\n\t\t\t\t/* Allow explicit font-size in spans (user-set), normalize others */\n\t\t\t\t.rp-rich-text-editor__content td,\n\t\t\t\t.rp-rich-text-editor__content th,\n\t\t\t\t.rp-rich-text-editor__content p {\n\t\t\t\t\tfont-size: inherit;\n\t\t\t\t}\n\t\t\t\t.rp-rich-text-editor__content table {\n\t\t\t\t\tborder-collapse: collapse;\n\t\t\t\t\tmargin: 0.75rem 0;\n\t\t\t\t\tborder: 1px solid #e5e7eb;\n\t\t\t\t}\n\t\t\t\t.rp-rich-text-editor__content td,\n\t\t\t\t.rp-rich-text-editor__content th {\n\t\t\t\t\tpadding: 0.25rem 0.75rem 0.25rem 0.25rem !important;\n\t\t\t\t\tvertical-align: top;\n\t\t\t\t\ttext-align: left;\n\t\t\t\t\tborder: 1px solid #e5e7eb;\n\t\t\t\t\tmin-width: 40px;\n\t\t\t\t}\n\t\t\t\t.rp-rich-text-editor__content strong,\n\t\t\t\t.rp-rich-text-editor__content b {\n\t\t\t\t\tfont-weight: 600;\n\t\t\t\t}\n\t\t\t"})]})});So.displayName="RichTextEditor";const Co=u("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);function Eo({placeholders:t={},style:r={}}){const[n,i]=(0,e.useState)(null),o=window.rpEmailData?.i18n||{},a=(0,e.useCallback)(e=>{const t=`{${e}}`;navigator.clipboard.writeText(t).then(()=>{i(e),setTimeout(()=>i(null),1500)})},[]);return(0,ze.jsxs)("div",{style:{backgroundColor:"#fafafa",border:"1px solid #e5e7eb",borderRadius:"8px",padding:"16px",...r},children:[(0,ze.jsx)("h3",{style:{fontSize:"14px",fontWeight:600,color:"#18181b",marginTop:0,marginBottom:"16px"},children:o.placeholders||"Platzhalter"}),(0,ze.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"16px"},children:[Object.entries(t).map(([e,t])=>(0,ze.jsxs)("div",{children:[(0,ze.jsx)("h4",{style:{fontSize:"11px",fontWeight:600,textTransform:"uppercase",letterSpacing:"0.05em",color:"#71717a",marginTop:0,marginBottom:"8px"},children:t.label||e}),(0,ze.jsx)("ul",{style:{listStyle:"none",margin:0,padding:0},children:Object.entries(t.placeholders||{}).map(([e])=>(0,ze.jsxs)("li",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",height:"28px",padding:"0 4px",borderRadius:"4px",transition:"background-color 150ms"},onMouseEnter:e=>{e.currentTarget.style.backgroundColor="#f0f0f0"},onMouseLeave:e=>{e.currentTarget.style.backgroundColor="transparent"},children:[(0,ze.jsx)("code",{style:{fontSize:"12px",fontFamily:'ui-monospace, SFMono-Regular, "SF Mono", Menlo, Consolas, monospace',color:"#374151"},children:`{${e}}`}),(0,ze.jsx)("button",{type:"button",onClick:()=>a(e),title:o.copyToClipboard||"In Zwischenablage kopieren",style:{display:"flex",alignItems:"center",justifyContent:"center",width:"24px",height:"24px",border:"none",background:"transparent",borderRadius:"4px",cursor:"pointer",color:n===e?"#22c55e":"#9ca3af",transition:"color 150ms, background-color 150ms"},onMouseEnter:t=>{n!==e&&(t.currentTarget.style.backgroundColor="#e5e7eb",t.currentTarget.style.color="#6b7280")},onMouseLeave:t=>{t.currentTarget.style.backgroundColor="transparent",n!==e&&(t.currentTarget.style.color="#9ca3af")},children:n===e?(0,ze.jsx)(Co,{style:{width:"14px",height:"14px"}}):(0,ze.jsx)(hi,{style:{width:"14px",height:"14px"}})})]},e))})]},e)),0===Object.keys(t).length&&(0,ze.jsx)("p",{style:{color:"#9ca3af",fontStyle:"italic",textAlign:"center",margin:0,fontSize:"13px"},children:o.noPlaceholders||"Keine Platzhalter verfgbar."})]})]})}Eo.propTypes={placeholders:Ki().objectOf(Ki().shape({label:Ki().string,items:Ki().objectOf(Ki().shape({label:Ki().string,description:Ki().string}))})),style:Ki().object};const{entries:To,setPrototypeOf:Ro,isFrozen:No,getPrototypeOf:zo,getOwnPropertyDescriptor:Do}=Object;let{freeze:Ao,seal:Io,create:Mo}=Object,{apply:Lo,construct:Oo}="undefined"!=typeof Reflect&&Reflect;Ao||(Ao=function(e){return e}),Io||(Io=function(e){return e}),Lo||(Lo=function(e,t){for(var r=arguments.length,n=new Array(r>2?r-2:0),i=2;i<r;i++)n[i-2]=arguments[i];return e.apply(t,n)}),Oo||(Oo=function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return new e(...r)});const Po=Qo(Array.prototype.forEach),Bo=Qo(Array.prototype.lastIndexOf),Wo=Qo(Array.prototype.pop),Fo=Qo(Array.prototype.push),$o=Qo(Array.prototype.splice),Ho=Qo(String.prototype.toLowerCase),Uo=Qo(String.prototype.toString),Ko=Qo(String.prototype.match),Vo=Qo(String.prototype.replace),Go=Qo(String.prototype.indexOf),Xo=Qo(String.prototype.trim),qo=Qo(Object.prototype.hasOwnProperty),Yo=Qo(RegExp.prototype.test),Zo=(Jo=TypeError,function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return Oo(Jo,t)});var Jo;function Qo(e){return function(t){t instanceof RegExp&&(t.lastIndex=0);for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return Lo(e,t,n)}}function ea(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ho;Ro&&Ro(e,null);let n=t.length;for(;n--;){let i=t[n];if("string"==typeof i){const e=r(i);e!==i&&(No(t)||(t[n]=e),i=e)}e[i]=!0}return e}function ta(e){for(let t=0;t<e.length;t++)qo(e,t)||(e[t]=null);return e}function ra(e){const t=Mo(null);for(const[r,n]of To(e))qo(e,r)&&(Array.isArray(n)?t[r]=ta(n):n&&"object"==typeof n&&n.constructor===Object?t[r]=ra(n):t[r]=n);return t}function na(e,t){for(;null!==e;){const r=Do(e,t);if(r){if(r.get)return Qo(r.get);if("function"==typeof r.value)return Qo(r.value)}e=zo(e)}return function(){return null}}const ia=Ao(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","search","section","select","shadow","slot","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),oa=Ao(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","enterkeyhint","exportparts","filter","font","g","glyph","glyphref","hkern","image","inputmode","line","lineargradient","marker","mask","metadata","mpath","part","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),aa=Ao(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),la=Ao(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),sa=Ao(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),ca=Ao(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),da=Ao(["#text"]),ua=Ao(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","exportparts","face","for","headers","height","hidden","high","href","hreflang","id","inert","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","part","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","slot","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),pa=Ao(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","mask-type","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),ma=Ao(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),ga=Ao(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),ha=Io(/\{\{[\w\W]*|[\w\W]*\}\}/gm),fa=Io(/<%[\w\W]*|[\w\W]*%>/gm),ba=Io(/\$\{[\w\W]*/gm),ya=Io(/^data-[\-\w.\u00B7-\uFFFF]+$/),xa=Io(/^aria-[\-\w]+$/),va=Io(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),ka=Io(/^(?:\w+script|data):/i),ja=Io(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),wa=Io(/^html$/i),_a=Io(/^[a-z][.\w]*(-[.\w]+)+$/i);var Sa=Object.freeze({__proto__:null,ARIA_ATTR:xa,ATTR_WHITESPACE:ja,CUSTOM_ELEMENT:_a,DATA_ATTR:ya,DOCTYPE_NAME:wa,ERB_EXPR:fa,IS_ALLOWED_URI:va,IS_SCRIPT_OR_DATA:ka,MUSTACHE_EXPR:ha,TMPLIT_EXPR:ba});const Ca=function(){return"undefined"==typeof window?null:window};var Ea=function e(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ca();const r=t=>e(t);if(r.version="3.3.1",r.removed=[],!t||!t.document||9!==t.document.nodeType||!t.Element)return r.isSupported=!1,r;let{document:n}=t;const i=n,o=i.currentScript,{DocumentFragment:a,HTMLTemplateElement:l,Node:s,Element:c,NodeFilter:d,NamedNodeMap:u=t.NamedNodeMap||t.MozNamedAttrMap,HTMLFormElement:p,DOMParser:m,trustedTypes:g}=t,h=c.prototype,f=na(h,"cloneNode"),b=na(h,"remove"),y=na(h,"nextSibling"),x=na(h,"childNodes"),v=na(h,"parentNode");if("function"==typeof l){const e=n.createElement("template");e.content&&e.content.ownerDocument&&(n=e.content.ownerDocument)}let k,j="";const{implementation:w,createNodeIterator:_,createDocumentFragment:S,getElementsByTagName:C}=n,{importNode:E}=i;let T={afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]};r.isSupported="function"==typeof To&&"function"==typeof v&&w&&void 0!==w.createHTMLDocument;const{MUSTACHE_EXPR:R,ERB_EXPR:N,TMPLIT_EXPR:z,DATA_ATTR:D,ARIA_ATTR:A,IS_SCRIPT_OR_DATA:I,ATTR_WHITESPACE:M,CUSTOM_ELEMENT:L}=Sa;let{IS_ALLOWED_URI:O}=Sa,P=null;const B=ea({},[...ia,...oa,...aa,...sa,...da]);let W=null;const F=ea({},[...ua,...pa,...ma,...ga]);let $=Object.seal(Mo(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),H=null,U=null;const K=Object.seal(Mo(null,{tagCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeCheck:{writable:!0,configurable:!1,enumerable:!0,value:null}}));let V=!0,G=!0,X=!1,q=!0,Y=!1,Z=!0,J=!1,Q=!1,ee=!1,te=!1,re=!1,ne=!1,ie=!0,oe=!1,ae=!0,le=!1,se={},ce=null;const de=ea({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let ue=null;const pe=ea({},["audio","video","img","source","image","track"]);let me=null;const ge=ea({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),he="http://www.w3.org/1998/Math/MathML",fe="http://www.w3.org/2000/svg",be="http://www.w3.org/1999/xhtml";let ye=be,xe=!1,ve=null;const ke=ea({},[he,fe,be],Uo);let je=ea({},["mi","mo","mn","ms","mtext"]),we=ea({},["annotation-xml"]);const _e=ea({},["title","style","font","a","script"]);let Se=null;const Ce=["application/xhtml+xml","text/html"];let Ee=null,Te=null;const Re=n.createElement("form"),Ne=function(e){return e instanceof RegExp||e instanceof Function},ze=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!Te||Te!==e){if(e&&"object"==typeof e||(e={}),e=ra(e),Se=-1===Ce.indexOf(e.PARSER_MEDIA_TYPE)?"text/html":e.PARSER_MEDIA_TYPE,Ee="application/xhtml+xml"===Se?Uo:Ho,P=qo(e,"ALLOWED_TAGS")?ea({},e.ALLOWED_TAGS,Ee):B,W=qo(e,"ALLOWED_ATTR")?ea({},e.ALLOWED_ATTR,Ee):F,ve=qo(e,"ALLOWED_NAMESPACES")?ea({},e.ALLOWED_NAMESPACES,Uo):ke,me=qo(e,"ADD_URI_SAFE_ATTR")?ea(ra(ge),e.ADD_URI_SAFE_ATTR,Ee):ge,ue=qo(e,"ADD_DATA_URI_TAGS")?ea(ra(pe),e.ADD_DATA_URI_TAGS,Ee):pe,ce=qo(e,"FORBID_CONTENTS")?ea({},e.FORBID_CONTENTS,Ee):de,H=qo(e,"FORBID_TAGS")?ea({},e.FORBID_TAGS,Ee):ra({}),U=qo(e,"FORBID_ATTR")?ea({},e.FORBID_ATTR,Ee):ra({}),se=!!qo(e,"USE_PROFILES")&&e.USE_PROFILES,V=!1!==e.ALLOW_ARIA_ATTR,G=!1!==e.ALLOW_DATA_ATTR,X=e.ALLOW_UNKNOWN_PROTOCOLS||!1,q=!1!==e.ALLOW_SELF_CLOSE_IN_ATTR,Y=e.SAFE_FOR_TEMPLATES||!1,Z=!1!==e.SAFE_FOR_XML,J=e.WHOLE_DOCUMENT||!1,te=e.RETURN_DOM||!1,re=e.RETURN_DOM_FRAGMENT||!1,ne=e.RETURN_TRUSTED_TYPE||!1,ee=e.FORCE_BODY||!1,ie=!1!==e.SANITIZE_DOM,oe=e.SANITIZE_NAMED_PROPS||!1,ae=!1!==e.KEEP_CONTENT,le=e.IN_PLACE||!1,O=e.ALLOWED_URI_REGEXP||va,ye=e.NAMESPACE||be,je=e.MATHML_TEXT_INTEGRATION_POINTS||je,we=e.HTML_INTEGRATION_POINTS||we,$=e.CUSTOM_ELEMENT_HANDLING||{},e.CUSTOM_ELEMENT_HANDLING&&Ne(e.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&($.tagNameCheck=e.CUSTOM_ELEMENT_HANDLING.tagNameCheck),e.CUSTOM_ELEMENT_HANDLING&&Ne(e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&($.attributeNameCheck=e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),e.CUSTOM_ELEMENT_HANDLING&&"boolean"==typeof e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&($.allowCustomizedBuiltInElements=e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Y&&(G=!1),re&&(te=!0),se&&(P=ea({},da),W=[],!0===se.html&&(ea(P,ia),ea(W,ua)),!0===se.svg&&(ea(P,oa),ea(W,pa),ea(W,ga)),!0===se.svgFilters&&(ea(P,aa),ea(W,pa),ea(W,ga)),!0===se.mathMl&&(ea(P,sa),ea(W,ma),ea(W,ga))),e.ADD_TAGS&&("function"==typeof e.ADD_TAGS?K.tagCheck=e.ADD_TAGS:(P===B&&(P=ra(P)),ea(P,e.ADD_TAGS,Ee))),e.ADD_ATTR&&("function"==typeof e.ADD_ATTR?K.attributeCheck=e.ADD_ATTR:(W===F&&(W=ra(W)),ea(W,e.ADD_ATTR,Ee))),e.ADD_URI_SAFE_ATTR&&ea(me,e.ADD_URI_SAFE_ATTR,Ee),e.FORBID_CONTENTS&&(ce===de&&(ce=ra(ce)),ea(ce,e.FORBID_CONTENTS,Ee)),e.ADD_FORBID_CONTENTS&&(ce===de&&(ce=ra(ce)),ea(ce,e.ADD_FORBID_CONTENTS,Ee)),ae&&(P["#text"]=!0),J&&ea(P,["html","head","body"]),P.table&&(ea(P,["tbody"]),delete H.tbody),e.TRUSTED_TYPES_POLICY){if("function"!=typeof e.TRUSTED_TYPES_POLICY.createHTML)throw Zo('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if("function"!=typeof e.TRUSTED_TYPES_POLICY.createScriptURL)throw Zo('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');k=e.TRUSTED_TYPES_POLICY,j=k.createHTML("")}else void 0===k&&(k=function(e,t){if("object"!=typeof e||"function"!=typeof e.createPolicy)return null;let r=null;const n="data-tt-policy-suffix";t&&t.hasAttribute(n)&&(r=t.getAttribute(n));const i="dompurify"+(r?"#"+r:"");try{return e.createPolicy(i,{createHTML:e=>e,createScriptURL:e=>e})}catch(e){return console.warn("TrustedTypes policy "+i+" could not be created."),null}}(g,o)),null!==k&&"string"==typeof j&&(j=k.createHTML(""));Ao&&Ao(e),Te=e}},De=ea({},[...oa,...aa,...la]),Ae=ea({},[...sa,...ca]),Ie=function(e){Fo(r.removed,{element:e});try{v(e).removeChild(e)}catch(t){b(e)}},Me=function(e,t){try{Fo(r.removed,{attribute:t.getAttributeNode(e),from:t})}catch(e){Fo(r.removed,{attribute:null,from:t})}if(t.removeAttribute(e),"is"===e)if(te||re)try{Ie(t)}catch(e){}else try{t.setAttribute(e,"")}catch(e){}},Le=function(e){let t=null,r=null;if(ee)e="<remove></remove>"+e;else{const t=Ko(e,/^[\r\n\t ]+/);r=t&&t[0]}"application/xhtml+xml"===Se&&ye===be&&(e='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+e+"</body></html>");const i=k?k.createHTML(e):e;if(ye===be)try{t=(new m).parseFromString(i,Se)}catch(e){}if(!t||!t.documentElement){t=w.createDocument(ye,"template",null);try{t.documentElement.innerHTML=xe?j:i}catch(e){}}const o=t.body||t.documentElement;return e&&r&&o.insertBefore(n.createTextNode(r),o.childNodes[0]||null),ye===be?C.call(t,J?"html":"body")[0]:J?t.documentElement:o},Oe=function(e){return _.call(e.ownerDocument||e,e,d.SHOW_ELEMENT|d.SHOW_COMMENT|d.SHOW_TEXT|d.SHOW_PROCESSING_INSTRUCTION|d.SHOW_CDATA_SECTION,null)},Pe=function(e){return e instanceof p&&("string"!=typeof e.nodeName||"string"!=typeof e.textContent||"function"!=typeof e.removeChild||!(e.attributes instanceof u)||"function"!=typeof e.removeAttribute||"function"!=typeof e.setAttribute||"string"!=typeof e.namespaceURI||"function"!=typeof e.insertBefore||"function"!=typeof e.hasChildNodes)},Be=function(e){return"function"==typeof s&&e instanceof s};function We(e,t,n){Po(e,e=>{e.call(r,t,n,Te)})}const Fe=function(e){let t=null;if(We(T.beforeSanitizeElements,e,null),Pe(e))return Ie(e),!0;const n=Ee(e.nodeName);if(We(T.uponSanitizeElement,e,{tagName:n,allowedTags:P}),Z&&e.hasChildNodes()&&!Be(e.firstElementChild)&&Yo(/<[/\w!]/g,e.innerHTML)&&Yo(/<[/\w!]/g,e.textContent))return Ie(e),!0;if(7===e.nodeType)return Ie(e),!0;if(Z&&8===e.nodeType&&Yo(/<[/\w]/g,e.data))return Ie(e),!0;if(!(K.tagCheck instanceof Function&&K.tagCheck(n))&&(!P[n]||H[n])){if(!H[n]&&He(n)){if($.tagNameCheck instanceof RegExp&&Yo($.tagNameCheck,n))return!1;if($.tagNameCheck instanceof Function&&$.tagNameCheck(n))return!1}if(ae&&!ce[n]){const t=v(e)||e.parentNode,r=x(e)||e.childNodes;if(r&&t)for(let n=r.length-1;n>=0;--n){const i=f(r[n],!0);i.__removalCount=(e.__removalCount||0)+1,t.insertBefore(i,y(e))}}return Ie(e),!0}return e instanceof c&&!function(e){let t=v(e);t&&t.tagName||(t={namespaceURI:ye,tagName:"template"});const r=Ho(e.tagName),n=Ho(t.tagName);return!!ve[e.namespaceURI]&&(e.namespaceURI===fe?t.namespaceURI===be?"svg"===r:t.namespaceURI===he?"svg"===r&&("annotation-xml"===n||je[n]):Boolean(De[r]):e.namespaceURI===he?t.namespaceURI===be?"math"===r:t.namespaceURI===fe?"math"===r&&we[n]:Boolean(Ae[r]):e.namespaceURI===be?!(t.namespaceURI===fe&&!we[n])&&!(t.namespaceURI===he&&!je[n])&&!Ae[r]&&(_e[r]||!De[r]):!("application/xhtml+xml"!==Se||!ve[e.namespaceURI]))}(e)?(Ie(e),!0):"noscript"!==n&&"noembed"!==n&&"noframes"!==n||!Yo(/<\/no(script|embed|frames)/i,e.innerHTML)?(Y&&3===e.nodeType&&(t=e.textContent,Po([R,N,z],e=>{t=Vo(t,e," ")}),e.textContent!==t&&(Fo(r.removed,{element:e.cloneNode()}),e.textContent=t)),We(T.afterSanitizeElements,e,null),!1):(Ie(e),!0)},$e=function(e,t,r){if(ie&&("id"===t||"name"===t)&&(r in n||r in Re))return!1;if(G&&!U[t]&&Yo(D,t));else if(V&&Yo(A,t));else if(K.attributeCheck instanceof Function&&K.attributeCheck(t,e));else if(!W[t]||U[t]){if(!(He(e)&&($.tagNameCheck instanceof RegExp&&Yo($.tagNameCheck,e)||$.tagNameCheck instanceof Function&&$.tagNameCheck(e))&&($.attributeNameCheck instanceof RegExp&&Yo($.attributeNameCheck,t)||$.attributeNameCheck instanceof Function&&$.attributeNameCheck(t,e))||"is"===t&&$.allowCustomizedBuiltInElements&&($.tagNameCheck instanceof RegExp&&Yo($.tagNameCheck,r)||$.tagNameCheck instanceof Function&&$.tagNameCheck(r))))return!1}else if(me[t]);else if(Yo(O,Vo(r,M,"")));else if("src"!==t&&"xlink:href"!==t&&"href"!==t||"script"===e||0!==Go(r,"data:")||!ue[e])if(X&&!Yo(I,Vo(r,M,"")));else if(r)return!1;return!0},He=function(e){return"annotation-xml"!==e&&Ko(e,L)},Ue=function(e){We(T.beforeSanitizeAttributes,e,null);const{attributes:t}=e;if(!t||Pe(e))return;const n={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:W,forceKeepAttr:void 0};let i=t.length;for(;i--;){const o=t[i],{name:a,namespaceURI:l,value:s}=o,c=Ee(a),d=s;let u="value"===a?d:Xo(d);if(n.attrName=c,n.attrValue=u,n.keepAttr=!0,n.forceKeepAttr=void 0,We(T.uponSanitizeAttribute,e,n),u=n.attrValue,!oe||"id"!==c&&"name"!==c||(Me(a,e),u="user-content-"+u),Z&&Yo(/((--!?|])>)|<\/(style|title|textarea)/i,u)){Me(a,e);continue}if("attributename"===c&&Ko(u,"href")){Me(a,e);continue}if(n.forceKeepAttr)continue;if(!n.keepAttr){Me(a,e);continue}if(!q&&Yo(/\/>/i,u)){Me(a,e);continue}Y&&Po([R,N,z],e=>{u=Vo(u,e," ")});const p=Ee(e.nodeName);if($e(p,c,u)){if(k&&"object"==typeof g&&"function"==typeof g.getAttributeType)if(l);else switch(g.getAttributeType(p,c)){case"TrustedHTML":u=k.createHTML(u);break;case"TrustedScriptURL":u=k.createScriptURL(u)}if(u!==d)try{l?e.setAttributeNS(l,a,u):e.setAttribute(a,u),Pe(e)?Ie(e):Wo(r.removed)}catch(t){Me(a,e)}}else Me(a,e)}We(T.afterSanitizeAttributes,e,null)},Ke=function e(t){let r=null;const n=Oe(t);for(We(T.beforeSanitizeShadowDOM,t,null);r=n.nextNode();)We(T.uponSanitizeShadowNode,r,null),Fe(r),Ue(r),r.content instanceof a&&e(r.content);We(T.afterSanitizeShadowDOM,t,null)};return r.sanitize=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=null,o=null,l=null,c=null;if(xe=!e,xe&&(e="\x3c!--\x3e"),"string"!=typeof e&&!Be(e)){if("function"!=typeof e.toString)throw Zo("toString is not a function");if("string"!=typeof(e=e.toString()))throw Zo("dirty is not a string, aborting")}if(!r.isSupported)return e;if(Q||ze(t),r.removed=[],"string"==typeof e&&(le=!1),le){if(e.nodeName){const t=Ee(e.nodeName);if(!P[t]||H[t])throw Zo("root node is forbidden and cannot be sanitized in-place")}}else if(e instanceof s)n=Le("\x3c!----\x3e"),o=n.ownerDocument.importNode(e,!0),1===o.nodeType&&"BODY"===o.nodeName||"HTML"===o.nodeName?n=o:n.appendChild(o);else{if(!te&&!Y&&!J&&-1===e.indexOf("<"))return k&&ne?k.createHTML(e):e;if(n=Le(e),!n)return te?null:ne?j:""}n&&ee&&Ie(n.firstChild);const d=Oe(le?e:n);for(;l=d.nextNode();)Fe(l),Ue(l),l.content instanceof a&&Ke(l.content);if(le)return e;if(te){if(re)for(c=S.call(n.ownerDocument);n.firstChild;)c.appendChild(n.firstChild);else c=n;return(W.shadowroot||W.shadowrootmode)&&(c=E.call(i,c,!0)),c}let u=J?n.outerHTML:n.innerHTML;return J&&P["!doctype"]&&n.ownerDocument&&n.ownerDocument.doctype&&n.ownerDocument.doctype.name&&Yo(wa,n.ownerDocument.doctype.name)&&(u="<!DOCTYPE "+n.ownerDocument.doctype.name+">\n"+u),Y&&Po([R,N,z],e=>{u=Vo(u,e," ")}),k&&ne?k.createHTML(u):u},r.setConfig=function(){ze(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),Q=!0},r.clearConfig=function(){Te=null,Q=!1},r.isValidAttribute=function(e,t,r){Te||ze({});const n=Ee(e),i=Ee(t);return $e(n,i,r)},r.addHook=function(e,t){"function"==typeof t&&Fo(T[e],t)},r.removeHook=function(e,t){if(void 0!==t){const r=Bo(T[e],t);return-1===r?void 0:$o(T[e],r,1)[0]}return Wo(T[e])},r.removeHooks=function(e){T[e]=[]},r.removeAllHooks=function(){T={afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}},r}();const Ta={ALLOWED_TAGS:["p","br","strong","em","b","i","a","ul","ol","li","div","span","table","thead","tbody","tr","td","th","h1","h2","h3","h4","h5","h6"],ALLOWED_ATTR:["href","target","rel","style","colspan","rowspan"]};function Ra({subject:e="",body:t="",recipient:r=""}){const n=window.rpEmailData?.i18n||{};return(0,ze.jsx)("div",{className:"rp-email-preview",children:(0,ze.jsxs)(De,{children:[(0,ze.jsx)(Ae,{children:(0,ze.jsx)(Ie,{children:n.preview||"Vorschau"})}),(0,ze.jsxs)(Le,{children:[(0,ze.jsxs)("div",{className:"rp-email-preview__envelope",style:{marginBottom:"1rem",paddingBottom:"1rem",borderBottom:"1px solid #e5e7eb"},children:[r&&(0,ze.jsxs)("div",{className:"rp-email-preview__to",style:{display:"flex",gap:"0.5rem",marginBottom:"0.5rem"},children:[(0,ze.jsxs)("span",{className:"rp-email-preview__label",style:{fontWeight:500,color:"#6b7280"},children:[n.to||"An",":"]}),(0,ze.jsx)("span",{className:"rp-email-preview__value",children:r})]}),(0,ze.jsxs)("div",{className:"rp-email-preview__subject",style:{display:"flex",gap:"0.5rem"},children:[(0,ze.jsxs)("span",{className:"rp-email-preview__label",style:{fontWeight:500,color:"#6b7280"},children:[n.subject||"Betreff",":"]}),(0,ze.jsx)("span",{className:"rp-email-preview__value",children:e||(0,ze.jsx)("em",{className:"rp-email-preview__placeholder",style:{color:"#9ca3af"},children:n.noSubject||"(Kein Betreff)"})})]})]}),(0,ze.jsx)("div",{className:"rp-email-preview__body",children:t?(0,ze.jsxs)(ze.Fragment,{children:[(0,ze.jsx)("div",{className:"rp-email-preview__content",style:{lineHeight:1.6,color:"#374151"},dangerouslySetInnerHTML:{__html:(e=>{if(!e)return"";if(function(e){return!!e&&/<[a-z][\s\S]*>/i.test(e)}(e))return Ea.sanitize(e,Ta);let t=e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\*\*(.+?)\*\*/g,"<strong>$1</strong>").replace(/\*(.+?)\*/g,"<em>$1</em>").replace(/\[([^\]]+)\]\(([^)]+)\)/g,(e,t,r)=>{const n=t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;");return`<a href="${/^https?:\/\//.test(r)?r:"#"}" target="_blank" rel="noopener noreferrer">${n}</a>`}).replace(/\n\n/g,"</p><p>").replace(/\n/g,"<br>");return Ea.sanitize(`<p>${t}</p>`,Ta)})(t)}}),(0,ze.jsx)("style",{children:"\n\t\t\t\t\t\t\t\t\t.rp-email-preview__content ul,\n\t\t\t\t\t\t\t\t\t.rp-email-preview__content ol {\n\t\t\t\t\t\t\t\t\t\tmargin: 0.75rem 0;\n\t\t\t\t\t\t\t\t\t\tpadding-left: 1.75rem;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t.rp-email-preview__content ul {\n\t\t\t\t\t\t\t\t\t\tlist-style-type: disc;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t.rp-email-preview__content ol {\n\t\t\t\t\t\t\t\t\t\tlist-style-type: decimal;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t.rp-email-preview__content li {\n\t\t\t\t\t\t\t\t\t\tmargin-bottom: 0.25rem;\n\t\t\t\t\t\t\t\t\t\tdisplay: list-item;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t.rp-email-preview__content table {\n\t\t\t\t\t\t\t\t\t\tborder-collapse: collapse;\n\t\t\t\t\t\t\t\t\t\tmargin: 0.75rem 0;\n\t\t\t\t\t\t\t\t\t\tborder: none;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t.rp-email-preview__content td,\n\t\t\t\t\t\t\t\t\t.rp-email-preview__content th {\n\t\t\t\t\t\t\t\t\t\tpadding: 0.25rem 1rem 0.25rem 0;\n\t\t\t\t\t\t\t\t\t\tborder: none;\n\t\t\t\t\t\t\t\t\t\ttext-align: left;\n\t\t\t\t\t\t\t\t\t\tvertical-align: top;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t.rp-email-preview__content a {\n\t\t\t\t\t\t\t\t\t\tcolor: #1d71b8;\n\t\t\t\t\t\t\t\t\t\ttext-decoration: underline;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t.rp-email-preview__content p {\n\t\t\t\t\t\t\t\t\t\tmargin: 0 0 0.75rem 0;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t"})]}):(0,ze.jsx)("p",{className:"rp-email-preview__placeholder",style:{color:"#9ca3af",fontStyle:"italic"},children:n.noContent||"(Kein Inhalt)"})})]})]})})}function Na(e,t,r={}){const{escape:n=!0}=r;if(!e)return"";if(!t||"object"!=typeof t)return e;let i=e;return Object.entries(t).forEach(([e,t])=>{const r=e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),o=new RegExp(`\\{${r}\\}`,"g"),a=n?null==(l=t)?"":String(l).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;"):String(t);var l;i=i.replace(o,a)}),i}function za({templates:r=[],signatures:n=[],placeholders:i={},previewValues:o={},recipient:a={},applicationId:l=null,sending:s=!1,error:c=null,onSend:d,onCancel:u}){const[p,m]=(0,e.useState)(""),[g,h]=(0,e.useState)(""),[f,b]=(0,e.useState)({to:a.email||"",subject:"",body:""}),[y,x]=(0,e.useState)("compose"),[v,k]=(0,e.useState)({}),j=window.rpEmailData?.i18n||{};(0,e.useEffect)(()=>{if(n.length>0&&!g){const e=n.find(e=>e.is_default);e?h(String(e.id)):n[0]&&h(String(n[0].id))}},[n,g]),(0,e.useEffect)(()=>{a.email&&b(e=>({...e,to:a.email}))},[a.email]);const w=(0,e.useCallback)(e=>{if(m(e),!e)return;const t=r.find(t=>String(t.id)===e);t&&b(e=>({...e,subject:t.subject||"",body:t.body_html||t.body||""}))},[r]),_=(0,e.useCallback)((e,t)=>{b(r=>({...r,[e]:t})),k(t=>{if(!t[e])return t;const r={...t};return delete r[e],r})},[]),S=(0,e.useCallback)(e=>Na(e,o),[o]),C=(0,e.useCallback)(()=>{const e={};return f.to.trim()?/^[a-zA-Z0-9._%+-]{1,64}@[a-zA-Z0-9.-]{1,255}\.[a-zA-Z]{2,}$/.test(f.to.trim())||(e.to=j.invalidEmail||(0,t.__)("Ungltige E-Mail-Adresse","recruiting-playbook")):e.to=j.recipientRequired||(0,t.__)("Empfnger ist erforderlich","recruiting-playbook"),f.subject.trim()?f.subject.length>255&&(e.subject=`${j.subjectTooLong||(0,t.__)("Betreff zu lang","recruiting-playbook")} (max. 255)`):e.subject=j.subjectRequired||(0,t.__)("Betreff ist erforderlich","recruiting-playbook"),f.body.trim()?f.body.length>5e4&&(e.body=`${j.bodyTooLong||(0,t.__)("Inhalt zu lang","recruiting-playbook")} (max. 50000)`):e.body=j.bodyRequired||(0,t.__)("Inhalt ist erforderlich","recruiting-playbook"),k(e),0===Object.keys(e).length},[f,j]),E=(0,e.useCallback)(()=>{if(!C())return;const e={to:f.to,subject:f.subject,body:f.body,template_id:p||null,application_id:l,send_immediately:!0};g&&(e.signature_id=parseInt(g,10)),d&&d(e)},[f,p,g,l,C,d]);return(0,ze.jsxs)("div",{className:"rp-email-composer",children:[c&&(0,ze.jsx)(Ji,{variant:"destructive",style:{marginBottom:"1rem"},children:(0,ze.jsx)(Qi,{children:c})}),(0,ze.jsxs)(De,{children:[(0,ze.jsx)(Ae,{children:(0,ze.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,ze.jsx)(Ie,{children:j.composeEmail||(0,t.__)("E-Mail verfassen","recruiting-playbook")}),(0,ze.jsxs)("div",{style:{display:"flex",gap:"0.5rem"},children:[(0,ze.jsx)(Ye,{variant:"compose"===y?"default":"outline",size:"sm",onClick:()=>x("compose"),children:j.compose||(0,t.__)("Verfassen","recruiting-playbook")}),(0,ze.jsx)(Ye,{variant:"preview"===y?"default":"outline",size:"sm",onClick:()=>x("preview"),children:j.preview||(0,t.__)("Vorschau","recruiting-playbook")})]})]})}),(0,ze.jsxs)(Le,{children:["compose"===y?(0,ze.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 280px",gap:"1.5rem"},children:[(0,ze.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[(0,ze.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:[(0,ze.jsxs)("div",{children:[(0,ze.jsx)(uo,{htmlFor:"template",children:j.template||(0,t.__)("Template","recruiting-playbook")}),(0,ze.jsxs)(qi,{id:"template",value:p,onChange:e=>w(e.target.value),children:[(0,ze.jsx)("option",{value:"",children:j.selectTemplate||(0,t.__)("-- Template auswhlen --","recruiting-playbook")}),r.map(e=>(0,ze.jsx)("option",{value:String(e.id),children:e.name},e.id))]})]}),(0,ze.jsxs)("div",{children:[(0,ze.jsx)(uo,{htmlFor:"signature",children:j.signature||(0,t.__)("Signatur","recruiting-playbook")}),(0,ze.jsxs)(qi,{id:"signature",value:g,onChange:e=>h(e.target.value),children:[(0,ze.jsx)("option",{value:"",children:j.companySignature||(0,t.__)("Firmen-Signatur (Standard)","recruiting-playbook")}),n.map(e=>(0,ze.jsxs)("option",{value:String(e.id),children:[e.name,e.is_default?` (${j.default||"Standard"})`:""]},e.id))]})]})]}),(0,ze.jsxs)("div",{children:[(0,ze.jsx)(uo,{htmlFor:"recipient",children:j.recipient||(0,t.__)("Empfnger","recruiting-playbook")}),(0,ze.jsx)(Gi,{id:"recipient",type:"email",value:f.to,onChange:e=>_("to",e.target.value),style:v.to?{borderColor:"#d63638"}:{}}),v.to&&(0,ze.jsx)("p",{style:{color:"#d63638",fontSize:"0.75rem",marginTop:"0.25rem"},children:v.to})]}),(0,ze.jsxs)("div",{children:[(0,ze.jsx)(uo,{htmlFor:"subject",children:j.subject||(0,t.__)("Betreff","recruiting-playbook")}),(0,ze.jsx)(Gi,{id:"subject",type:"text",value:f.subject,onChange:e=>_("subject",e.target.value),style:v.subject?{borderColor:"#d63638"}:{}}),v.subject&&(0,ze.jsx)("p",{style:{color:"#d63638",fontSize:"0.75rem",marginTop:"0.25rem"},children:v.subject})]}),(0,ze.jsxs)("div",{children:[(0,ze.jsx)(uo,{htmlFor:"body",children:j.message||(0,t.__)("Nachricht","recruiting-playbook")}),(0,ze.jsx)(So,{value:f.body,onChange:e=>_("body",e),placeholder:j.messagePlaceholder||(0,t.__)("Nachricht eingeben...","recruiting-playbook"),style:v.body?{borderColor:"#d63638"}:{}}),v.body&&(0,ze.jsx)("p",{style:{color:"#d63638",fontSize:"0.75rem",marginTop:"0.25rem"},children:v.body})]})]}),(0,ze.jsx)(Eo,{placeholders:i})]}):(0,ze.jsx)(Ra,{subject:S(f.subject),body:S(f.body),recipient:f.to}),(0,ze.jsxs)("div",{style:{display:"flex",justifyContent:"flex-end",gap:"0.75rem",marginTop:"1.5rem",paddingTop:"1.5rem",borderTop:"1px solid #e5e7eb"},children:[(0,ze.jsx)(Ye,{variant:"outline",onClick:u,disabled:s,children:j.cancel||(0,t.__)("Abbrechen","recruiting-playbook")}),(0,ze.jsx)(Ye,{onClick:E,disabled:s,children:s?(0,ze.jsxs)(ze.Fragment,{children:[(0,ze.jsx)(Si,{size:"sm",style:{marginRight:"0.5rem"}}),j.sending||(0,t.__)("Senden...","recruiting-playbook")]}):j.send||(0,t.__)("Senden","recruiting-playbook")})]})]})]})]})}Ra.propTypes={subject:Ki().string,body:Ki().string,recipient:Ki().string},Ki().shape({id:Ki().number,name:Ki().string,subject:Ki().string,body:Ki().string,body_html:Ki().string,category:Ki().string,is_active:Ki().bool,is_system:Ki().bool}),Ki().object,Ki().object,Ki().bool,Ki().string,Ki().func.isRequired,Ki().func.isRequired,Ki().arrayOf(Ki().shape({id:Ki().number.isRequired,name:Ki().string,body:Ki().string,is_default:Ki().bool})),Ki().bool,Ki().string,Ki().func,Ki().func,Ki().func,Ki().func,Ki().shape({id:Ki().number,name:Ki().string,content:Ki().string,is_default:Ki().bool}),Ki().bool,Ki().string,Ki().func.isRequired,Ki().func.isRequired,Ki().func,Ki().array,za.propTypes={templates:Ki().arrayOf(Ki().shape({id:Ki().number.isRequired,name:Ki().string,subject:Ki().string,body:Ki().string})),signatures:Ki().arrayOf(Ki().shape({id:Ki().number.isRequired,name:Ki().string,is_default:Ki().bool})),placeholders:Ki().object,previewValues:Ki().object,recipient:Ki().shape({email:Ki().string,name:Ki().string}),applicationId:Ki().number,sending:Ki().bool,error:Ki().string,onSend:Ki().func.isRequired,onCancel:Ki().func.isRequired};const Da=u("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),Aa=u("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),Ia=u("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),Ma={ALLOWED_TAGS:["p","br","strong","em","b","i","a","ul","ol","li","h1","h2","h3","h4","div","span"],ALLOWED_ATTR:["href","target","rel","class","style"],FORBID_TAGS:["script","iframe","object","embed","form","input"]};function La({status:e}){const r={sent:{label:(0,t.__)("Gesendet","recruiting-playbook"),variant:"success"},failed:{label:(0,t.__)("Fehlgeschlagen","recruiting-playbook"),variant:"destructive"},pending:{label:(0,t.__)("Ausstehend","recruiting-playbook"),variant:"warning"},scheduled:{label:(0,t.__)("Geplant","recruiting-playbook"),variant:"secondary"},cancelled:{label:(0,t.__)("Storniert","recruiting-playbook"),variant:"outline"}},n=r[e]||r.pending,i={success:{backgroundColor:"#dcfce7",color:"#166534",border:"1px solid #bbf7d0"},destructive:{backgroundColor:"#fef2f2",color:"#dc2626",border:"1px solid #fecaca"},warning:{backgroundColor:"#fefce8",color:"#ca8a04",border:"1px solid #fef08a"},secondary:{backgroundColor:"#f4f4f5",color:"#3f3f46",border:"1px solid #e4e4e7"},outline:{backgroundColor:"transparent",color:"#71717a",border:"1px solid #e4e4e7"}},o=i[n.variant]||i.secondary;return(0,ze.jsx)("span",{style:{display:"inline-flex",alignItems:"center",padding:"0.25rem 0.625rem",borderRadius:"9999px",fontSize:"0.75rem",fontWeight:500,lineHeight:1,...o},children:n.label})}function Oa({title:e,children:t,onClose:r}){return(0,ze.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e5,padding:"1rem"},onClick:r,children:(0,ze.jsxs)("div",{style:{backgroundColor:"#fff",borderRadius:"0.75rem",boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.25)",maxWidth:"700px",width:"100%",maxHeight:"90vh",overflow:"hidden",display:"flex",flexDirection:"column"},onClick:e=>e.stopPropagation(),children:[(0,ze.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"1.25rem 1.5rem",borderBottom:"1px solid #e5e7eb"},children:[(0,ze.jsx)("h3",{style:{margin:0,fontSize:"1.125rem",fontWeight:600,color:"#18181b"},children:e}),(0,ze.jsx)(Ye,{variant:"ghost",size:"icon",onClick:r,children:(0,ze.jsx)(Qn,{style:{width:"1.25rem",height:"1.25rem"}})})]}),(0,ze.jsx)("div",{style:{overflow:"auto",flex:1},children:t})]})})}function Pa({emails:r=[],loading:n=!1,error:i=null,pagination:o={},onResend:a,onCancel:l,onPageChange:s,action:c=null}){const[d,u]=(0,e.useState)(""),[p,g]=(0,e.useState)(null),[h,f]=(0,e.useState)(!1),[b,y]=(0,e.useState)(null),[x,v]=(0,e.useState)(null),k=(0,e.useCallback)(async e=>{f(!0),g(e);try{const t=await Gn()({path:`/recruiting/v1/emails/log/${e.id}`});g(t)}catch(e){console.error("Error fetching email details:",e)}finally{f(!1)}},[]),j=(0,e.useMemo)(()=>d?r.filter(e=>e.status===d):r,[r,d]),w=[{value:"",label:(0,t.__)("Alle Status","recruiting-playbook")},{value:"sent",label:(0,t.__)("Gesendet","recruiting-playbook")},{value:"failed",label:(0,t.__)("Fehlgeschlagen","recruiting-playbook")},{value:"pending",label:(0,t.__)("Ausstehend","recruiting-playbook")},{value:"scheduled",label:(0,t.__)("Geplant","recruiting-playbook")},{value:"cancelled",label:(0,t.__)("Storniert","recruiting-playbook")}],_=e=>e?new Date(e).toLocaleString("de-DE",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}):"-";return n?(0,ze.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",padding:"4rem",gap:"0.75rem",color:"#71717a"},children:[(0,ze.jsx)(Si,{size:"default"}),(0,ze.jsx)("span",{children:(0,t.__)("Lade E-Mail-Verlauf...","recruiting-playbook")})]}):(0,ze.jsxs)("div",{children:[i&&(0,ze.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem",padding:"1rem",backgroundColor:"#fef2f2",border:"1px solid #fecaca",borderRadius:"0.5rem",marginBottom:"1.5rem",color:"#dc2626",fontSize:"0.875rem"},children:[(0,ze.jsx)(Da,{style:{width:"1.25rem",height:"1.25rem",flexShrink:0}}),i]}),(0,ze.jsxs)(De,{style:{border:"1px solid #e5e7eb",borderRadius:"8px",boxShadow:"0 1px 3px rgba(0,0,0,0.1)"},children:[(0,ze.jsx)(Ae,{style:{padding:"20px 24px 16px 24px"},children:(0,ze.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",gap:"1rem"},children:[(0,ze.jsx)("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:(0,ze.jsxs)("div",{children:[(0,ze.jsx)(Ie,{style:{fontSize:"1.125rem",fontWeight:600,color:"#18181b",margin:0},children:(0,t.__)("E-Mail Verlauf","recruiting-playbook")}),(0,ze.jsx)(Me,{style:{marginTop:"4px",fontSize:"0.875rem",color:"#71717a"},children:r.length>0?`${r.length} ${1===r.length?(0,t.__)("E-Mail","recruiting-playbook"):(0,t.__)("E-Mails","recruiting-playbook")}`:(0,t.__)("Keine E-Mails vorhanden","recruiting-playbook")})]})}),(0,ze.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[(0,ze.jsx)(qi,{value:d,onChange:e=>u(e.target.value),style:{minWidth:"160px"},children:w.map(e=>(0,ze.jsx)(Yi,{value:e.value,children:e.label},e.value))}),c]})]})}),(0,ze.jsx)(Le,{style:{padding:0},children:0===j.length?(0,ze.jsxs)("div",{style:{textAlign:"center",padding:"4rem 2rem",color:"#71717a"},children:[(0,ze.jsx)(Li,{style:{width:"3rem",height:"3rem",margin:"0 auto 1rem",opacity:.3}}),(0,ze.jsx)("p",{style:{margin:0,fontSize:"0.875rem"},children:(0,t.__)("Keine E-Mails gefunden.","recruiting-playbook")})]}):(0,ze.jsxs)(ze.Fragment,{children:[(0,ze.jsx)("div",{style:{overflowX:"auto"},children:(0,ze.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:"0.875rem"},children:[(0,ze.jsx)("thead",{children:(0,ze.jsxs)("tr",{style:{backgroundColor:"#fafafa",borderBottom:"1px solid #e5e7eb"},children:[(0,ze.jsx)("th",{style:{padding:"12px 16px",paddingLeft:"24px",textAlign:"left",fontWeight:500,fontSize:"12px",textTransform:"uppercase",letterSpacing:"0.05em",color:"#71717a",whiteSpace:"nowrap"},children:(0,t.__)("Datum","recruiting-playbook")}),(0,ze.jsx)("th",{style:{padding:"12px 16px",textAlign:"left",fontWeight:500,fontSize:"12px",textTransform:"uppercase",letterSpacing:"0.05em",color:"#71717a",whiteSpace:"nowrap"},children:(0,t.__)("Empfnger","recruiting-playbook")}),(0,ze.jsx)("th",{style:{padding:"12px 16px",textAlign:"left",fontWeight:500,fontSize:"12px",textTransform:"uppercase",letterSpacing:"0.05em",color:"#71717a",whiteSpace:"nowrap"},children:(0,t.__)("Betreff","recruiting-playbook")}),(0,ze.jsx)("th",{style:{padding:"12px 16px",textAlign:"left",fontWeight:500,fontSize:"12px",textTransform:"uppercase",letterSpacing:"0.05em",color:"#71717a",whiteSpace:"nowrap"},children:(0,t.__)("Status","recruiting-playbook")}),(0,ze.jsx)("th",{style:{padding:"12px 16px",paddingRight:"24px",textAlign:"left",fontWeight:500,fontSize:"12px",textTransform:"uppercase",letterSpacing:"0.05em",color:"#71717a",whiteSpace:"nowrap",width:"100px"},children:(0,t.__)("Aktionen","recruiting-playbook")})]})}),(0,ze.jsx)("tbody",{children:j.map((e,r)=>(0,ze.jsxs)("tr",{style:{borderBottom:r<j.length-1?"1px solid #e5e7eb":"none",transition:"background-color 150ms"},onMouseEnter:e=>{e.currentTarget.style.backgroundColor="#fafafa"},onMouseLeave:e=>{e.currentTarget.style.backgroundColor="transparent"},children:[(0,ze.jsx)("td",{style:{padding:"16px",paddingLeft:"24px",whiteSpace:"nowrap",color:"#71717a"},title:"scheduled"===e.status?_(e.scheduled_at):_(e.sent_at||e.created_at),children:"scheduled"===e.status?_(e.scheduled_at):_(e.sent_at||e.created_at)}),(0,ze.jsx)("td",{style:{padding:"16px",fontWeight:500,color:"#18181b",maxWidth:"200px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},title:e.recipient?.email||e.recipient_email,children:e.recipient?.email||e.recipient_email}),(0,ze.jsx)("td",{style:{padding:"16px",maxWidth:"280px"},children:(0,ze.jsx)("button",{type:"button",onClick:()=>k(e),title:e.subject,style:{background:"none",border:"none",padding:0,color:"#18181b",cursor:"pointer",fontSize:"0.875rem",textAlign:"left",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",display:"block"},onMouseEnter:e=>{e.currentTarget.style.color="#1d71b8"},onMouseLeave:e=>{e.currentTarget.style.color="#18181b"},children:e.subject})}),(0,ze.jsx)("td",{style:{padding:"16px"},children:(0,ze.jsx)(La,{status:e.status})}),(0,ze.jsx)("td",{style:{padding:"16px",paddingRight:"24px"},children:(0,ze.jsxs)("div",{style:{display:"flex",gap:"4px"},children:[(0,ze.jsx)(Ye,{variant:"ghost",size:"icon",onClick:()=>k(e),title:(0,t.__)("Anzeigen","recruiting-playbook"),children:(0,ze.jsx)(bi,{style:{width:"1rem",height:"1rem"}})}),"failed"===e.status&&(0,ze.jsx)(Ye,{variant:"ghost",size:"icon",onClick:()=>y(e),title:(0,t.__)("Erneut senden","recruiting-playbook"),children:(0,ze.jsx)(m,{style:{width:"1rem",height:"1rem"}})}),e.can_cancel&&(0,ze.jsx)(Ye,{variant:"ghost",size:"icon",onClick:()=>v(e),title:(0,t.__)("Stornieren","recruiting-playbook"),children:(0,ze.jsx)(Qn,{style:{width:"1rem",height:"1rem",color:"#dc2626"}})})]})})]},e.id))})]})}),o.pages>1&&(0,ze.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"1rem 1.5rem",borderTop:"1px solid #e5e7eb"},children:[(0,ze.jsxs)("span",{style:{fontSize:"0.875rem",color:"#71717a"},children:[(0,t.__)("Seite","recruiting-playbook")," ",o.page," ",(0,t.__)("von","recruiting-playbook")," ",o.pages]}),(0,ze.jsxs)("div",{style:{display:"flex",gap:"0.5rem"},children:[(0,ze.jsxs)(Ye,{variant:"outline",size:"sm",disabled:o.page<=1,onClick:()=>s&&s(o.page-1),children:[(0,ze.jsx)(Aa,{style:{width:"1rem",height:"1rem",marginRight:"0.25rem"}}),(0,t.__)("Zurck","recruiting-playbook")]}),(0,ze.jsxs)(Ye,{variant:"outline",size:"sm",disabled:o.page>=o.pages,onClick:()=>s&&s(o.page+1),children:[(0,t.__)("Weiter","recruiting-playbook"),(0,ze.jsx)(Ia,{style:{width:"1rem",height:"1rem",marginLeft:"0.25rem"}})]})]})]})]})})]}),p&&(0,ze.jsx)(Oa,{title:p.subject,onClose:()=>g(null),children:(0,ze.jsxs)("div",{style:{padding:"1.5rem"},children:[(0,ze.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"auto 1fr",gap:"0.5rem 1rem",padding:"1rem",backgroundColor:"#fafafa",borderRadius:"0.5rem",fontSize:"0.875rem",marginBottom:"1.5rem"},children:[(0,ze.jsxs)("span",{style:{color:"#71717a",fontWeight:500},children:[(0,t.__)("Empfnger","recruiting-playbook"),":"]}),(0,ze.jsx)("span",{style:{color:"#18181b"},children:p.recipient?.email||p.recipient_email}),(0,ze.jsxs)("span",{style:{color:"#71717a",fontWeight:500},children:[(0,t.__)("Datum","recruiting-playbook"),":"]}),(0,ze.jsx)("span",{style:{color:"#18181b"},children:_(p.sent_at||p.created_at)}),(0,ze.jsxs)("span",{style:{color:"#71717a",fontWeight:500},children:[(0,t.__)("Status","recruiting-playbook"),":"]}),(0,ze.jsx)("span",{children:(0,ze.jsx)(La,{status:p.status})})]}),p.error_message&&(0,ze.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem",padding:"1rem",backgroundColor:"#fef2f2",border:"1px solid #fecaca",borderRadius:"0.5rem",marginBottom:"1.5rem",color:"#dc2626",fontSize:"0.875rem"},children:[(0,ze.jsx)(Da,{style:{width:"1.25rem",height:"1.25rem",flexShrink:0}}),p.error_message]}),(0,ze.jsxs)("div",{children:[(0,ze.jsx)("h4",{style:{margin:"0 0 0.75rem 0",fontSize:"0.75rem",fontWeight:600,textTransform:"uppercase",letterSpacing:"0.05em",color:"#71717a"},children:(0,t.__)("Nachricht","recruiting-playbook")}),h?(0,ze.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",padding:"3rem",color:"#71717a"},children:[(0,ze.jsx)(Si,{size:"default"}),(0,ze.jsx)("span",{style:{marginLeft:"0.75rem"},children:(0,t.__)("Lade...","recruiting-playbook")})]}):(0,ze.jsx)("div",{style:{padding:"1.25rem",backgroundColor:"#fafafa",borderRadius:"0.5rem",border:"1px solid #e5e7eb",fontSize:"0.875rem",lineHeight:1.7,color:"#18181b"},dangerouslySetInnerHTML:{__html:Ea.sanitize(p.body_html||p.body||"",Ma)}})]})]})}),(0,ze.jsx)(to,{open:!!b,onOpenChange:()=>y(null),children:(0,ze.jsxs)(ro,{children:[(0,ze.jsxs)(no,{children:[(0,ze.jsx)(oo,{children:(0,t.__)("E-Mail erneut senden","recruiting-playbook")}),(0,ze.jsx)(ao,{children:(0,t.__)("Mchten Sie diese E-Mail erneut senden?","recruiting-playbook")})]}),(0,ze.jsxs)(io,{children:[(0,ze.jsx)(so,{children:(0,t.__)("Abbrechen","recruiting-playbook")}),(0,ze.jsx)(lo,{onClick:()=>{b&&a&&a(b.id),y(null)},children:(0,t.__)("Erneut senden","recruiting-playbook")})]})]})}),(0,ze.jsx)(to,{open:!!x,onOpenChange:()=>v(null),children:(0,ze.jsxs)(ro,{children:[(0,ze.jsxs)(no,{children:[(0,ze.jsx)(oo,{children:(0,t.__)("E-Mail stornieren","recruiting-playbook")}),(0,ze.jsx)(ao,{children:(0,t.__)("Mchten Sie diese geplante E-Mail stornieren?","recruiting-playbook")})]}),(0,ze.jsxs)(io,{children:[(0,ze.jsx)(so,{children:(0,t.__)("Abbrechen","recruiting-playbook")}),(0,ze.jsx)(lo,{onClick:()=>{x&&l&&l(x.id),v(null)},variant:"destructive",children:(0,t.__)("Stornieren","recruiting-playbook")})]})]})})]})}function Ba(e,t,r="Ein Fehler ist aufgetreten"){return"AbortError"===e?.name||(function(e){return"rest_cookie_invalid_nonce"===e?.code||"rest_forbidden"===e?.code||401===e?.data?.status||403===e?.data?.status}(e)?(console.warn("Authentication error, reloading page..."),window.location.reload(),!0):(t&&t(e?.message||r),!1))}function Wa({applicationId:t,recipient:r={}}){const[n,i]=(0,e.useState)("history"),[o,a]=(0,e.useState)(null),l=window.rpApplicant?.i18n||window.rpEmailData?.i18n||{},{templates:s,loading:c}=function(t={}){const[r,n]=(0,e.useState)([]),[i,o]=(0,e.useState)(!0),[a,l]=(0,e.useState)(null),[s,c]=(0,e.useState)(!1),d=t?.category,u=window.rpEmailData?.i18n||{},p=u.errorLoading||"Fehler beim Laden der Templates",m=u.errorSaving||"Fehler beim Speichern",g=u.errorDeleting||"Fehler beim Lschen",h=(0,e.useRef)(null),f=(0,e.useRef)(!0),b=(0,e.useCallback)(async()=>{h.current&&h.current.abort(),h.current=new AbortController;try{o(!0),l(null);let e="/recruiting/v1/email-templates";const t=new URLSearchParams;d&&t.append("category",d),t.toString()&&(e+="?"+t.toString());const r=await Gn()({path:e,signal:h.current.signal});f.current&&n(r.items||r||[])}catch(e){if("AbortError"===e?.name)return;f.current&&!Ba(e,l,p)&&console.error("Error fetching templates:",e)}finally{f.current&&o(!1)}},[d,p]);(0,e.useEffect)(()=>(f.current=!0,b(),()=>{f.current=!1,h.current&&h.current.abort()}),[b]);const y=(0,e.useCallback)(async e=>{try{c(!0),l(null);const t=await Gn()({path:"/recruiting/v1/email-templates",method:"POST",data:e});if(!f.current)return null;const r=t.template||t;return n(e=>[r,...e]),r}catch(e){return f.current?(Ba(e,l,m)||console.error("Error creating template:",e),null):null}finally{f.current&&c(!1)}},[m]),x=(0,e.useCallback)(async(e,t)=>{try{c(!0),l(null);const r=await Gn()({path:`/recruiting/v1/email-templates/${e}`,method:"PATCH",data:t});if(!f.current)return null;const i=r.template||r;return n(t=>t.map(t=>t.id===e?i:t)),i}catch(e){return f.current?(Ba(e,l,m)||console.error("Error updating template:",e),null):null}finally{f.current&&c(!1)}},[m]),v=(0,e.useCallback)(async e=>{const t=[...r];try{return c(!0),l(null),n(t=>t.filter(t=>t.id!==e)),await Gn()({path:`/recruiting/v1/email-templates/${e}`,method:"DELETE"}),!0}catch(e){return!!f.current&&(n(t),Ba(e,l,g)||console.error("Error deleting template:",e),!1)}finally{f.current&&c(!1)}},[r,g]),k=(0,e.useCallback)(async(e,t="")=>{try{c(!0),l(null);const r=await Gn()({path:`/recruiting/v1/email-templates/${e}/duplicate`,method:"POST",data:{name:t}});if(!f.current)return null;const i=r.template||r;return n(e=>[i,...e]),i}catch(e){return f.current?(Ba(e,l,m)||console.error("Error duplicating template:",e),null):null}finally{f.current&&c(!1)}},[m]),j=(0,e.useCallback)(async e=>{try{c(!0),l(null);const t=await Gn()({path:`/recruiting/v1/email-templates/${e}/reset`,method:"POST"});if(!f.current)return null;const r=t.template||t;return n(t=>t.map(t=>t.id===e?r:t)),r}catch(e){return f.current?(Ba(e,l,m)||console.error("Error resetting template:",e),null):null}finally{f.current&&c(!1)}},[m]);return{templates:r,loading:i,error:a,saving:s,fetchTemplates:b,createTemplate:y,updateTemplate:x,deleteTemplate:v,duplicateTemplate:k,resetTemplate:j,refetch:b}}(),{signatures:d,loading:u}=function(){const[t,r]=(0,e.useState)([]),[n,i]=(0,e.useState)(!0),[o,a]=(0,e.useState)(null),[l,s]=(0,e.useState)(!1),c=window.rpEmailData?.i18n||{},d=c.errorLoading||"Fehler beim Laden der Signaturen",u=c.errorSaving||"Fehler beim Speichern",p=c.errorDeleting||"Fehler beim Lschen",m=(0,e.useRef)(null),g=(0,e.useRef)(!0),h=(0,e.useCallback)(async()=>{m.current&&m.current.abort(),m.current=new AbortController;try{i(!0),a(null);const e=await Gn()({path:"/recruiting/v1/signatures",signal:m.current.signal});g.current&&r(e.signatures||e.items||(Array.isArray(e)?e:[]))}catch(e){if("AbortError"===e?.name)return;g.current&&!Ba(e,a,d)&&console.error("Error fetching signatures:",e)}finally{g.current&&i(!1)}},[d]);(0,e.useEffect)(()=>(g.current=!0,h(),()=>{g.current=!1,m.current&&m.current.abort()}),[h]);const f=(0,e.useCallback)(async e=>{try{s(!0),a(null);const t=await Gn()({path:"/recruiting/v1/signatures",method:"POST",data:e});if(!g.current)return null;const n=t.signature||t;return r(e=>[n,...e]),n}catch(e){return g.current?(Ba(e,a,u)||console.error("Error creating signature:",e),null):null}finally{g.current&&s(!1)}},[u]),b=(0,e.useCallback)(async(e,t)=>{try{s(!0),a(null);const n=await Gn()({path:`/recruiting/v1/signatures/${e}`,method:"PUT",data:t});if(!g.current)return null;const i=n.signature||n;return r(t=>t.map(t=>t.id===e?i:t)),i}catch(e){return g.current?(Ba(e,a,u)||console.error("Error updating signature:",e),null):null}finally{g.current&&s(!1)}},[u]),y=(0,e.useCallback)(async e=>{const n=[...t];try{return s(!0),a(null),r(t=>t.filter(t=>t.id!==e)),await Gn()({path:`/recruiting/v1/signatures/${e}`,method:"DELETE"}),!0}catch(e){return!!g.current&&(r(n),Ba(e,a,p)||console.error("Error deleting signature:",e),!1)}finally{g.current&&s(!1)}},[t,p]),x=(0,e.useCallback)(async e=>{try{return s(!0),a(null),await Gn()({path:`/recruiting/v1/signatures/${e}/default`,method:"POST"}),!!g.current&&(r(t=>t.map(t=>({...t,is_default:t.id===e}))),!0)}catch(e){return!!g.current&&(Ba(e,a,u)||console.error("Error setting default signature:",e),!1)}finally{g.current&&s(!1)}},[u]),v=(0,e.useCallback)(async e=>{try{return(await Gn()({path:"/recruiting/v1/signatures/preview",method:"POST",data:e})).html||null}catch(e){return console.error("Error generating signature preview:",e),null}},[]),k=(0,e.useCallback)(async()=>{try{return(await Gn()({path:"/recruiting/v1/signatures/options"})).options||[]}catch(e){return console.error("Error fetching signature options:",e),[]}},[]),j=(0,e.useCallback)(()=>t.find(e=>e.is_default)||t[0]||null,[t]);return{signatures:t,loading:n,error:o,saving:l,fetchSignatures:h,createSignature:f,updateSignature:b,deleteSignature:y,setDefaultSignature:x,previewSignature:v,getSignatureOptions:k,getDefaultSignature:j,refetch:h}}(),{emails:p,loading:m,error:g,sending:h,pagination:f,sendEmail:b,resendEmail:y,cancelEmail:x,goToPage:v,refetch:k}=function(t={}){const[r,n]=(0,e.useState)([]),[i,o]=(0,e.useState)(!0),[a,l]=(0,e.useState)(null),[s,c]=(0,e.useState)(!1),[d,u]=(0,e.useState)({total:0,pages:1,page:1,perPage:20}),p=t?.applicationId,m=t?.candidateId,g=d.perPage,h=window.rpEmailData?.i18n||window.rpApplicant?.i18n||{},f=h.errorLoading||"Fehler beim Laden der E-Mails",b=h.errorSending||"Fehler beim Senden",y=h.errorCancelling||"Fehler beim Stornieren",x=h.errorPreview||"Fehler bei der Vorschau",v=(0,e.useRef)(null),k=(0,e.useRef)(!0),j=(0,e.useCallback)(async(e=1)=>{if(!p&&!m)return n([]),void o(!1);v.current&&v.current.abort(),v.current=new AbortController;try{let t;o(!0),l(null),t=p?`/recruiting/v1/applications/${p}/emails`:m?`/recruiting/v1/candidates/${m}/emails`:"/recruiting/v1/emails/log";const r=new URLSearchParams;r.append("page",e.toString()),r.append("per_page",g.toString()),t+="?"+r.toString();const i=await Gn()({path:t,signal:v.current.signal});k.current&&(n(i.items||[]),u({total:i.total||0,pages:i.pages||1,page:e,perPage:g}))}catch(e){if("AbortError"===e?.name)return;k.current&&!Ba(e,l,f)&&console.error("Error fetching emails:",e)}finally{k.current&&o(!1)}},[p,m,g,f]);(0,e.useEffect)(()=>(k.current=!0,j(),()=>{k.current=!1,v.current&&v.current.abort()}),[j]);const w=(0,e.useCallback)(async e=>{try{c(!0),l(null);const t=await Gn()({path:"/recruiting/v1/emails/send",method:"POST",data:{application_id:p,...e}});return k.current?(await j(),t):null}catch(e){return k.current?(Ba(e,l,b)||console.error("Error sending email:",e),null):null}finally{k.current&&c(!1)}},[p,j,b]),_=(0,e.useCallback)(async e=>{try{return c(!0),l(null),await Gn()({path:`/recruiting/v1/emails/log/${e}/resend`,method:"POST"}),!!k.current&&(await j(),!0)}catch(e){return!!k.current&&(Ba(e,l,b)||console.error("Error resending email:",e),!1)}finally{k.current&&c(!1)}},[j,b]),S=(0,e.useCallback)(async e=>{try{return c(!0),l(null),await Gn()({path:`/recruiting/v1/emails/${e}/cancel`,method:"POST"}),!!k.current&&(n(t=>t.map(t=>t.id===e?{...t,status:"cancelled",can_cancel:!1}:t)),!0)}catch(e){return!!k.current&&(Ba(e,l,y)||console.error("Error cancelling email:",e),!1)}finally{k.current&&c(!1)}},[y]),C=(0,e.useCallback)(async e=>{try{return l(null),await Gn()({path:"/recruiting/v1/emails/preview",method:"POST",data:{application_id:p,...e}})}catch(e){return k.current?(Ba(e,l,x)||console.error("Error previewing email:",e),null):null}},[p,x]),E=(0,e.useCallback)(e=>{j(e)},[j]);return{emails:r,loading:i,error:a,sending:s,pagination:d,fetchEmails:j,sendEmail:w,resendEmail:_,cancelEmail:S,previewEmail:C,goToPage:E,refetch:()=>j(d.page)}}({applicationId:t}),{placeholders:j,previewValues:w,loading:_}=function(){const[t,r]=(0,e.useState)({}),[n,i]=(0,e.useState)({}),[o,a]=(0,e.useState)(!0),[l,s]=(0,e.useState)(null),c=(window.rpEmailData?.i18n||{}).errorLoading||"Fehler beim Laden der Platzhalter",d=(0,e.useRef)(null),u=(0,e.useRef)(!0),p=(0,e.useCallback)(async()=>{d.current&&d.current.abort(),d.current=new AbortController;try{a(!0),s(null);const e=await Gn()({path:"/recruiting/v1/email-templates/placeholders",signal:d.current.signal});u.current&&(r(e.groups||{}),i(e.preview_values||{}))}catch(e){if("AbortError"===e?.name)return;u.current&&!Ba(e,s,c)&&console.error("Error fetching placeholders:",e)}finally{u.current&&a(!1)}},[c]);(0,e.useEffect)(()=>(u.current=!0,p(),()=>{u.current=!1,d.current&&d.current.abort()}),[p]);const m=(0,e.useCallback)(e=>Na(e,n),[n]),g=(0,e.useCallback)(()=>{const e=[];return Object.values(t).forEach(t=>{t.items&&Object.keys(t.items).forEach(t=>e.push(t))}),e},[t]);return{placeholders:t,previewValues:n,loading:o,error:l,fetchPlaceholders:p,replacePlaceholders:m,getAllPlaceholderKeys:g,refetch:p}}(),S=(0,e.useCallback)((e,t="success")=>{a({message:e,type:t}),setTimeout(()=>a(null),3e3)},[]),C=(0,e.useCallback)(async e=>{await b(e)&&(S(l.emailSent||"E-Mail wurde gesendet."),i("history"))},[b,S,l.emailSent]),E=(0,e.useCallback)(async e=>{await y(e)&&S(l.emailResent||"E-Mail wurde erneut gesendet.")},[y,S,l.emailResent]),T=(0,e.useCallback)(async e=>{await x(e)&&S(l.emailCancelled||"E-Mail wurde storniert.")},[x,S,l.emailCancelled]);return(c||u||m||_)&&"history"===n&&0===p.length?(0,ze.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",padding:"3rem",color:"#6b7280"},children:[(0,ze.jsx)("div",{style:{width:"1.5rem",height:"1.5rem",border:"2px solid #e5e7eb",borderTopColor:"#1d71b8",borderRadius:"50%",animation:"spin 0.8s linear infinite"}}),(0,ze.jsx)("style",{children:"@keyframes spin { to { transform: rotate(360deg); } }"})]}):(0,ze.jsxs)("div",{children:[o&&(0,ze.jsx)("div",{style:{padding:"0.75rem 1rem",marginBottom:"1rem",borderRadius:"0.375rem",backgroundColor:"success"===o.type?"#e6f5ec":"#ffe6e6",color:"success"===o.type?"#2fac66":"#d63638",fontSize:"0.875rem"},children:o.message}),"history"===n?(0,ze.jsx)(Pa,{emails:p,loading:m,error:g,pagination:f,onResend:E,onCancel:T,onPageChange:v,action:(0,ze.jsxs)(Ye,{onClick:()=>i("compose"),children:[(0,ze.jsx)(ei,{style:{width:"1rem",height:"1rem",marginRight:"0.375rem"}}),l.newEmail||"Neue E-Mail"]})}):(0,ze.jsx)(za,{templates:s,signatures:d,placeholders:j,previewValues:w,recipient:r,applicationId:t,sending:h,onSend:C,onCancel:()=>i("history")})]})}Pa.propTypes={emails:Ki().arrayOf(Ki().shape({id:Ki().number.isRequired,recipient_email:Ki().string,subject:Ki().string,status:Ki().string,sent_at:Ki().string,created_at:Ki().string,scheduled_at:Ki().string,can_cancel:Ki().bool,body:Ki().string,body_html:Ki().string,error_message:Ki().string})),loading:Ki().bool,error:Ki().string,pagination:Ki().shape({total:Ki().number,pages:Ki().number,page:Ki().number,perPage:Ki().number}),onResend:Ki().func,onCancel:Ki().func,onPageChange:Ki().func,action:Ki().node},window.wp.components,e.Component,Ki().oneOf(["sent","failed","pending","scheduled","cancelled"]);const Fa={new:{label:"Neu",color:"#2271b1",bg:"#e6f3ff"},screening:{label:"In Prfung",color:"#dba617",bg:"#fff8e6"},interview:{label:"Interview",color:"#9b59b6",bg:"#f5e6ff"},offer:{label:"Angebot",color:"#1e8cbe",bg:"#e6f5ff"},hired:{label:"Eingestellt",color:"#2fac66",bg:"#e6f5ec"},rejected:{label:"Abgelehnt",color:"#d63638",bg:"#ffe6e6"},withdrawn:{label:"Zurckgezogen",color:"#787c82",bg:"#f0f0f0"}},$a=Object.entries(Fa).map(([e,t])=>({value:e,label:t.label,color:t.color}));function Ha(e){return e?new Date(e).toLocaleDateString("de-DE",{day:"2-digit",month:"2-digit",year:"numeric"}):"-"}function Ua(e){navigator.clipboard.writeText(e)}function Ka({applicationId:r}){const[n,i]=(0,e.useState)(null),[o,a]=(0,e.useState)(!0),[l,s]=(0,e.useState)(null),[c,d]=(0,e.useState)(!1),[u,p]=(0,e.useState)("details"),[m,g]=(0,e.useState)(0),[h,f]=(0,e.useState)(0),[b,y]=(0,e.useState)(0),x=window.rpApplicant||{},v=!1!==x.canSendEmails,k=x.logoUrl||"",j=(0,e.useCallback)(async()=>{if(r)try{a(!0),s(null);const e=await Gn()({path:`/recruiting/v1/applications/${r}`}),t=e.candidate||{},n={...e,first_name:t.first_name||"",last_name:t.last_name||"",email:t.email||"",phone:t.phone||"",salutation:t.salutation||"",job_title:e.job?.title||""};i(n)}catch(e){console.error("Error loading application:",e),s(e.message||(0,t.__)("Fehler beim Laden der Bewerbung","recruiting-playbook"))}finally{a(!1)}},[r]);if((0,e.useEffect)(()=>{j()},[j]),(0,e.useEffect)(()=>{r&&(Gn()({path:`/recruiting/v1/applications/${r}/notes`}).then(e=>{g(Array.isArray(e)?e.length:0)}).catch(()=>{}),Gn()({path:`/recruiting/v1/applications/${r}/timeline?per_page=1`,parse:!1}).then(e=>{const t=parseInt(e.headers.get("X-WP-Total")||"0",10);f(t)}).catch(()=>{}),Gn()({path:`/recruiting/v1/applications/${r}/emails?per_page=1`}).then(e=>{y(e.total||0)}).catch(()=>{}))},[r]),o)return(0,ze.jsx)("div",{className:"rp-admin",style:{padding:"20px 0"},children:(0,ze.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",minHeight:"300px",gap:"0.75rem",color:"#6b7280"},children:[(0,ze.jsx)(Si,{size:"default"}),(0,ze.jsx)("span",{children:(0,t.__)("Lade Bewerbung...","recruiting-playbook")})]})});if(l)return(0,ze.jsx)("div",{className:"rp-admin",style:{padding:"20px 0"},children:(0,ze.jsx)(De,{children:(0,ze.jsxs)(Le,{style:{padding:"3rem",textAlign:"center"},children:[(0,ze.jsx)("p",{style:{color:"#d63638",marginBottom:"1.5rem"},children:l}),(0,ze.jsx)(Ye,{onClick:j,children:(0,t.__)("Erneut versuchen","recruiting-playbook")})]})})});if(!n)return(0,ze.jsx)("div",{className:"rp-admin",style:{padding:"20px 0"},children:(0,ze.jsx)(De,{children:(0,ze.jsx)(Le,{style:{padding:"3rem",textAlign:"center",color:"#6b7280"},children:(0,t.__)("Bewerbung nicht gefunden.","recruiting-playbook")})})});const w=Fa[n.status],_=n.documents?.length||0;return(0,ze.jsxs)("div",{className:"rp-admin",style:{padding:"20px 0"},children:[(0,ze.jsxs)("div",{style:{maxWidth:"1400px"},children:[(0,ze.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-end",marginBottom:"1.5rem"},children:[k&&(0,ze.jsx)("img",{src:k,alt:"Recruiting Playbook",style:{width:"150px",height:"auto"}}),(0,ze.jsxs)("h1",{style:{margin:0,fontSize:"1.5rem",fontWeight:700,color:"#1f2937"},children:[(0,t.__)("Bewerbung","recruiting-playbook")," #",r]})]}),(0,ze.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"1rem",marginBottom:"1.5rem",flexWrap:"wrap"},children:[(0,ze.jsxs)("a",{href:x.listUrl||"#",style:{display:"inline-flex",alignItems:"center",gap:"0.25rem",color:"#1d71b8",textDecoration:"none",fontSize:"0.875rem"},children:[(0,ze.jsx)(mi,{style:{width:"1rem",height:"1rem"}}),(0,t.__)("Zurck zur Liste","recruiting-playbook")]}),(0,ze.jsx)("div",{style:{flex:1}}),(0,ze.jsx)(ii,{candidateId:n.candidate_id,inPool:n.in_talent_pool,onStatusChange:e=>{i(t=>({...t,in_talent_pool:e}))}})]}),(0,ze.jsx)(ki,{value:u,onValueChange:p,style:{marginBottom:"1.5rem"},children:(0,ze.jsxs)(ji,{children:[(0,ze.jsx)(wi,{value:"details",children:(0,t.__)("Details","recruiting-playbook")}),(0,ze.jsx)(wi,{value:"documents",count:_,children:(0,t.__)("Dokumente","recruiting-playbook")}),(0,ze.jsx)(wi,{value:"notes",count:m,children:(0,t.__)("Notizen","recruiting-playbook")}),(0,ze.jsx)(wi,{value:"timeline",count:h,children:(0,t.__)("Verlauf","recruiting-playbook")}),v&&(0,ze.jsx)(wi,{value:"email",count:b,children:(0,t.__)("E-Mail","recruiting-playbook")})]})}),(0,ze.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 380px",gap:"1.5rem"},children:[(0,ze.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"1.5rem"},children:[(0,ze.jsx)(De,{children:(0,ze.jsx)(Le,{style:{padding:"1rem 1.5rem"},children:(0,ze.jsxs)("div",{style:{display:"flex",gap:"1rem",alignItems:"center"},children:[(0,ze.jsx)("div",{style:{width:"56px",height:"56px",borderRadius:"50%",backgroundColor:"#1d71b8",color:"#fff",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"1.25rem",fontWeight:500,flexShrink:0},children:(S=n.first_name,C=n.last_name,`${S?.charAt(0)?.toUpperCase()||""}${C?.charAt(0)?.toUpperCase()||""}`||"?")}),(0,ze.jsxs)("div",{style:{flex:1,minWidth:0},children:[(0,ze.jsxs)("h2",{style:{margin:"0 0 0.25rem 0",fontSize:"1.125rem",fontWeight:600,color:"#1f2937"},children:[n.first_name," ",n.last_name]}),(0,ze.jsxs)("div",{style:{display:"flex",flexWrap:"wrap",gap:"1rem",color:"#6b7280",fontSize:"0.8125rem"},children:[n.job_title&&(0,ze.jsxs)("span",{style:{display:"inline-flex",alignItems:"center",gap:"0.375rem"},children:[(0,ze.jsx)(Hn,{style:{width:"0.875rem",height:"0.875rem"}}),n.job_title]}),(0,ze.jsxs)("span",{style:{display:"inline-flex",alignItems:"center",gap:"0.375rem"},children:[(0,ze.jsx)(gi,{style:{width:"0.875rem",height:"0.875rem"}}),(0,t.__)("Beworben am","recruiting-playbook"),": ",Ha(n.created_at)]})]})]}),(0,ze.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",flexShrink:0},children:[(0,ze.jsx)("select",{id:"rp-status-select",value:n.status,onChange:e=>(async e=>{if(!n||c)return;const o=n.status;try{d(!0),i(t=>({...t,status:e})),await Gn()({path:`/recruiting/v1/applications/${r}/status`,method:"PATCH",data:{status:e}})}catch(e){console.error("Error changing status:",e),i(e=>({...e,status:o})),alert(e.message||(0,t.__)("Fehler beim ndern des Status","recruiting-playbook"))}finally{d(!1)}})(e.target.value),disabled:c,style:{padding:"0.5rem 2rem 0.5rem 0.75rem",border:`2px solid ${w?.color||"#e5e7eb"}`,borderRadius:"0.375rem",fontSize:"0.875rem",backgroundColor:w?.bg||"#fff",color:w?.color||"#1f2937",fontWeight:500,cursor:c?"not-allowed":"pointer",minWidth:"160px"},children:$a.map(e=>(0,ze.jsx)("option",{value:e.value,children:e.label},e.value))}),c&&(0,ze.jsx)(Si,{size:"sm"})]})]})})}),"details"===u&&(0,ze.jsxs)(ze.Fragment,{children:[(0,ze.jsxs)(De,{children:[(0,ze.jsx)(Ae,{style:{paddingBottom:0},children:(0,ze.jsx)(Ie,{children:(0,t.__)("Kandidaten-Details","recruiting-playbook")})}),(0,ze.jsxs)(Le,{style:{padding:"1rem 1.5rem"},children:[(0,ze.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"0.5rem 2rem"},children:[(0,ze.jsxs)("div",{style:{display:"flex",padding:"0.5rem 0",borderBottom:"1px solid #f3f4f6"},children:[(0,ze.jsx)("span",{style:{color:"#6b7280",fontSize:"0.875rem",width:"100px",flexShrink:0},children:(0,t.__)("Name","recruiting-playbook")}),(0,ze.jsxs)("span",{style:{color:"#1f2937",fontSize:"0.875rem"},children:[n.first_name," ",n.last_name]})]}),(0,ze.jsxs)("div",{style:{display:"flex",padding:"0.5rem 0",borderBottom:"1px solid #f3f4f6"},children:[(0,ze.jsx)("span",{style:{color:"#6b7280",fontSize:"0.875rem",width:"100px",flexShrink:0},children:(0,t.__)("Anrede","recruiting-playbook")}),(0,ze.jsx)("span",{style:{color:"#1f2937",fontSize:"0.875rem"},children:n.salutation||"-"})]}),(0,ze.jsxs)("div",{style:{display:"flex",alignItems:"center",padding:"0.5rem 0",borderBottom:"1px solid #f3f4f6"},children:[(0,ze.jsx)("span",{style:{color:"#6b7280",fontSize:"0.875rem",width:"100px",flexShrink:0},children:(0,t.__)("E-Mail","recruiting-playbook")}),n.email?(0,ze.jsxs)(ze.Fragment,{children:[(0,ze.jsx)("a",{href:`mailto:${n.email}`,style:{color:"#1d71b8",fontSize:"0.875rem",textDecoration:"none"},children:n.email}),(0,ze.jsx)("button",{type:"button",onClick:()=>Ua(n.email),title:(0,t.__)("Kopieren","recruiting-playbook"),style:{marginLeft:"0.5rem",padding:"0.25rem",background:"none",border:"none",cursor:"pointer",color:"#9ca3af",borderRadius:"0.25rem"},onMouseEnter:e=>e.currentTarget.style.color="#6b7280",onMouseLeave:e=>e.currentTarget.style.color="#9ca3af",children:(0,ze.jsx)(hi,{style:{width:"0.875rem",height:"0.875rem"}})})]}):(0,ze.jsx)("span",{style:{color:"#1f2937",fontSize:"0.875rem"},children:"-"})]}),(0,ze.jsxs)("div",{style:{display:"flex",alignItems:"center",padding:"0.5rem 0",borderBottom:"1px solid #f3f4f6"},children:[(0,ze.jsx)("span",{style:{color:"#6b7280",fontSize:"0.875rem",width:"100px",flexShrink:0},children:(0,t.__)("Telefon","recruiting-playbook")}),n.phone?(0,ze.jsxs)(ze.Fragment,{children:[(0,ze.jsx)("a",{href:`tel:${n.phone}`,style:{color:"#1d71b8",fontSize:"0.875rem",textDecoration:"none"},children:n.phone}),(0,ze.jsx)("button",{type:"button",onClick:()=>Ua(n.phone),title:(0,t.__)("Kopieren","recruiting-playbook"),style:{marginLeft:"0.5rem",padding:"0.25rem",background:"none",border:"none",cursor:"pointer",color:"#9ca3af",borderRadius:"0.25rem"},onMouseEnter:e=>e.currentTarget.style.color="#6b7280",onMouseLeave:e=>e.currentTarget.style.color="#9ca3af",children:(0,ze.jsx)(hi,{style:{width:"0.875rem",height:"0.875rem"}})})]}):(0,ze.jsx)("span",{style:{color:"#1f2937",fontSize:"0.875rem"},children:"-"})]}),(0,ze.jsxs)("div",{style:{display:"flex",padding:"0.5rem 0",borderBottom:"1px solid #f3f4f6"},children:[(0,ze.jsx)("span",{style:{color:"#6b7280",fontSize:"0.875rem",width:"100px",flexShrink:0},children:(0,t.__)("Stelle","recruiting-playbook")}),(0,ze.jsx)("span",{style:{color:"#1f2937",fontSize:"0.875rem"},children:n.job_title||"-"})]}),(0,ze.jsxs)("div",{style:{display:"flex",padding:"0.5rem 0",borderBottom:"1px solid #f3f4f6"},children:[(0,ze.jsx)("span",{style:{color:"#6b7280",fontSize:"0.875rem",width:"100px",flexShrink:0},children:(0,t.__)("Beworben am","recruiting-playbook")}),(0,ze.jsx)("span",{style:{color:"#1f2937",fontSize:"0.875rem"},children:Ha(n.created_at)})]}),(0,ze.jsxs)("div",{style:{display:"flex",padding:"0.5rem 0"},children:[(0,ze.jsx)("span",{style:{color:"#6b7280",fontSize:"0.875rem",width:"100px",flexShrink:0},children:(0,t.__)("Quelle","recruiting-playbook")}),(0,ze.jsx)("span",{style:{color:"#1f2937",fontSize:"0.875rem"},children:n.source||"Website"})]})]}),n.cover_letter&&(0,ze.jsxs)("div",{style:{marginTop:"1.5rem",paddingTop:"1rem",borderTop:"1px solid #e5e7eb"},children:[(0,ze.jsx)("div",{style:{fontSize:"0.875rem",fontWeight:500,color:"#1f2937",marginBottom:"0.75rem"},children:(0,t.__)("Anschreiben","recruiting-playbook")}),(0,ze.jsx)("div",{style:{fontSize:"0.875rem",color:"#374151",lineHeight:1.6,whiteSpace:"pre-wrap"},dangerouslySetInnerHTML:{__html:n.cover_letter}})]})]})]}),(0,ze.jsxs)(De,{children:[(0,ze.jsx)(Ae,{children:(0,ze.jsx)(Ie,{children:(0,t.__)("Bewertung","recruiting-playbook")})}),(0,ze.jsx)(Le,{children:(0,ze.jsx)(Zn,{applicationId:r,showDistribution:!0})})]})]}),"documents"===u&&(0,ze.jsxs)(De,{children:[(0,ze.jsx)(Ae,{children:(0,ze.jsxs)(Ie,{children:[(0,t.__)("Dokumente","recruiting-playbook")," (",_,")"]})}),(0,ze.jsx)(Le,{children:0===_?(0,ze.jsxs)("div",{style:{textAlign:"center",padding:"2rem",color:"#6b7280"},children:[(0,ze.jsx)(fi,{style:{width:"3rem",height:"3rem",marginBottom:"0.75rem",opacity:.5}}),(0,ze.jsx)("p",{children:(0,t.__)("Keine Dokumente vorhanden","recruiting-playbook")})]}):(0,ze.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:n.documents.map(e=>(0,ze.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem",padding:"0.75rem 1rem",backgroundColor:"#f9fafb",borderRadius:"0.375rem"},children:[(0,ze.jsx)(fi,{style:{width:"1.25rem",height:"1.25rem",color:"#6b7280",flexShrink:0}}),(0,ze.jsx)("span",{style:{flex:1,fontSize:"0.875rem",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:e.filename}),(0,ze.jsxs)("div",{style:{display:"flex",gap:"0.5rem"},children:[e.view_url&&(0,ze.jsx)(Ye,{variant:"outline",size:"sm",asChild:!0,children:(0,ze.jsxs)("a",{href:e.view_url,target:"_blank",rel:"noopener noreferrer",children:[(0,ze.jsx)(bi,{style:{width:"0.875rem",height:"0.875rem",marginRight:"0.25rem"}}),(0,t.__)("Ansehen","recruiting-playbook")]})}),e.download_url&&(0,ze.jsx)(Ye,{size:"sm",asChild:!0,children:(0,ze.jsxs)("a",{href:e.download_url,download:!0,children:[(0,ze.jsx)(yi,{style:{width:"0.875rem",height:"0.875rem",marginRight:"0.25rem"}}),(0,t.__)("Download","recruiting-playbook")]})})]})]},e.id))})})]}),"notes"===u&&(0,ze.jsxs)(De,{children:[(0,ze.jsx)(Ae,{children:(0,ze.jsx)(Ie,{children:(0,t.__)("Notizen","recruiting-playbook")})}),(0,ze.jsx)(Le,{children:(0,ze.jsx)(Ai,{applicationId:r,showHeader:!1})})]}),"timeline"===u&&(0,ze.jsxs)(De,{children:[(0,ze.jsx)(Ae,{children:(0,ze.jsx)(Ie,{children:(0,t.__)("Verlauf","recruiting-playbook")})}),(0,ze.jsx)(Le,{children:(0,ze.jsx)(Hi,{applicationId:r,showHeader:!1})})]}),"email"===u&&v&&(0,ze.jsxs)(De,{children:[(0,ze.jsx)(Ae,{children:(0,ze.jsx)(Ie,{children:(0,t.__)("E-Mail","recruiting-playbook")})}),(0,ze.jsx)(Le,{children:(0,ze.jsx)(Wa,{applicationId:r,recipient:{email:n.email,name:`${n.first_name} ${n.last_name}`}})})]})]}),(0,ze.jsx)("div",{children:(0,ze.jsxs)(De,{children:[(0,ze.jsx)(Ae,{children:(0,ze.jsxs)(Ie,{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[(0,ze.jsx)(xi,{style:{width:"1rem",height:"1rem"}}),(0,t.__)("Aktivitt","recruiting-playbook")]})}),(0,ze.jsx)(Le,{children:(0,ze.jsx)(Hi,{applicationId:r,compact:!0,maxItems:10})})]})})]})]}),(0,ze.jsx)("style",{children:'\n\t\t\t\t@media (max-width: 1200px) {\n\t\t\t\t\t.rp-admin [style*="grid-template-columns: 1fr 380px"] {\n\t\t\t\t\t\tgrid-template-columns: 1fr !important;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t'})]});var S,C}const Va=u("external-link",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]),Ga=u("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),Xa=u("tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);function qa(e){return e?new Date(e).toLocaleDateString("de-DE",{day:"2-digit",month:"2-digit",year:"numeric"}):"-"}function Ya({entry:r,onRemoved:n}){const[i,o]=(0,e.useState)(!1),[a,l]=(0,e.useState)(!1),[s,c]=(0,e.useState)(!1),[d,u]=(0,e.useState)(null),[p,m]=(0,e.useState)(r.reason||""),[g,h]=(0,e.useState)(r.tags||""),f=window.rpTalentPool||{},b=f.i18n||{},y=function(e){if(!e)return null;const t=new Date,r=new Date(e)-t;return Math.ceil(r/864e5)}(r.expires_at),x=(v=r.tags)?v.split(",").map(e=>e.trim()).filter(Boolean):[];var v;const k=()=>{m(r.reason||""),h(r.tags||""),o(!1),l(!1),u(null)},j=null===y?null:y<=0?{label:b.expired||(0,t.__)("Abgelaufen","recruiting-playbook"),bgColor:"#fef2f2",textColor:"#dc2626",borderColor:"#fecaca"}:y<=30?{label:b.expiresSoon||(0,t.__)("Luft bald ab","recruiting-playbook"),bgColor:"#fffbeb",textColor:"#d97706",borderColor:"#fde68a"}:null;return(0,ze.jsxs)(De,{style:{borderColor:j?.borderColor||"#e5e7eb",backgroundColor:j?.bgColor||"#fff"},children:[(0,ze.jsxs)(Le,{style:{padding:"1rem"},children:[(0,ze.jsxs)("div",{style:{display:"flex",alignItems:"flex-start",gap:"0.75rem",marginBottom:"0.75rem"},children:[(0,ze.jsx)("div",{style:{width:"48px",height:"48px",borderRadius:"50%",backgroundColor:"#1d71b8",color:"#fff",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:600,fontSize:"1rem",flexShrink:0},children:(w=r.first_name,_=r.last_name,`${w?.charAt(0)?.toUpperCase()||""}${_?.charAt(0)?.toUpperCase()||""}`||"?")}),(0,ze.jsxs)("div",{style:{flex:1,minWidth:0},children:[(0,ze.jsxs)("h3",{style:{margin:0,fontSize:"1rem",fontWeight:600,color:"#1f2937",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:[r.first_name," ",r.last_name]}),r.email&&(0,ze.jsxs)("a",{href:`mailto:${r.email}`,style:{display:"flex",alignItems:"center",gap:"0.25rem",fontSize:"0.875rem",color:"#6b7280",textDecoration:"none",marginTop:"0.125rem"},children:[(0,ze.jsx)(Li,{style:{width:"0.75rem",height:"0.75rem"}}),(0,ze.jsx)("span",{style:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:r.email})]})]}),f.applicationUrl&&r.application_id&&(0,ze.jsx)("a",{href:`${f.applicationUrl}${r.application_id}`,title:b.viewApplication||(0,t.__)("Bewerbung anzeigen","recruiting-playbook"),style:{display:"inline-flex",alignItems:"center",justifyContent:"center",width:"2rem",height:"2rem",backgroundColor:"#1d71b8",color:"#fff",borderRadius:"0.375rem",textDecoration:"none",flexShrink:0},children:(0,ze.jsx)(Va,{style:{width:"1rem",height:"1rem"}})})]}),j&&(0,ze.jsxs)("div",{style:{display:"inline-flex",alignItems:"center",gap:"0.375rem",padding:"0.25rem 0.5rem",backgroundColor:j.bgColor,border:`1px solid ${j.borderColor}`,borderRadius:"0.25rem",fontSize:"0.75rem",fontWeight:500,color:j.textColor,marginBottom:"0.75rem"},children:[(0,ze.jsx)(Ga,{style:{width:"0.75rem",height:"0.75rem"}}),j.label]}),d&&(0,ze.jsx)("div",{style:{padding:"0.5rem 0.75rem",backgroundColor:"#fef2f2",border:"1px solid #fecaca",borderRadius:"0.375rem",color:"#dc2626",fontSize:"0.875rem",marginBottom:"0.75rem"},children:d}),a?(0,ze.jsxs)("div",{style:{padding:"1rem",backgroundColor:"#fef2f2",border:"1px solid #fecaca",borderRadius:"0.375rem",marginBottom:"0.75rem"},children:[(0,ze.jsx)("p",{style:{margin:"0 0 0.75rem 0",color:"#1f2937",fontSize:"0.875rem"},children:b.confirmRemove||(0,t.__)("Kandidat wirklich aus dem Talent-Pool entfernen?","recruiting-playbook")}),(0,ze.jsxs)("div",{style:{display:"flex",gap:"0.5rem"},children:[(0,ze.jsxs)(Ye,{variant:"outline",size:"sm",onClick:k,disabled:s,style:{flex:1},children:[(0,ze.jsx)(Qn,{style:{width:"0.875rem",height:"0.875rem",marginRight:"0.25rem"}}),b.cancel||(0,t.__)("Abbrechen","recruiting-playbook")]}),(0,ze.jsx)(Ye,{size:"sm",onClick:async()=>{try{c(!0),u(null),await Gn()({path:`/recruiting/v1/talent-pool/${r.candidate_id}`,method:"DELETE"}),l(!1),n&&n(r.candidate_id)}catch(e){console.error("Error removing from pool:",e),u(e.message||b.errorRemoving||(0,t.__)("Fehler beim Entfernen.","recruiting-playbook"))}finally{c(!1)}},disabled:s,style:{flex:1,backgroundColor:"#dc2626",borderColor:"#dc2626"},children:s?(0,ze.jsx)("div",{style:{width:"0.875rem",height:"0.875rem",border:"2px solid rgba(255,255,255,0.3)",borderTopColor:"#fff",borderRadius:"50%",animation:"spin 0.8s linear infinite"}}):(0,ze.jsxs)(ze.Fragment,{children:[(0,ze.jsx)(Ti,{style:{width:"0.875rem",height:"0.875rem",marginRight:"0.25rem"}}),b.removeFromPool||(0,t.__)("Entfernen","recruiting-playbook")]})})]})]}):i?(0,ze.jsxs)("div",{style:{marginBottom:"0.75rem"},children:[(0,ze.jsxs)("div",{style:{marginBottom:"0.75rem"},children:[(0,ze.jsx)("label",{htmlFor:`reason-${r.id}`,style:{display:"block",fontSize:"0.75rem",fontWeight:500,color:"#374151",marginBottom:"0.25rem"},children:b.reason||(0,t.__)("Begrndung","recruiting-playbook")}),(0,ze.jsx)("textarea",{id:`reason-${r.id}`,value:p,onChange:e=>m(e.target.value),rows:2,disabled:s,style:{width:"100%",padding:"0.5rem",border:"1px solid #e5e7eb",borderRadius:"0.375rem",fontSize:"0.875rem",resize:"vertical",minHeight:"60px"}})]}),(0,ze.jsxs)("div",{style:{marginBottom:"0.75rem"},children:[(0,ze.jsx)("label",{htmlFor:`tags-${r.id}`,style:{display:"block",fontSize:"0.75rem",fontWeight:500,color:"#374151",marginBottom:"0.25rem"},children:b.tags||(0,t.__)("Tags","recruiting-playbook")}),(0,ze.jsx)("input",{type:"text",id:`tags-${r.id}`,value:g,onChange:e=>h(e.target.value),placeholder:"php, react, senior",disabled:s,style:{width:"100%",padding:"0.5rem",border:"1px solid #e5e7eb",borderRadius:"0.375rem",fontSize:"0.875rem"}})]}),(0,ze.jsxs)("div",{style:{display:"flex",gap:"0.5rem"},children:[(0,ze.jsxs)(Ye,{variant:"outline",size:"sm",onClick:k,disabled:s,style:{flex:1},children:[(0,ze.jsx)(Qn,{style:{width:"0.875rem",height:"0.875rem",marginRight:"0.25rem"}}),b.cancel||(0,t.__)("Abbrechen","recruiting-playbook")]}),(0,ze.jsx)(Ye,{size:"sm",onClick:async()=>{try{c(!0),u(null),await Gn()({path:`/recruiting/v1/talent-pool/${r.candidate_id}`,method:"PATCH",data:{reason:p,tags:g}}),r.reason=p,r.tags=g,o(!1)}catch(e){console.error("Error saving:",e),u(e.message||b.errorSaving||(0,t.__)("Fehler beim Speichern.","recruiting-playbook"))}finally{c(!1)}},disabled:s,style:{flex:1},children:s?(0,ze.jsx)("div",{style:{width:"0.875rem",height:"0.875rem",border:"2px solid rgba(255,255,255,0.3)",borderTopColor:"#fff",borderRadius:"50%",animation:"spin 0.8s linear infinite"}}):(0,ze.jsxs)(ze.Fragment,{children:[(0,ze.jsx)(Co,{style:{width:"0.875rem",height:"0.875rem",marginRight:"0.25rem"}}),b.save||(0,t.__)("Speichern","recruiting-playbook")]})})]})]}):(0,ze.jsxs)(ze.Fragment,{children:[r.reason&&(0,ze.jsx)("p",{style:{margin:"0 0 0.75rem 0",fontSize:"0.875rem",color:"#4b5563",lineHeight:1.5},children:r.reason}),(0,ze.jsx)("div",{style:{display:"flex",flexWrap:"wrap",gap:"0.375rem",marginBottom:"0.75rem"},children:x.length>0?x.map(e=>(0,ze.jsxs)("span",{style:{display:"inline-flex",alignItems:"center",gap:"0.25rem",padding:"0.125rem 0.5rem",backgroundColor:"#f3f4f6",borderRadius:"9999px",fontSize:"0.75rem",color:"#4b5563"},children:[(0,ze.jsx)(Xa,{style:{width:"0.625rem",height:"0.625rem"}}),e]},e)):(0,ze.jsx)("span",{style:{fontSize:"0.75rem",color:"#9ca3af",fontStyle:"italic"},children:b.noTags||(0,t.__)("Keine Tags","recruiting-playbook")})})]}),(0,ze.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",paddingTop:"0.75rem",borderTop:"1px solid #e5e7eb",gap:"0.5rem",flexWrap:"wrap"},children:[(0,ze.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"0.25rem"},children:[(0,ze.jsxs)("span",{style:{display:"flex",alignItems:"center",gap:"0.375rem",fontSize:"0.75rem",color:"#6b7280"},children:[(0,ze.jsx)(gi,{style:{width:"0.75rem",height:"0.75rem"}}),qa(r.created_at)]}),r.expires_at&&(0,ze.jsxs)("span",{style:{display:"flex",alignItems:"center",gap:"0.375rem",fontSize:"0.75rem",color:j?.textColor||"#6b7280"},children:[(0,ze.jsx)(xi,{style:{width:"0.75rem",height:"0.75rem"}}),qa(r.expires_at)]})]}),!i&&!a&&(0,ze.jsxs)("div",{style:{display:"flex",gap:"0.25rem"},children:[(0,ze.jsx)("button",{type:"button",onClick:()=>o(!0),title:b.edit||(0,t.__)("Bearbeiten","recruiting-playbook"),style:{padding:"0.375rem",background:"none",border:"1px solid #e5e7eb",borderRadius:"0.375rem",cursor:"pointer",color:"#6b7280",display:"flex",alignItems:"center",justifyContent:"center"},children:(0,ze.jsx)(Vi,{style:{width:"0.875rem",height:"0.875rem"}})}),(0,ze.jsx)("button",{type:"button",onClick:()=>l(!0),title:b.removeFromPool||(0,t.__)("Aus Pool entfernen","recruiting-playbook"),style:{padding:"0.375rem",background:"none",border:"1px solid #fecaca",borderRadius:"0.375rem",cursor:"pointer",color:"#dc2626",display:"flex",alignItems:"center",justifyContent:"center"},children:(0,ze.jsx)(Ti,{style:{width:"0.875rem",height:"0.875rem"}})})]})]})]}),(0,ze.jsx)("style",{children:"@keyframes spin { to { transform: rotate(360deg); } }"})]});var w,_}function Za(){const[r,n]=(0,e.useState)([]),[i,o]=(0,e.useState)(""),[a,l]=(0,e.useState)(""),s=window.rpTalentPool||{},c=s.i18n||{},d=s.logoUrl||"",{items:u,loading:m,error:g,total:h,totalPages:f,page:b,setSearch:y,setTags:x,setPage:v,refetch:k}=function(t={}){const[r,n]=(0,e.useState)([]),[i,o]=(0,e.useState)(!0),[a,l]=(0,e.useState)(null),[s,c]=(0,e.useState)(0),[d,u]=(0,e.useState)(0),[p,m]=(0,e.useState)({page:1,per_page:20,search:"",tags:"",orderby:"created_at",order:"DESC",...t}),g=(0,e.useCallback)(async()=>{try{o(!0),l(null);const e=new URLSearchParams;Object.entries(p).forEach(([t,r])=>{""!==r&&null!==r&&e.append(t,r)});const t=await Gn()({path:`/recruiting/v1/talent-pool?${e.toString()}`,parse:!1}),r=await t.json();c(parseInt(t.headers.get("X-WP-Total")||"0",10)),u(parseInt(t.headers.get("X-WP-TotalPages")||"0",10)),n(Array.isArray(r)?r:[])}catch(e){console.error("Error fetching talent pool list:",e),l(e.message||window.rpApplicant?.i18n?.errorLoadingTalentPoolList||"Fehler beim Laden der Talent-Pool Liste")}finally{o(!1)}},[p]);(0,e.useEffect)(()=>{g()},[g]);const h=(0,e.useCallback)(e=>{m(t=>({...t,search:e,page:1}))},[]),f=(0,e.useCallback)(e=>{m(t=>({...t,tags:e,page:1}))},[]),b=(0,e.useCallback)(e=>{m(t=>({...t,page:e}))},[]),y=(0,e.useCallback)((e,t="DESC")=>{m(r=>({...r,orderby:e,order:t,page:1}))},[]);return{items:r,loading:i,error:a,total:s,totalPages:d,page:p.page,search:p.search,tags:p.tags,setSearch:h,setTags:f,setPage:b,setOrder:y,refetch:g}}(),j=(0,e.useCallback)(async()=>{try{const e=await fetch(`${s.apiUrl}talent-pool/tags`,{headers:{"X-WP-Nonce":s.nonce}});if(e.ok){const t=await e.json();n(t||[])}}catch(e){console.error("Error loading tags:",e)}},[s.apiUrl,s.nonce]);(0,e.useEffect)(()=>{j()},[j]),(0,e.useEffect)(()=>{const e=setTimeout(()=>{y(a)},300);return()=>clearTimeout(e)},[a,y]);const w=()=>{k(),j()};return g&&0===u.length?(0,ze.jsx)("div",{className:"rp-admin",style:{padding:"20px 0"},children:(0,ze.jsx)(De,{children:(0,ze.jsxs)(Le,{style:{padding:"3rem",textAlign:"center"},children:[(0,ze.jsx)("p",{style:{color:"#d63638",marginBottom:"1.5rem"},children:g}),(0,ze.jsx)(Ye,{onClick:k,children:c.retry||(0,t.__)("Erneut versuchen","recruiting-playbook")})]})})}):(0,ze.jsx)("div",{className:"rp-admin",style:{padding:"20px 0"},children:(0,ze.jsxs)("div",{style:{maxWidth:"1400px"},children:[(0,ze.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-end",marginBottom:"1.5rem"},children:[d&&(0,ze.jsx)("img",{src:d,alt:"Recruiting Playbook",style:{width:"150px",height:"auto"}}),(0,ze.jsx)("h1",{style:{margin:0,fontSize:"1.5rem",fontWeight:700,color:"#1f2937"},children:c.title||(0,t.__)("Talent-Pool","recruiting-playbook")})]}),(0,ze.jsx)(De,{style:{marginBottom:"1rem"},children:(0,ze.jsx)(Le,{style:{padding:"0.75rem 1rem"},children:(0,ze.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"1rem",flexWrap:"wrap"},children:[(0,ze.jsxs)("div",{style:{position:"relative"},children:[(0,ze.jsx)(p,{style:{position:"absolute",left:"0.75rem",top:"50%",transform:"translateY(-50%)",width:"1rem",height:"1rem",color:"#9ca3af"}}),(0,ze.jsx)("input",{type:"text",placeholder:c.search||(0,t.__)("Kandidaten suchen...","recruiting-playbook"),value:a,onChange:e=>l(e.target.value),style:{paddingLeft:"2.5rem",paddingRight:a?"2rem":"1rem",paddingTop:"0.5rem",paddingBottom:"0.5rem",border:"1px solid #e5e7eb",borderRadius:"0.375rem",fontSize:"0.875rem",width:"280px",outline:"none"}}),a&&(0,ze.jsx)("button",{type:"button",onClick:()=>l(""),style:{position:"absolute",right:"0.5rem",top:"50%",transform:"translateY(-50%)",background:"none",border:"none",cursor:"pointer",padding:"0.25rem",color:"#9ca3af"},children:(0,ze.jsx)(Qn,{style:{width:"0.875rem",height:"0.875rem"}})})]}),(0,ze.jsxs)("select",{value:i,onChange:e=>{const t=e.target.value;o(t),x(t)},style:{padding:"0.5rem 2rem 0.5rem 0.75rem",border:"1px solid #e5e7eb",borderRadius:"0.375rem",fontSize:"0.875rem",backgroundColor:"#fff",cursor:"pointer",minWidth:"150px"},children:[(0,ze.jsx)("option",{value:"",children:c.allTags||(0,t.__)("Alle Tags","recruiting-playbook")}),r.map(e=>(0,ze.jsx)("option",{value:e,children:e},e))]}),(0,ze.jsx)("div",{style:{flexGrow:1}}),(0,ze.jsxs)("span",{style:{fontSize:"0.875rem",color:"#6b7280"},children:[h," ",1===h?c.candidate||(0,t.__)("Kandidat","recruiting-playbook"):c.candidates||(0,t.__)("Kandidaten","recruiting-playbook")]})]})})}),(0,ze.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",padding:"0.75rem 1rem",backgroundColor:"#fef3c7",borderRadius:"0.375rem",marginBottom:"1.5rem",fontSize:"0.875rem",color:"#92400e"},children:[(0,ze.jsx)(ti,{style:{width:"1rem",height:"1rem",flexShrink:0}}),c.gdprNotice||(0,t.__)("DSGVO-Hinweis: Kandidaten werden nach Ablauf automatisch aus dem Pool entfernt.","recruiting-playbook")]}),0===u.length?(0,ze.jsx)(De,{children:(0,ze.jsxs)(Le,{style:{padding:"4rem 2rem",textAlign:"center"},children:[(0,ze.jsx)(Un,{style:{width:"4rem",height:"4rem",color:"#d1d5db",marginBottom:"1rem"}}),(0,ze.jsx)("h2",{style:{margin:"0 0 0.5rem 0",fontSize:"1.25rem",fontWeight:600,color:"#1f2937"},children:c.emptyPool||(0,t.__)("Der Talent-Pool ist noch leer.","recruiting-playbook")}),(0,ze.jsx)("p",{style:{margin:"0 0 1.5rem 0",color:"#6b7280"},children:c.emptyPoolHint||(0,t.__)("Fgen Sie vielversprechende Kandidaten aus der Bewerbungsdetailseite zum Talent-Pool hinzu.","recruiting-playbook")}),(0,ze.jsx)(Ye,{asChild:!0,children:(0,ze.jsx)("a",{href:s.applicationsUrl||"#",children:c.goToApplications||(0,t.__)("Zu den Bewerbungen","recruiting-playbook")})})]})}):(0,ze.jsxs)(ze.Fragment,{children:[(0,ze.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(320px, 1fr))",gap:"1rem",marginBottom:"1.5rem"},children:u.map(e=>(0,ze.jsx)(Ya,{entry:e,onRemoved:w},e.id))}),f>1&&(0,ze.jsx)(De,{children:(0,ze.jsx)(Le,{style:{padding:"0.75rem 1rem"},children:(0,ze.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,ze.jsxs)("span",{style:{fontSize:"0.875rem",color:"#6b7280"},children:[c.page||(0,t.__)("Seite","recruiting-playbook")," ",b," ",c.of||(0,t.__)("von","recruiting-playbook")," ",f]}),(0,ze.jsxs)("div",{style:{display:"flex",gap:"0.5rem"},children:[(0,ze.jsxs)(Ye,{variant:"outline",size:"sm",onClick:()=>v(b-1),disabled:b<=1||m,children:[(0,ze.jsx)(Aa,{style:{width:"1rem",height:"1rem",marginRight:"0.25rem"}}),c.previous||(0,t.__)("Vorherige","recruiting-playbook")]}),(0,ze.jsxs)(Ye,{variant:"outline",size:"sm",onClick:()=>v(b+1),disabled:b>=f||m,children:[c.next||(0,t.__)("Nchste","recruiting-playbook"),(0,ze.jsx)(Ia,{style:{width:"1rem",height:"1rem",marginLeft:"0.25rem"}})]})]})]})})})]})]})})}const Ja=u("sparkles",[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]]);Xe("rp-inline-flex rp-items-center rp-rounded-full rp-border rp-px-2.5 rp-py-0.5 rp-text-xs rp-font-semibold rp-transition-colors focus:rp-outline-none focus:rp-ring-2 focus:rp-ring-ring focus:rp-ring-offset-2",{variants:{variant:{default:"rp-border-transparent rp-bg-primary rp-text-primary-foreground hover:rp-bg-primary/80",secondary:"rp-border-transparent rp-bg-secondary rp-text-secondary-foreground hover:rp-bg-secondary/80",destructive:"rp-border-transparent rp-bg-destructive rp-text-destructive-foreground hover:rp-bg-destructive/80",outline:"rp-text-foreground",success:"rp-border-transparent rp-bg-green-100 rp-text-green-700",warning:"rp-border-transparent rp-bg-yellow-100 rp-text-yellow-700",info:"rp-border-transparent rp-bg-blue-100 rp-text-blue-700",purple:"rp-border-transparent rp-bg-purple-100 rp-text-purple-700"}},defaultVariants:{variant:"default"}});const Qa=(0,e.forwardRef)(({className:e,...t},r)=>(0,ze.jsx)("div",{className:Ne("rp-table-wrapper",e),style:{position:"relative",width:"100%",overflow:"auto"},children:(0,ze.jsx)("table",{ref:r,style:{width:"100%",captionSide:"bottom",fontSize:"0.875rem",borderCollapse:"collapse"},...t})}));Qa.displayName="Table";const el=(0,e.forwardRef)(({className:e,...t},r)=>(0,ze.jsx)("thead",{ref:r,className:Ne("rp-table-header",e),style:{backgroundColor:"#fafafa"},...t}));el.displayName="TableHeader";const tl=(0,e.forwardRef)(({className:e,...t},r)=>(0,ze.jsx)("tbody",{ref:r,className:Ne("rp-table-body",e),...t}));tl.displayName="TableBody",(0,e.forwardRef)(({className:e,...t},r)=>(0,ze.jsx)("tfoot",{ref:r,className:Ne("rp-table-footer",e),style:{borderTop:"1px solid #e5e7eb",backgroundColor:"rgba(250, 250, 250, 0.5)",fontWeight:500},...t})).displayName="TableFooter";const rl=(0,e.forwardRef)(({className:e,isHeader:t=!1,...r},n)=>(0,ze.jsx)("tr",{ref:n,className:Ne("rp-table-row",e),style:{borderBottom:"1px solid #e5e7eb",transition:"background-color 150ms ease"},onMouseEnter:e=>{t||(e.currentTarget.style.backgroundColor="#fafafa")},onMouseLeave:e=>{t||(e.currentTarget.style.backgroundColor="transparent")},...r}));rl.displayName="TableRow";const nl=(0,e.forwardRef)(({className:e,...t},r)=>(0,ze.jsx)("th",{ref:r,className:Ne("rp-table-head",e),style:{height:"3rem",padding:"0.75rem 1rem",textAlign:"left",verticalAlign:"middle",fontWeight:500,fontSize:"0.75rem",textTransform:"uppercase",letterSpacing:"0.05em",color:"#71717a",whiteSpace:"nowrap"},...t}));nl.displayName="TableHead";const il=(0,e.forwardRef)(({className:e,...t},r)=>(0,ze.jsx)("td",{ref:r,className:Ne("rp-table-cell",e),style:{padding:"1rem",verticalAlign:"middle",color:"#1f2937"},...t}));function ol({status:e,isOffline:t}){const r=e.is_active,n=r?"#2fac66":"#1d71b8",i={backgroundColor:r?"#e6f5ec":"#edf4f9",borderLeft:"4px solid "+(r?"#2fac66":"#1d71b8"),borderTop:"1px solid "+(r?"#c3e6d1":"#d1e3f0"),borderRight:"1px solid "+(r?"#c3e6d1":"#d1e3f0"),borderBottom:"1px solid "+(r?"#c3e6d1":"#d1e3f0"),borderRadius:"0.375rem",padding:"1rem 1.25rem",marginBottom:"1.5rem",display:"flex",alignItems:"center",justifyContent:"space-between",minHeight:"56px"},o={backgroundColor:r?"#2fac66":"#1d71b8",color:"#ffffff",padding:"0.25rem 0.75rem",borderRadius:"9999px",fontSize:"0.75rem",fontWeight:600};return(0,ze.jsxs)("div",{style:i,children:[(0,ze.jsx)("span",{style:{fontSize:"1rem",fontWeight:600,color:n},children:e.message}),(0,ze.jsx)("span",{style:o,children:e.tier})]})}function al({status:r,onActivate:n,onDeactivate:i,isLoading:o}){const[a,l]=(0,e.useState)("");return(0,ze.jsxs)("form",{onSubmit:e=>{e.preventDefault(),n(a)},children:[(0,ze.jsxs)("div",{style:{marginBottom:"1rem"},children:[(0,ze.jsx)("label",{htmlFor:"license-key",className:"rp-text-sm rp-font-medium rp-leading-none",style:{display:"block",marginBottom:"0.5rem"},children:(0,t.__)("Lizenzschlssel","recruiting-playbook")}),(0,ze.jsx)(Gi,{id:"license-key",type:"text",placeholder:"RP-PRO-XXXX-XXXX-XXXX-XXXX-XXXX",value:a,onChange:e=>l(e.target.value.toUpperCase()),className:"rp-font-mono rp-uppercase",disabled:o}),(0,ze.jsx)("p",{className:"rp-text-sm rp-text-muted-foreground",style:{marginTop:"0.5rem"},children:(0,t.__)("Geben Sie Ihren Lizenzschlssel ein, um Pro-Features freizuschalten.","recruiting-playbook")})]}),(0,ze.jsxs)("div",{style:{display:"flex",gap:"0.75rem",marginTop:"1.5rem"},children:[(0,ze.jsx)(Ye,{type:"submit",disabled:o||!a,children:o?(0,t.__)("Wird aktiviert...","recruiting-playbook"):(0,t.__)("Lizenz aktivieren","recruiting-playbook")}),r.is_active&&(0,ze.jsx)(Ye,{type:"button",variant:"outline",onClick:i,disabled:o,children:(0,t.__)("Lizenz deaktivieren","recruiting-playbook")})]})]})}function ll({upgradeUrl:e}){const r=[(0,t.__)("Kanban-Board fr Bewerbungsmanagement","recruiting-playbook"),(0,t.__)("REST API & Webhooks fr Integrationen","recruiting-playbook"),(0,t.__)("Anpassbare E-Mail-Templates","recruiting-playbook"),(0,t.__)("Erweiterte Statistiken & Reports","recruiting-playbook"),(0,t.__)("Design-Anpassungen & Custom Branding","recruiting-playbook"),(0,t.__)("Benutzerrollen & Berechtigungen","recruiting-playbook")];return(0,ze.jsxs)("div",{style:{marginTop:"1.5rem",borderRadius:"0.5rem",padding:"1.5rem",background:"linear-gradient(to bottom right, #2fac66, #36a9e1)",color:"#ffffff"},children:[(0,ze.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"0.75rem"},children:[(0,ze.jsx)(Ja,{style:{width:"1.25rem",height:"1.25rem",color:"#ffffff"}}),(0,ze.jsx)("h3",{style:{fontSize:"1.125rem",fontWeight:600,color:"#ffffff",margin:0},children:(0,t.__)("Upgrade auf Pro","recruiting-playbook")})]}),(0,ze.jsx)("p",{style:{marginBottom:"1rem",color:"#ffffff"},children:(0,t.__)("Schalten Sie alle Features frei und nutzen Sie das volle Potenzial:","recruiting-playbook")}),(0,ze.jsx)("ul",{style:{marginBottom:"1.5rem",listStyle:"none",padding:0},children:r.map((e,t)=>(0,ze.jsxs)("li",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"0.5rem",color:"#ffffff"},children:[(0,ze.jsx)(Co,{style:{width:"1rem",height:"1rem",color:"#ffffff"}}),(0,ze.jsx)("span",{children:e})]},t))}),(0,ze.jsxs)("a",{href:e,target:"_blank",rel:"noopener noreferrer",style:{display:"inline-flex",alignItems:"center",gap:"0.5rem",padding:"0.5rem 1rem",backgroundColor:"#ffffff",color:"#1d71b8",borderRadius:"0.375rem",fontWeight:500,textDecoration:"none",fontSize:"0.875rem"},children:[(0,t.__)("Jetzt upgraden","recruiting-playbook"),(0,ze.jsx)(Va,{style:{width:"1rem",height:"1rem"}})]})]})}function sl({features:e}){const r=[{key:"FREE",label:"Free"},{key:"PRO",label:"Pro"},{key:"AI_ADDON",label:"AI Addon"},{key:"BUNDLE",label:"Bundle"}],n={unlimited_jobs:(0,t.__)("Unbegrenzte Stellenanzeigen","recruiting-playbook"),application_list:(0,t.__)("Bewerberliste","recruiting-playbook"),kanban_board:(0,t.__)("Kanban-Board","recruiting-playbook"),advanced_applicant_management:(0,t.__)("Erweitertes Bewerbermanagement","recruiting-playbook"),email_templates:(0,t.__)("E-Mail-Templates","recruiting-playbook"),api_access:(0,t.__)("REST API Zugang","recruiting-playbook"),webhooks:(0,t.__)("Webhooks","recruiting-playbook"),design_settings:(0,t.__)("Design-Einstellungen","recruiting-playbook"),user_roles:(0,t.__)("Benutzerrollen","recruiting-playbook"),ai_job_generation:(0,t.__)("KI-Stellenanzeigen","recruiting-playbook"),ai_text_improvement:(0,t.__)("KI-Textverbesserung","recruiting-playbook")};return(0,ze.jsxs)(De,{style:{marginTop:"2rem"},children:[(0,ze.jsxs)(Ae,{children:[(0,ze.jsx)(Ie,{children:(0,t.__)("Feature-Vergleich","recruiting-playbook")}),(0,ze.jsx)(Me,{children:(0,t.__)("Vergleichen Sie die verfgbaren Features pro Lizenz-Stufe.","recruiting-playbook")})]}),(0,ze.jsx)(Le,{children:(0,ze.jsxs)(Qa,{children:[(0,ze.jsx)(el,{children:(0,ze.jsxs)(rl,{children:[(0,ze.jsx)(nl,{className:"rp-w-[300px]",children:(0,t.__)("Feature","recruiting-playbook")}),r.map(e=>(0,ze.jsx)(nl,{className:"rp-text-center",children:e.label},e.key))]})}),(0,ze.jsx)(tl,{children:Object.entries(n).map(([t,n])=>(0,ze.jsxs)(rl,{children:[(0,ze.jsx)(il,{className:"rp-font-medium",children:n}),r.map(r=>{const n=e[r.key]?.[t];return(0,ze.jsx)(il,{className:"rp-text-center",children:n?(0,ze.jsx)(Co,{className:"rp-mx-auto rp-h-5 rp-w-5",style:{color:"#2fac66"}}):(0,ze.jsx)(Qn,{className:"rp-mx-auto rp-h-5 rp-w-5",style:{color:"#d1d5db"}})},r.key)})]},t))})]})})]})}function cl(){const r=window.rpLicenseData||{},[n,i]=(0,e.useState)(r.status||{}),[o,a]=(0,e.useState)(!1),[l,s]=(0,e.useState)(null),c=r.logoUrl;return(0,ze.jsx)("div",{className:"rp-admin",style:{padding:"20px 0"},children:(0,ze.jsxs)("div",{style:{maxWidth:"900px"},children:[c&&(0,ze.jsx)("div",{style:{marginBottom:"1.5rem"},children:(0,ze.jsx)("img",{src:c,alt:"Recruiting Playbook",style:{width:"150px",height:"auto"}})}),l&&(0,ze.jsx)(Ji,{variant:"success"===l.type?"success":"destructive",style:{marginBottom:"1.5rem"},children:(0,ze.jsx)(Qi,{children:l.text})}),(0,ze.jsxs)(De,{children:[(0,ze.jsx)(Ae,{children:(0,ze.jsx)(Ie,{children:(0,t.__)("Lizenzstatus","recruiting-playbook")})}),(0,ze.jsxs)(Le,{children:[(0,ze.jsx)(ol,{status:n,isOffline:n.is_offline}),(0,ze.jsx)(al,{status:n,onActivate:async e=>{a(!0),s(null);try{const t=await Gn()({path:"/recruiting/v1/license/activate",method:"POST",data:{license_key:e}});t.success?(i(t.status),s({type:"success",text:t.message})):s({type:"error",text:t.message})}catch(e){s({type:"error",text:e.message||(0,t.__)("Ein Fehler ist aufgetreten.","recruiting-playbook")})}finally{a(!1)}},onDeactivate:async()=>{a(!0),s(null);try{const e=await Gn()({path:"/recruiting/v1/license/deactivate",method:"POST"});e.success?(i(e.status),s({type:"success",text:e.message})):s({type:"error",text:e.message})}catch(e){s({type:"error",text:e.message||(0,t.__)("Ein Fehler ist aufgetreten.","recruiting-playbook")})}finally{a(!1)}},isLoading:o}),"FREE"===n.tier&&(0,ze.jsx)(ll,{upgradeUrl:n.upgrade_url})]})]}),(0,ze.jsx)(sl,{features:r.features||{}})]})})}il.displayName="TableCell",(0,e.forwardRef)(({className:e,...t},r)=>(0,ze.jsx)("caption",{ref:r,className:Ne("rp-table-caption",e),style:{marginTop:"1rem",fontSize:"0.875rem",color:"#71717a"},...t})).displayName="TableCaption";const dl=u("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),ul=u("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);function pl({title:e,value:t,description:r,valueColor:n="#1f2937"}){return(0,ze.jsxs)(De,{children:[(0,ze.jsx)(Ae,{style:{padding:"1.5rem",paddingBottom:"0.5rem"},children:(0,ze.jsx)("span",{style:{fontSize:"0.875rem",fontWeight:500,color:"#6b7280"},children:e})}),(0,ze.jsxs)(Le,{style:{padding:"1.5rem",paddingTop:"0"},children:[(0,ze.jsx)("div",{style:{fontSize:"2rem",fontWeight:700,color:n,lineHeight:1.2},children:t}),r&&(0,ze.jsx)("p",{style:{fontSize:"0.75rem",color:"#6b7280",marginTop:"0.25rem"},children:r})]})]})}function ml({title:e,message:t,actionUrl:r,actionLabel:n}){return(0,ze.jsx)(Ji,{style:{backgroundColor:"#fef3c7",borderLeft:"4px solid #f59e0b",borderTop:"1px solid #fcd34d",borderRight:"1px solid #fcd34d",borderBottom:"1px solid #fcd34d",marginBottom:"1rem"},children:(0,ze.jsxs)("div",{children:[(0,ze.jsx)("div",{style:{fontWeight:600,color:"#92400e",marginBottom:"0.25rem"},children:e}),(0,ze.jsx)(Qi,{style:{color:"#a16207"},children:t}),r&&n&&(0,ze.jsx)("div",{style:{marginTop:"0.75rem"},children:(0,ze.jsx)("a",{href:r,target:"_blank",rel:"noopener noreferrer",style:{display:"inline-flex",alignItems:"center",padding:"0.375rem 0.75rem",backgroundColor:"#ffffff",color:"#92400e",border:"1px solid #fcd34d",borderRadius:"0.375rem",fontSize:"0.875rem",fontWeight:500,textDecoration:"none"},children:n})})]})})}function gl({name:e,label:t,exists:r}){return(0,ze.jsxs)("tr",{children:[(0,ze.jsx)("td",{style:{padding:"0.75rem 1rem",borderBottom:"1px solid #e5e7eb"},children:(0,ze.jsx)("code",{style:{backgroundColor:"#f3f4f6",padding:"0.125rem 0.375rem",borderRadius:"0.25rem",fontSize:"0.8125rem"},children:e})}),(0,ze.jsx)("td",{style:{padding:"0.75rem 1rem",borderBottom:"1px solid #e5e7eb"},children:t}),(0,ze.jsx)("td",{style:{padding:"0.75rem 1rem",borderBottom:"1px solid #e5e7eb",textAlign:"center"},children:r?(0,ze.jsx)(dl,{style:{width:"1.25rem",height:"1.25rem",color:"#2fac66"}}):(0,ze.jsx)(ul,{style:{width:"1.25rem",height:"1.25rem",color:"#ef4444"}})})]})}function hl({label:e,value:t}){return(0,ze.jsxs)("tr",{children:[(0,ze.jsx)("td",{style:{padding:"0.75rem 1rem",borderBottom:"1px solid #e5e7eb",fontWeight:500},children:e}),(0,ze.jsx)("td",{style:{padding:"0.75rem 1rem",borderBottom:"1px solid #e5e7eb"},children:(0,ze.jsx)("code",{style:{backgroundColor:"#f3f4f6",padding:"0.125rem 0.375rem",borderRadius:"0.25rem",fontSize:"0.8125rem"},children:t})})]})}function fl(){const e=window.rpDashboardData||{},r=e.stats||{},n=e.notices||[],i=e.tables||{},o=e.systemInfo||{},a=e.logoUrl,l=Object.values(i).every(e=>e.exists);return(0,ze.jsx)("div",{className:"rp-admin",style:{padding:"20px 0"},children:(0,ze.jsxs)("div",{style:{maxWidth:"1200px"},children:[(0,ze.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-end",marginBottom:"1.5rem"},children:[a&&(0,ze.jsx)("img",{src:a,alt:"Recruiting Playbook",style:{width:"150px",height:"auto"}}),(0,ze.jsx)("h1",{style:{margin:0,fontSize:"1.5rem",fontWeight:700,color:"#1f2937"},children:(0,t.__)("Dashboard","recruiting-playbook")})]}),n.length>0&&(0,ze.jsx)("div",{style:{marginBottom:"1.5rem"},children:n.map((e,t)=>(0,ze.jsx)(ml,{title:e.title,message:e.message,actionUrl:e.actionUrl,actionLabel:e.actionLabel},t))}),(0,ze.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(240px, 1fr))",gap:"1.5rem",marginBottom:"2rem"},children:[(0,ze.jsx)(pl,{title:(0,t.__)("Aktive Stellen","recruiting-playbook"),value:r.activeJobs||0,description:(0,t.__)("Verffentlichte Stellenanzeigen","recruiting-playbook"),valueColor:"#1d71b8"}),(0,ze.jsx)(pl,{title:(0,t.__)("Neue Bewerbungen","recruiting-playbook"),value:r.newApplications||0,description:(0,t.__)("Noch nicht bearbeitet","recruiting-playbook"),valueColor:"#2fac66"}),(0,ze.jsx)(pl,{title:(0,t.__)("Gesamt Bewerbungen","recruiting-playbook"),value:r.totalApplications||0,description:(0,t.__)("Alle eingegangenen Bewerbungen","recruiting-playbook")})]}),(0,ze.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(400px, 1fr))",gap:"1.5rem"},children:[(0,ze.jsxs)(De,{children:[(0,ze.jsxs)(Ae,{children:[(0,ze.jsx)(Ie,{children:(0,t.__)("Datenbank-Integritt","recruiting-playbook")}),(0,ze.jsx)(Me,{children:l?(0,t.__)("Alle Tabellen sind vorhanden","recruiting-playbook"):(0,t.__)("Einige Tabellen fehlen","recruiting-playbook")})]}),(0,ze.jsxs)(Le,{children:[(0,ze.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"1rem",padding:"0.5rem 0.75rem",backgroundColor:l?"#e6f5ec":"#fef2f2",borderRadius:"0.375rem",width:"fit-content"},children:[l?(0,ze.jsx)(dl,{style:{width:"1rem",height:"1rem",color:"#2fac66"}}):(0,ze.jsx)(ul,{style:{width:"1rem",height:"1rem",color:"#ef4444"}}),(0,ze.jsx)("span",{style:{fontSize:"0.875rem",fontWeight:500,color:l?"#166534":"#991b1b"},children:l?(0,t.__)("Alles OK","recruiting-playbook"):(0,t.__)("Fehler gefunden","recruiting-playbook")})]}),(0,ze.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:"0.875rem"},children:[(0,ze.jsx)("thead",{children:(0,ze.jsxs)("tr",{style:{backgroundColor:"#f9fafb"},children:[(0,ze.jsx)("th",{style:{padding:"0.75rem 1rem",textAlign:"left",fontWeight:500,color:"#6b7280",borderBottom:"1px solid #e5e7eb"},children:(0,t.__)("Tabelle","recruiting-playbook")}),(0,ze.jsx)("th",{style:{padding:"0.75rem 1rem",textAlign:"left",fontWeight:500,color:"#6b7280",borderBottom:"1px solid #e5e7eb"},children:(0,t.__)("Beschreibung","recruiting-playbook")}),(0,ze.jsx)("th",{style:{padding:"0.75rem 1rem",textAlign:"center",fontWeight:500,color:"#6b7280",borderBottom:"1px solid #e5e7eb"},children:(0,t.__)("Status","recruiting-playbook")})]})}),(0,ze.jsx)("tbody",{children:Object.entries(i).map(([e,t])=>(0,ze.jsx)(gl,{name:t.name,label:t.label,exists:t.exists},e))})]}),!l&&(0,ze.jsx)("p",{style:{marginTop:"1rem",fontSize:"0.875rem",color:"#ef4444"},children:(0,t.__)("Bitte deaktivieren und reaktivieren Sie das Plugin, um die fehlenden Tabellen zu erstellen.","recruiting-playbook")})]})]}),(0,ze.jsxs)(De,{children:[(0,ze.jsxs)(Ae,{children:[(0,ze.jsx)(Ie,{children:(0,t.__)("System-Info","recruiting-playbook")}),(0,ze.jsx)(Me,{children:(0,t.__)("Technische Informationen","recruiting-playbook")})]}),(0,ze.jsx)(Le,{children:(0,ze.jsx)("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:"0.875rem"},children:(0,ze.jsxs)("tbody",{children:[(0,ze.jsx)(hl,{label:(0,t.__)("Plugin Version","recruiting-playbook"),value:o.pluginVersion||"-"}),(0,ze.jsx)(hl,{label:(0,t.__)("PHP Version","recruiting-playbook"),value:o.phpVersion||"-"}),(0,ze.jsx)(hl,{label:(0,t.__)("WordPress Version","recruiting-playbook"),value:o.wpVersion||"-"}),(0,ze.jsx)(hl,{label:(0,t.__)("Datenbank-Version","recruiting-playbook"),value:o.dbVersion||"-"})]})})})]})]})]})})}const bl=u("chevrons-left",[["path",{d:"m11 17-5-5 5-5",key:"13zhaf"}],["path",{d:"m18 17-5-5 5-5",key:"h8a8et"}]]),yl=u("chevrons-right",[["path",{d:"m6 17 5-5-5-5",key:"xnjwq"}],["path",{d:"m13 17 5-5-5-5",key:"17xmmf"}]]),xl={new:{label:"Neu",color:"#2271b1",bg:"#e6f3ff"},screening:{label:"In Prfung",color:"#dba617",bg:"#fff8e6"},interview:{label:"Interview",color:"#9b59b6",bg:"#f5e6ff"},offer:{label:"Angebot",color:"#1e8cbe",bg:"#e6f5ff"},hired:{label:"Eingestellt",color:"#2fac66",bg:"#e6f5ec"},rejected:{label:"Abgelehnt",color:"#d63638",bg:"#ffe6e6"},withdrawn:{label:"Zurckgezogen",color:"#787c82",bg:"#f0f0f0"}};function vl({status:e,label:t,count:r,isActive:n,onClick:i}){const o=xl[e]||{color:"#787c82"};return(0,ze.jsxs)("button",{type:"button",onClick:i,style:{padding:"0.5rem 1rem",border:"none",background:n?o.bg||"#f3f4f6":"transparent",borderBottom:n?`2px solid ${o.color}`:"2px solid transparent",color:n?o.color:"#6b7280",fontWeight:n?600:400,fontSize:"0.875rem",cursor:"pointer",display:"flex",alignItems:"center",gap:"0.5rem",transition:"all 0.15s ease"},children:[t,(0,ze.jsx)("span",{style:{backgroundColor:n?o.color:"#e5e7eb",color:n?"#fff":"#6b7280",padding:"0.125rem 0.5rem",borderRadius:"9999px",fontSize:"0.75rem",fontWeight:500},children:r})]})}function kl({status:e}){const t=xl[e]||{label:e,color:"#787c82",bg:"#f0f0f0"};return(0,ze.jsx)("span",{style:{display:"inline-flex",alignItems:"center",padding:"0.25rem 0.625rem",borderRadius:"9999px",fontSize:"0.75rem",fontWeight:500,backgroundColor:t.bg,color:t.color},children:t.label})}function jl({children:e,sortable:t,sorted:r,direction:n,onClick:i,style:o={}}){return(0,ze.jsx)("th",{onClick:t?i:void 0,style:{padding:"0.75rem 1rem",textAlign:"left",fontWeight:500,fontSize:"0.75rem",color:"#6b7280",textTransform:"uppercase",letterSpacing:"0.05em",borderBottom:"1px solid #e5e7eb",backgroundColor:"#f9fafb",cursor:t?"pointer":"default",userSelect:"none",...o},children:(0,ze.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.25rem"},children:[e,t&&r&&(0,ze.jsx)("span",{style:{fontSize:"0.625rem"},children:"asc"===n?"":""})]})})}function wl({children:e,style:t={}}){return(0,ze.jsx)("td",{style:{padding:"0.75rem 1rem",borderBottom:"1px solid #e5e7eb",fontSize:"0.875rem",color:"#1f2937",...t},children:e})}function _l({currentPage:e,totalPages:r,totalItems:n,perPage:i,onPageChange:o}){const a=(e-1)*i+1,l=Math.min(e*i,n);return(0,ze.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"0.75rem 1rem",borderTop:"1px solid #e5e7eb",backgroundColor:"#f9fafb"},children:[(0,ze.jsx)("span",{style:{fontSize:"0.875rem",color:"#6b7280"},children:n>0?`${a}-${l} von ${n} Bewerbungen`:(0,t.__)("Keine Bewerbungen","recruiting-playbook")}),(0,ze.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.25rem"},children:[(0,ze.jsx)("button",{type:"button",onClick:()=>o(1),disabled:1===e,style:{padding:"0.375rem",border:"1px solid #e5e7eb",borderRadius:"0.375rem",background:"#fff",cursor:1===e?"not-allowed":"pointer",opacity:1===e?.5:1},title:(0,t.__)("Erste Seite","recruiting-playbook"),children:(0,ze.jsx)(bl,{style:{width:"1rem",height:"1rem",color:"#6b7280"}})}),(0,ze.jsx)("button",{type:"button",onClick:()=>o(e-1),disabled:1===e,style:{padding:"0.375rem",border:"1px solid #e5e7eb",borderRadius:"0.375rem",background:"#fff",cursor:1===e?"not-allowed":"pointer",opacity:1===e?.5:1},title:(0,t.__)("Vorherige Seite","recruiting-playbook"),children:(0,ze.jsx)(Aa,{style:{width:"1rem",height:"1rem",color:"#6b7280"}})}),(0,ze.jsxs)("span",{style:{padding:"0.375rem 0.75rem",fontSize:"0.875rem",color:"#1f2937"},children:[e," / ",r||1]}),(0,ze.jsx)("button",{type:"button",onClick:()=>o(e+1),disabled:e>=r,style:{padding:"0.375rem",border:"1px solid #e5e7eb",borderRadius:"0.375rem",background:"#fff",cursor:e>=r?"not-allowed":"pointer",opacity:e>=r?.5:1},title:(0,t.__)("Nchste Seite","recruiting-playbook"),children:(0,ze.jsx)(Ia,{style:{width:"1rem",height:"1rem",color:"#6b7280"}})}),(0,ze.jsx)("button",{type:"button",onClick:()=>o(r),disabled:e>=r,style:{padding:"0.375rem",border:"1px solid #e5e7eb",borderRadius:"0.375rem",background:"#fff",cursor:e>=r?"not-allowed":"pointer",opacity:e>=r?.5:1},title:(0,t.__)("Letzte Seite","recruiting-playbook"),children:(0,ze.jsx)(yl,{style:{width:"1rem",height:"1rem",color:"#6b7280"}})})]})]})}function Sl(){const r=window.rpApplicationsData||{},[n,i]=(0,e.useState)(r.applications||[]),[o,a]=(0,e.useState)(r.statusCounts||{}),[l,s]=(0,e.useState)(r.jobs||[]),[c,d]=(0,e.useState)(!1),[u,m]=(0,e.useState)(""),[g,h]=(0,e.useState)(""),[f,b]=(0,e.useState)(""),[y,x]=(0,e.useState)(1),[v,k]=(0,e.useState)(r.total||0),[j]=(0,e.useState)(20),[w,_]=(0,e.useState)("created_at"),[S,C]=(0,e.useState)("desc"),E=Math.ceil(v/j),T=r.logoUrl,R=r.adminUrl||"",N=Object.entries(o).filter(([e])=>"deleted"!==e).reduce((e,[,t])=>e+t,0),[z,D]=(0,e.useState)(!0);(0,e.useEffect)(()=>{z&&D(!1)},[u,y,w,S,f]);const A=e=>{m(e),x(1);{const t=new URL(window.location.href);e?t.searchParams.set("status",e):t.searchParams.delete("status"),t.searchParams.delete("paged"),window.location.href=t.toString()}},I=e=>{w===e?C("asc"===S?"desc":"asc"):(_(e),C("desc")),x(1)},M=e=>{const t=new Date(e),r=new Date-t,n=Math.floor(r/864e5),i=Math.floor(r/36e5),o=Math.floor(r/6e4);return o<60?`vor ${o} Min.`:i<24?`vor ${i} Std.`:n<7?`vor ${n} Tagen`:t.toLocaleDateString("de-DE")};return(0,ze.jsx)("div",{className:"rp-admin",style:{padding:"20px 0"},children:(0,ze.jsxs)("div",{style:{maxWidth:"1400px"},children:[(0,ze.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-end",marginBottom:"1.5rem"},children:[T&&(0,ze.jsx)("img",{src:T,alt:"Recruiting Playbook",style:{width:"150px",height:"auto"}}),(0,ze.jsx)("h1",{style:{margin:0,fontSize:"1.5rem",fontWeight:700,color:"#1f2937"},children:(0,t.__)("Bewerbungen","recruiting-playbook")})]}),(0,ze.jsxs)(De,{children:[(0,ze.jsxs)("div",{style:{display:"flex",borderBottom:"1px solid #e5e7eb",overflowX:"auto"},children:[(0,ze.jsx)(vl,{status:"",label:(0,t.__)("Alle","recruiting-playbook"),count:N,isActive:""===u,onClick:()=>A("")}),Object.entries(xl).filter(([e])=>"deleted"!==e).map(([e,t])=>(0,ze.jsx)(vl,{status:e,label:t.label,count:o[e]||0,isActive:u===e,onClick:()=>A(e)},e))]}),(0,ze.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"1rem",padding:"1rem",borderBottom:"1px solid #e5e7eb",flexWrap:"wrap"},children:[(0,ze.jsxs)("form",{onSubmit:e=>{e.preventDefault(),x(1);{const e=new URL(window.location.href);g?e.searchParams.set("s",g):e.searchParams.delete("s"),window.location.href=e.toString()}},style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[(0,ze.jsxs)("div",{style:{position:"relative"},children:[(0,ze.jsx)(p,{style:{position:"absolute",left:"0.75rem",top:"50%",transform:"translateY(-50%)",width:"1rem",height:"1rem",color:"#9ca3af"}}),(0,ze.jsx)("input",{type:"text",placeholder:(0,t.__)("Name oder E-Mail suchen...","recruiting-playbook"),value:g,onChange:e=>h(e.target.value),style:{paddingLeft:"2.5rem",paddingRight:"1rem",paddingTop:"0.5rem",paddingBottom:"0.5rem",border:"1px solid #e5e7eb",borderRadius:"0.375rem",fontSize:"0.875rem",width:"280px",outline:"none"}})]}),(0,ze.jsx)(Ye,{type:"submit",style:{padding:"0.5rem 1rem"},children:(0,t.__)("Suchen","recruiting-playbook")})]}),(0,ze.jsxs)("select",{value:f,onChange:e=>{b(e.target.value),x(1);{const t=new URL(window.location.href);e.target.value?t.searchParams.set("job_id",e.target.value):t.searchParams.delete("job_id"),window.location.href=t.toString()}},style:{padding:"0.5rem 2rem 0.5rem 0.75rem",border:"1px solid #e5e7eb",borderRadius:"0.375rem",fontSize:"0.875rem",backgroundColor:"#fff",cursor:"pointer"},children:[(0,ze.jsx)("option",{value:"",children:(0,t.__)("Alle Stellen","recruiting-playbook")}),l.map(e=>(0,ze.jsx)("option",{value:e.id,children:e.title},e.id))]}),(0,ze.jsx)("div",{style:{flexGrow:1}}),(0,ze.jsxs)("a",{href:`${R}admin.php?page=rp-export`,style:{display:"inline-flex",alignItems:"center",gap:"0.5rem",padding:"0.5rem 1rem",backgroundColor:"#fff",color:"#1d71b8",border:"1px solid #1d71b8",borderRadius:"0.375rem",fontSize:"0.875rem",fontWeight:500,textDecoration:"none"},children:[(0,ze.jsx)(yi,{style:{width:"1rem",height:"1rem"}}),(0,t.__)("Exportieren","recruiting-playbook")]})]}),(0,ze.jsx)("div",{style:{overflowX:"auto"},children:(0,ze.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse"},children:[(0,ze.jsx)("thead",{children:(0,ze.jsxs)("tr",{children:[(0,ze.jsx)(jl,{sortable:!0,sorted:"last_name"===w,direction:S,onClick:()=>I("last_name"),children:(0,t.__)("Bewerber","recruiting-playbook")}),(0,ze.jsx)(jl,{children:(0,t.__)("Stelle","recruiting-playbook")}),(0,ze.jsx)(jl,{sortable:!0,sorted:"status"===w,direction:S,onClick:()=>I("status"),children:(0,t.__)("Status","recruiting-playbook")}),(0,ze.jsx)(jl,{children:(0,t.__)("Dokumente","recruiting-playbook")}),(0,ze.jsx)(jl,{sortable:!0,sorted:"created_at"===w,direction:S,onClick:()=>I("created_at"),children:(0,t.__)("Eingegangen","recruiting-playbook")}),(0,ze.jsx)(jl,{children:(0,t.__)("Aktionen","recruiting-playbook")})]})}),(0,ze.jsx)("tbody",{children:c?(0,ze.jsx)("tr",{children:(0,ze.jsxs)(wl,{colSpan:6,style:{textAlign:"center",padding:"3rem"},children:[(0,ze.jsx)("div",{style:{display:"inline-block",width:"1.5rem",height:"1.5rem",border:"2px solid #e5e7eb",borderTopColor:"#1d71b8",borderRadius:"50%",animation:"spin 0.8s linear infinite"}}),(0,ze.jsx)("style",{children:"@keyframes spin { to { transform: rotate(360deg); } }"})]})}):0===n.length?(0,ze.jsx)("tr",{children:(0,ze.jsx)(wl,{colSpan:6,style:{textAlign:"center",padding:"3rem",color:"#6b7280"},children:(0,t.__)("Keine Bewerbungen gefunden.","recruiting-playbook")})}):n.map(e=>(0,ze.jsxs)("tr",{style:{transition:"background-color 0.15s ease"},onMouseEnter:e=>{e.currentTarget.style.backgroundColor="#f9fafb"},onMouseLeave:e=>{e.currentTarget.style.backgroundColor="transparent"},children:[(0,ze.jsx)(wl,{children:(0,ze.jsxs)("a",{href:`${R}admin.php?page=rp-application-detail&id=${e.id}`,style:{fontWeight:600,color:"#1f2937",textDecoration:"none"},children:[e.first_name," ",e.last_name]})}),(0,ze.jsx)(wl,{children:e.job_title||(0,ze.jsx)("em",{style:{color:"#9ca3af"},children:(0,t.__)("Gelscht","recruiting-playbook")})}),(0,ze.jsx)(wl,{children:(0,ze.jsx)(kl,{status:e.status})}),(0,ze.jsx)(wl,{children:(0,ze.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.25rem",color:e.documents_count>0?"#1d71b8":"#d1d5db"},children:[(0,ze.jsx)(fi,{style:{width:"1rem",height:"1rem"}}),(0,ze.jsx)("span",{style:{fontSize:"0.875rem"},children:e.documents_count||0})]})}),(0,ze.jsx)(wl,{children:(0,ze.jsx)("span",{title:e.created_at,children:M(e.created_at)})}),(0,ze.jsx)(wl,{children:(0,ze.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[(0,ze.jsxs)("a",{href:`${R}admin.php?page=rp-application-detail&id=${e.id}`,style:{display:"inline-flex",alignItems:"center",gap:"0.25rem",padding:"0.375rem 0.75rem",backgroundColor:"#1d71b8",color:"#fff",borderRadius:"0.375rem",fontSize:"0.75rem",fontWeight:500,textDecoration:"none"},children:[(0,ze.jsx)(bi,{style:{width:"0.875rem",height:"0.875rem"}}),(0,t.__)("Ansehen","recruiting-playbook")]}),"new"===e.status&&(0,ze.jsx)("a",{href:`${R}admin.php?page=rp-applications&action=set_status&id=${e.id}&status=screening&_wpnonce=${r.nonce}`,style:{display:"inline-flex",alignItems:"center",padding:"0.375rem 0.75rem",backgroundColor:"#dba617",color:"#fff",borderRadius:"0.375rem",fontSize:"0.75rem",fontWeight:500,textDecoration:"none"},children:(0,t.__)("Prfen","recruiting-playbook")})]})})]},e.id))})]})}),(0,ze.jsx)(_l,{currentPage:y,totalPages:E,totalItems:v,perPage:j,onPageChange:e=>{x(e);{const t=new URL(window.location.href);t.searchParams.set("paged",e.toString()),window.location.href=t.toString()}}})]})]})})}function Cl({settings:e,pages:r,saving:n,error:i,onUpdate:o,onSave:a}){var l;const s=window.rpSettingsData?.i18n||{},c=window.rpSettingsData?.homeUrl||"";return e?(0,ze.jsxs)("form",{onSubmit:t=>{t.preventDefault(),a({notification_email:e?.notification_email,privacy_page_id:e?.privacy_page_id,jobs_per_page:e?.jobs_per_page,jobs_slug:e?.jobs_slug,enable_schema:e?.enable_schema})},children:[i&&(0,ze.jsxs)(Ji,{variant:"destructive",style:{marginBottom:"1rem"},children:[(0,ze.jsx)(Da,{style:{width:"1rem",height:"1rem"}}),(0,ze.jsx)(Qi,{children:i})]}),(0,ze.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"1.5rem"},children:[(0,ze.jsxs)(De,{children:[(0,ze.jsxs)(Ae,{children:[(0,ze.jsx)(Ie,{children:s.notifications||(0,t.__)("Benachrichtigungen","recruiting-playbook")}),(0,ze.jsx)(Me,{children:s.notificationsDesc||(0,t.__)("E-Mail-Benachrichtigungen fr neue Bewerbungen","recruiting-playbook")})]}),(0,ze.jsx)(Le,{children:(0,ze.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[(0,ze.jsxs)("div",{children:[(0,ze.jsx)(uo,{htmlFor:"notification_email",children:s.notificationEmail||(0,t.__)("Benachrichtigungs-E-Mail","recruiting-playbook")}),(0,ze.jsx)(Gi,{id:"notification_email",type:"email",value:e.notification_email||"",onChange:e=>o("notification_email",e.target.value),placeholder:"jobs@example.com"}),(0,ze.jsx)("p",{style:{marginTop:"0.25rem",fontSize:"0.75rem",color:"#6b7280"},children:s.notificationEmailDesc||(0,t.__)("E-Mail-Adresse fr neue Bewerbungen.","recruiting-playbook")})]}),(0,ze.jsxs)("div",{children:[(0,ze.jsx)(uo,{htmlFor:"privacy_page_id",children:s.privacyPage||(0,t.__)("Datenschutz-Seite","recruiting-playbook")}),(0,ze.jsxs)("select",{id:"privacy_page_id",value:e.privacy_page_id||"",onChange:e=>o("privacy_page_id",parseInt(e.target.value,10)||0),style:{display:"block",width:"100%",height:"40px",padding:"0.5rem 0.75rem",fontSize:"0.875rem",color:"#18181b",backgroundColor:"#ffffff",border:"1px solid #d1d5db",borderRadius:"6px"},children:[(0,ze.jsx)("option",{value:"",children:s.selectPage||(0,t.__)(" Seite auswhlen ","recruiting-playbook")}),r?.map(e=>(0,ze.jsx)("option",{value:e.id,children:e.title},e.id))]}),(0,ze.jsx)("p",{style:{marginTop:"0.25rem",fontSize:"0.75rem",color:"#6b7280"},children:s.privacyPageDesc||(0,t.__)("Seite mit Datenschutzerklrung fr das Bewerbungsformular.","recruiting-playbook")})]})]})})]}),(0,ze.jsxs)(De,{children:[(0,ze.jsxs)(Ae,{children:[(0,ze.jsx)(Ie,{children:s.jobListings||(0,t.__)("Stellenanzeigen","recruiting-playbook")}),(0,ze.jsx)(Me,{children:s.jobListingsDesc||(0,t.__)("Einstellungen fr Stellenanzeigen und die Karriereseite","recruiting-playbook")})]}),(0,ze.jsx)(Le,{children:(0,ze.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[(0,ze.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:[(0,ze.jsxs)("div",{children:[(0,ze.jsx)(uo,{htmlFor:"jobs_per_page",children:s.jobsPerPage||(0,t.__)("Stellen pro Seite","recruiting-playbook")}),(0,ze.jsx)(Gi,{id:"jobs_per_page",type:"number",min:"1",max:"50",value:e.jobs_per_page||10,onChange:e=>o("jobs_per_page",parseInt(e.target.value,10)||10),style:{width:"100px"}})]}),(0,ze.jsxs)("div",{children:[(0,ze.jsx)(uo,{htmlFor:"jobs_slug",children:s.urlSlug||(0,t.__)("URL-Slug","recruiting-playbook")}),(0,ze.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.25rem"},children:[(0,ze.jsxs)("code",{style:{fontSize:"0.75rem",color:"#6b7280"},children:[c,"/"]}),(0,ze.jsx)(Gi,{id:"jobs_slug",type:"text",value:e.jobs_slug||"jobs",onChange:e=>o("jobs_slug",e.target.value),pattern:"[a-z0-9-]+",style:{width:"120px"}}),(0,ze.jsx)("code",{style:{fontSize:"0.75rem",color:"#6b7280"},children:"/"})]}),(0,ze.jsx)("p",{style:{marginTop:"0.25rem",fontSize:"0.75rem",color:"#6b7280"},children:s.urlSlugDesc||(0,t.__)("URL-Pfad fr die Stellenbersicht.","recruiting-playbook")})]})]}),(0,ze.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",paddingTop:"0.5rem"},children:[(0,ze.jsxs)("div",{children:[(0,ze.jsx)(uo,{htmlFor:"enable_schema",style:{marginBottom:0},children:s.googleForJobs||(0,t.__)("Google for Jobs Schema","recruiting-playbook")}),(0,ze.jsx)("p",{style:{marginTop:"0.25rem",fontSize:"0.75rem",color:"#6b7280"},children:s.googleForJobsDesc||(0,t.__)("JSON-LD Schema fr bessere Sichtbarkeit in Google","recruiting-playbook")})]}),(0,ze.jsx)(co,{id:"enable_schema",checked:null===(l=e.enable_schema)||void 0===l||l,onCheckedChange:e=>o("enable_schema",e)})]})]})})]}),(0,ze.jsx)("div",{style:{display:"flex",justifyContent:"flex-end"},children:(0,ze.jsx)(Ye,{type:"submit",disabled:n,children:n?s.saving||(0,t.__)("Speichern...","recruiting-playbook"):s.saveSettings||(0,t.__)("Einstellungen speichern","recruiting-playbook")})})]})]}):null}function El({settings:e,saving:r,error:n,onUpdate:i,onSave:o}){var a;const l=window.rpSettingsData?.i18n||{},s=window.rpSettingsData?.isPro||!1;return e?(0,ze.jsxs)("form",{onSubmit:t=>{t.preventDefault();const r={company_name:e?.company_name,company_street:e?.company_street,company_zip:e?.company_zip,company_city:e?.company_city,company_phone:e?.company_phone,company_website:e?.company_website,company_email:e?.company_email,sender_name:e?.sender_name,sender_email:e?.sender_email};s&&(r.hide_email_branding=e?.hide_email_branding),o(r)},children:[n&&(0,ze.jsxs)(Ji,{variant:"destructive",style:{marginBottom:"1rem"},children:[(0,ze.jsx)(Da,{style:{width:"1rem",height:"1rem"}}),(0,ze.jsx)(Qi,{children:n})]}),(0,ze.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"1.5rem"},children:[(0,ze.jsxs)(De,{children:[(0,ze.jsxs)(Ae,{children:[(0,ze.jsx)(Ie,{children:l.companyData||(0,t.__)("Firmendaten","recruiting-playbook")}),(0,ze.jsx)(Me,{children:l.companyDataDesc||(0,t.__)("Diese Daten werden in E-Mail-Signaturen und im Google for Jobs Schema verwendet.","recruiting-playbook")})]}),(0,ze.jsx)(Le,{children:(0,ze.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[(0,ze.jsxs)("div",{children:[(0,ze.jsxs)(uo,{htmlFor:"company_name",children:[l.companyName||(0,t.__)("Firmenname","recruiting-playbook"),(0,ze.jsx)("span",{style:{color:"#ef4444"},children:" *"})]}),(0,ze.jsx)(Gi,{id:"company_name",type:"text",value:e.company_name||"",onChange:e=>i("company_name",e.target.value),required:!0}),(0,ze.jsx)("p",{style:{marginTop:"0.25rem",fontSize:"0.75rem",color:"#6b7280"},children:l.companyNameDesc||(0,t.__)("Wird im Schema, E-Mails und auf der Karriereseite angezeigt.","recruiting-playbook")})]}),(0,ze.jsxs)("div",{children:[(0,ze.jsx)(uo,{htmlFor:"company_street",children:l.street||(0,t.__)("Strae & Hausnummer","recruiting-playbook")}),(0,ze.jsx)(Gi,{id:"company_street",type:"text",value:e.company_street||"",onChange:e=>i("company_street",e.target.value)})]}),(0,ze.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"100px 1fr",gap:"1rem"},children:[(0,ze.jsxs)("div",{children:[(0,ze.jsx)(uo,{htmlFor:"company_zip",children:l.zip||(0,t.__)("PLZ","recruiting-playbook")}),(0,ze.jsx)(Gi,{id:"company_zip",type:"text",value:e.company_zip||"",onChange:e=>i("company_zip",e.target.value)})]}),(0,ze.jsxs)("div",{children:[(0,ze.jsx)(uo,{htmlFor:"company_city",children:l.city||(0,t.__)("Stadt","recruiting-playbook")}),(0,ze.jsx)(Gi,{id:"company_city",type:"text",value:e.company_city||"",onChange:e=>i("company_city",e.target.value)})]})]}),(0,ze.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:[(0,ze.jsxs)("div",{children:[(0,ze.jsx)(uo,{htmlFor:"company_phone",children:l.phone||(0,t.__)("Telefon","recruiting-playbook")}),(0,ze.jsx)(Gi,{id:"company_phone",type:"tel",value:e.company_phone||"",onChange:e=>i("company_phone",e.target.value),placeholder:"+49 123 456789"})]}),(0,ze.jsxs)("div",{children:[(0,ze.jsx)(uo,{htmlFor:"company_website",children:l.website||(0,t.__)("Website","recruiting-playbook")}),(0,ze.jsx)(Gi,{id:"company_website",type:"url",value:e.company_website||"",onChange:e=>i("company_website",e.target.value),placeholder:"https://www.example.com"})]})]}),(0,ze.jsxs)("div",{children:[(0,ze.jsxs)(uo,{htmlFor:"company_email",children:[l.contactEmail||(0,t.__)("Kontakt-E-Mail","recruiting-playbook"),(0,ze.jsx)("span",{style:{color:"#ef4444"},children:" *"})]}),(0,ze.jsx)(Gi,{id:"company_email",type:"email",value:e.company_email||"",onChange:e=>i("company_email",e.target.value),required:!0}),(0,ze.jsx)("p",{style:{marginTop:"0.25rem",fontSize:"0.75rem",color:"#6b7280"},children:l.contactEmailDesc||(0,t.__)("Allgemeine Kontakt-E-Mail der Firma (fr E-Mail-Signaturen).","recruiting-playbook")})]})]})})]}),(0,ze.jsxs)(De,{children:[(0,ze.jsxs)(Ae,{children:[(0,ze.jsx)(Ie,{children:l.defaultSender||(0,t.__)("Standard-Absender","recruiting-playbook")}),(0,ze.jsx)(Me,{children:l.defaultSenderDesc||(0,t.__)("Standard-Absenderdaten fr automatische und manuelle E-Mails.","recruiting-playbook")})]}),(0,ze.jsx)(Le,{children:(0,ze.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:[(0,ze.jsxs)("div",{children:[(0,ze.jsx)(uo,{htmlFor:"sender_name",children:l.senderName||(0,t.__)("Absender-Name","recruiting-playbook")}),(0,ze.jsx)(Gi,{id:"sender_name",type:"text",value:e.sender_name||"",onChange:e=>i("sender_name",e.target.value),placeholder:l.hrDepartment||(0,t.__)("Personalabteilung","recruiting-playbook")}),(0,ze.jsx)("p",{style:{marginTop:"0.25rem",fontSize:"0.75rem",color:"#6b7280"},children:l.senderNameDesc||(0,t.__)("Name, der als Absender in E-Mails angezeigt wird.","recruiting-playbook")})]}),(0,ze.jsxs)("div",{children:[(0,ze.jsx)(uo,{htmlFor:"sender_email",children:l.senderEmail||(0,t.__)("Absender-E-Mail","recruiting-playbook")}),(0,ze.jsx)(Gi,{id:"sender_email",type:"email",value:e.sender_email||"",onChange:e=>i("sender_email",e.target.value),placeholder:"jobs@example.com"}),(0,ze.jsx)("p",{style:{marginTop:"0.25rem",fontSize:"0.75rem",color:"#6b7280"},children:l.senderEmailDesc||(0,t.__)("E-Mail-Adresse, von der E-Mails gesendet werden.","recruiting-playbook")})]})]})})]}),s&&(0,ze.jsxs)(De,{children:[(0,ze.jsxs)(Ae,{children:[(0,ze.jsx)(Ie,{children:l.proSettings||(0,t.__)("Pro-Einstellungen","recruiting-playbook")}),(0,ze.jsx)(Me,{children:l.proSettingsDesc||(0,t.__)("Erweiterte Einstellungen fr Pro-Nutzer.","recruiting-playbook")})]}),(0,ze.jsx)(Le,{children:(0,ze.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,ze.jsxs)("div",{children:[(0,ze.jsx)(uo,{htmlFor:"hide_email_branding",style:{marginBottom:0},children:l.whiteLabel||(0,t.__)("White-Label E-Mails","recruiting-playbook")}),(0,ze.jsx)("p",{style:{marginTop:"0.25rem",fontSize:"0.75rem",color:"#6b7280"},children:l.whiteLabelDesc||(0,t.__)('"Versand ber Recruiting Playbook"-Hinweis in E-Mails ausblenden',"recruiting-playbook")})]}),(0,ze.jsx)(co,{id:"hide_email_branding",checked:null!==(a=e.hide_email_branding)&&void 0!==a&&a,onCheckedChange:e=>i("hide_email_branding",e)})]})})]}),(0,ze.jsx)("div",{style:{display:"flex",justifyContent:"flex-end"},children:(0,ze.jsx)(Ye,{type:"submit",disabled:r,children:r?l.saving||(0,t.__)("Speichern...","recruiting-playbook"):l.saveSettings||(0,t.__)("Einstellungen speichern","recruiting-playbook")})})]})]}):null}function Tl(){const[r,n]=(0,e.useState)(!1),[i,o]=(0,e.useState)(!1),a=window.rpSettingsData?.i18n||{},l=window.rpSettingsData?.exportUrl||"",s=window.rpSettingsData?.nonce||"",c=[a.settingsExport||(0,t.__)("Einstellungen","recruiting-playbook"),a.jobsExport||(0,t.__)("Stellen (inkl. Meta-Daten)","recruiting-playbook"),a.taxonomiesExport||(0,t.__)("Taxonomien (Kategorien, Standorte, etc.)","recruiting-playbook"),a.candidatesExport||(0,t.__)("Kandidaten","recruiting-playbook"),a.applicationsExport||(0,t.__)("Bewerbungen","recruiting-playbook"),a.documentsExport||(0,t.__)("Dokument-Metadaten","recruiting-playbook"),a.activityLogExport||(0,t.__)("Aktivitts-Log (letzte 1000 Eintrge)","recruiting-playbook")];return(0,ze.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"1.5rem"},children:[i&&(0,ze.jsx)(Ji,{style:{backgroundColor:"#e6f5ec",borderColor:"#2fac66"},children:(0,ze.jsx)(Qi,{children:a.downloadStarted||(0,t.__)("Download wurde gestartet.","recruiting-playbook")})}),(0,ze.jsxs)(De,{children:[(0,ze.jsxs)(Ae,{children:[(0,ze.jsx)(Ie,{children:a.fullBackup||(0,t.__)("Vollstndiger Backup","recruiting-playbook")}),(0,ze.jsx)(Me,{children:a.fullBackupDesc||(0,t.__)("Exportiert alle Plugin-Daten als JSON-Datei","recruiting-playbook")})]}),(0,ze.jsx)(Le,{children:(0,ze.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[(0,ze.jsxs)("div",{style:{backgroundColor:"#f9fafb",borderRadius:"8px",padding:"1rem"},children:[(0,ze.jsx)("p",{style:{fontWeight:500,marginBottom:"0.75rem",color:"#374151"},children:a.exportIncludes||(0,t.__)("Der Export enthlt:","recruiting-playbook")}),(0,ze.jsx)("ul",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"0.5rem",listStyle:"disc",margin:0,paddingLeft:"1.25rem"},children:c.map((e,t)=>(0,ze.jsx)("li",{style:{fontSize:"0.875rem",color:"#4b5563"},children:e},t))})]}),(0,ze.jsx)(Ji,{style:{backgroundColor:"#fef3c7",borderColor:"#f59e0b"},children:(0,ze.jsxs)(Qi,{style:{color:"#92400e"},children:[(0,ze.jsx)("strong",{children:a.note||(0,t.__)("Hinweis:","recruiting-playbook")})," ",a.documentsNotIncluded||(0,t.__)("Hochgeladene Dokumente (PDFs etc.) werden aus Datenschutzgrnden nicht exportiert.","recruiting-playbook")]})}),(0,ze.jsx)("div",{children:(0,ze.jsx)(Ye,{onClick:async()=>{n(!0),o(!1);const e=document.createElement("form");e.method="POST",e.action=l;const t=document.createElement("input");t.type="hidden",t.name="_wpnonce",t.value=s,e.appendChild(t);const r=document.createElement("input");r.type="hidden",r.name="download_backup",r.value="1",e.appendChild(r),document.body.appendChild(e),e.submit(),document.body.removeChild(e),setTimeout(()=>{n(!1),o(!0),setTimeout(()=>o(!1),3e3)},1e3)},disabled:r,children:r?a.preparing||(0,t.__)("Wird vorbereitet...","recruiting-playbook"):a.downloadBackup||(0,t.__)("Backup herunterladen","recruiting-playbook")})})]})})]})]})}function Rl(){const[r,n]=(0,e.useState)("general"),[i,o]=(0,e.useState)(null),a=(0,e.useRef)(null),l=window.rpSettingsData||{},s=l.i18n||{},c=l.logoUrl||"",d=l.pages||[],{settings:u,loading:p,saving:m,error:g,setError:h,saveSettings:f,updateSetting:b}=function(){const[t,r]=(0,e.useState)(null),[n,i]=(0,e.useState)(!0),[o,a]=(0,e.useState)(!1),[l,s]=(0,e.useState)(null),c=window.rpSettingsData?.i18n||{},d=(0,e.useRef)(null),u=(0,e.useRef)(!0),p=(0,e.useCallback)(async()=>{d.current&&d.current.abort(),d.current=new AbortController;try{i(!0),s(null);const e=await Gn()({path:"/recruiting/v1/settings",signal:d.current.signal});u.current&&r(e)}catch(e){if("AbortError"===e?.name)return;u.current&&(s(c.errorLoading||"Fehler beim Laden der Einstellungen"),console.error("Error fetching settings:",e))}finally{u.current&&i(!1)}},[c.errorLoading]);(0,e.useEffect)(()=>(u.current=!0,p(),()=>{u.current=!1,d.current&&d.current.abort()}),[p]);const m=(0,e.useCallback)(async e=>{try{a(!0),s(null);const t=await Gn()({path:"/recruiting/v1/settings",method:"POST",data:e});return!!u.current&&(r(t=>({...t,...e})),t.success||!0)}catch(e){if(!u.current)return!1;const t=e?.message||c.errorSaving||"Fehler beim Speichern";return s(t),console.error("Error saving settings:",e),!1}finally{u.current&&a(!1)}},[c.errorSaving]),g=(0,e.useCallback)((e,t)=>{r(r=>({...r,[e]:t}))},[]),h=(0,e.useCallback)(e=>{r(t=>({...t,...e}))},[]);return{settings:t,loading:n,saving:o,error:l,setError:s,fetchSettings:p,saveSettings:m,updateSetting:g,updateSettings:h,refetch:p}}();(0,e.useEffect)(()=>()=>{a.current&&clearTimeout(a.current)},[]);const y=(0,e.useCallback)((e,t="success")=>{a.current&&clearTimeout(a.current),o({message:e,type:t}),a.current=setTimeout(()=>{o(null),a.current=null},3e3)},[]),x=(0,e.useCallback)(async e=>{h(null),await f(e)&&y(s.settingsSaved||(0,t.__)("Einstellungen wurden gespeichert.","recruiting-playbook"))},[f,y,h,s.settingsSaved]);return p?(0,ze.jsx)("div",{className:"rp-admin",style:{padding:"20px 0"},children:(0,ze.jsx)("div",{style:{maxWidth:"900px"},children:(0,ze.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",padding:"3rem"},children:(0,ze.jsx)(Si,{size:"lg"})})})}):(0,ze.jsx)("div",{className:"rp-admin",style:{padding:"20px 0"},children:(0,ze.jsxs)("div",{style:{maxWidth:"900px"},children:[(0,ze.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-end",marginBottom:"1.5rem"},children:[c&&(0,ze.jsx)("img",{src:c,alt:"Recruiting Playbook",style:{width:"150px",height:"auto"}}),(0,ze.jsx)("h1",{style:{margin:0,fontSize:"1.5rem",fontWeight:700,color:"#1f2937"},children:s.pageTitle||(0,t.__)("Einstellungen","recruiting-playbook")})]}),i&&(0,ze.jsx)(Ji,{variant:"error"===i.type?"destructive":"default",style:{marginBottom:"1rem",backgroundColor:"success"===i.type?"#e6f5ec":void 0,borderColor:"success"===i.type?"#2fac66":void 0},children:(0,ze.jsx)(Qi,{children:i.message})}),(0,ze.jsxs)(ki,{value:r,onValueChange:n,children:[(0,ze.jsxs)(ji,{children:[(0,ze.jsx)(wi,{value:"general",children:s.tabGeneral||(0,t.__)("Allgemein","recruiting-playbook")}),(0,ze.jsx)(wi,{value:"company",children:s.tabCompany||(0,t.__)("Firmendaten","recruiting-playbook")}),(0,ze.jsx)(wi,{value:"export",children:s.tabExport||(0,t.__)("Export","recruiting-playbook")})]}),(0,ze.jsx)(_i,{value:"general",children:(0,ze.jsx)(Cl,{settings:u,pages:d,saving:m,error:g,onUpdate:b,onSave:x})}),(0,ze.jsx)(_i,{value:"company",children:(0,ze.jsx)(El,{settings:u,saving:m,error:g,onUpdate:b,onSave:x})}),(0,ze.jsx)(_i,{value:"export",children:(0,ze.jsx)(Tl,{})})]})]})})}function Nl(){!function(){const t=document.getElementById("rp-dashboard-root");t&&(0,e.createRoot)(t).render((0,ze.jsx)(fl,{}))}(),function(){const t=document.getElementById("rp-applications-root");t&&(0,e.createRoot)(t).render((0,ze.jsx)(Sl,{}))}(),function(){const t=document.getElementById("rp-kanban-root");t&&(0,e.createRoot)(t).render((0,ze.jsx)(pi,{}))}(),function(){const t=document.getElementById("rp-applicant-detail-root");if(t){const r=parseInt(t.dataset.applicationId,10);r&&(0,e.createRoot)(t).render((0,ze.jsx)(Ka,{applicationId:r}))}}(),function(){const t=document.getElementById("rp-talent-pool-root");t&&(0,e.createRoot)(t).render((0,ze.jsx)(Za,{}))}(),function(){const t=document.getElementById("rp-license-root");t&&(0,e.createRoot)(t).render((0,ze.jsx)(cl,{}))}(),function(){const t=document.getElementById("rp-settings-root");t&&(0,e.createRoot)(t).render((0,ze.jsx)(Rl,{}))}()}"loading"===document.readyState?document.addEventListener("DOMContentLoaded",Nl):Nl()})()})();