(()=>{var e,t,r={556(e,t,r){e.exports=r(694)()},694(e,t,r){"use strict";var n=r(925);function o(){}function a(){}a.resetWarningCache=o,e.exports=function(){function e(e,t,r,o,a,i){if(i!==n){var l=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw l.name="Invariant Violation",l}}function t(){return e}e.isRequired=e;var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:o};return r.PropTypes=r,r}},925(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"}},n={};function o(e){var t=n[e];if(void 0!==t)return t.exports;var a=n[e]={exports:{}};return r[e](a,a.exports,o),a.exports}o.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,{a:t}),t},t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,o.t=function(r,n){if(1&n&&(r=this(r)),8&n)return r;if("object"==typeof r&&r){if(4&n&&r.__esModule)return r;if(16&n&&"function"==typeof r.then)return r}var a=Object.create(null);o.r(a);var i={};e=e||[null,t({}),t([]),t(t)];for(var l=2&n&&r;("object"==typeof l||"function"==typeof l)&&!~e.indexOf(l);l=t(l))Object.getOwnPropertyNames(l).forEach(e=>i[e]=()=>r[e]);return i.default=()=>r,o.d(a,i),a},o.d=(e,t)=>{for(var r in t)o.o(t,r)&&!o.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{"use strict";const e=window.wp.element,t=window.wp.i18n,r=window.React;var n=o.t(r,2),a=o.n(r);const i=window.ReactDOM,l="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement;function s(e){const t=Object.prototype.toString.call(e);return"[object Window]"===t||"[object global]"===t}function c(e){return"nodeType"in e}function d(e){var t,r;return e?s(e)?e:c(e)&&null!=(t=null==(r=e.ownerDocument)?void 0:r.defaultView)?t:window:window}function u(e){const{Document:t}=d(e);return e instanceof t}function p(e){return!s(e)&&e instanceof d(e).HTMLElement}function m(e){return e instanceof d(e).SVGElement}function h(e){return e?s(e)?e.document:c(e)?u(e)?e:p(e)||m(e)?e.ownerDocument:document:document:document}const g=l?r.useLayoutEffect:r.useEffect;function f(e){const t=(0,r.useRef)(e);return g(()=>{t.current=e}),(0,r.useCallback)(function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return null==t.current?void 0:t.current(...r)},[])}function b(e,t){void 0===t&&(t=[e]);const n=(0,r.useRef)(e);return g(()=>{n.current!==e&&(n.current=e)},t),n}function y(e,t){const n=(0,r.useRef)();return(0,r.useMemo)(()=>{const t=e(n.current);return n.current=t,t},[...t])}function x(e){const t=f(e),n=(0,r.useRef)(null),o=(0,r.useCallback)(e=>{e!==n.current&&(null==t||t(e,n.current)),n.current=e},[]);return[n,o]}function v(e){const t=(0,r.useRef)();return(0,r.useEffect)(()=>{t.current=e},[e]),t.current}let k={};function w(e,t){return(0,r.useMemo)(()=>{if(t)return t;const r=null==k[e]?0:k[e]+1;return k[e]=r,e+"-"+r},[e,t])}function j(e){return function(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];return n.reduce((t,r)=>{const n=Object.entries(r);for(const[r,o]of n){const n=t[r];null!=n&&(t[r]=n+e*o)}return t},{...t})}}const _=j(1),S=j(-1);function C(e){if(!e)return!1;const{KeyboardEvent:t}=d(e.target);return t&&e instanceof t}function N(e){if(function(e){if(!e)return!1;const{TouchEvent:t}=d(e.target);return t&&e instanceof t}(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:r}=e.touches[0];return{x:t,y:r}}if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:r}=e.changedTouches[0];return{x:t,y:r}}}return function(e){return"clientX"in e&&"clientY"in e}(e)?{x:e.clientX,y:e.clientY}:null}const E=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:r}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(r?Math.round(r):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:r}=e;return"scaleX("+t+") scaleY("+r+")"}},Transform:{toString(e){if(e)return[E.Translate.toString(e),E.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:r,easing:n}=e;return t+" "+r+"ms "+n}}}),T="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function R(e){return e.matches(T)?e:e.querySelector(T)}const A={display:"none"};function D(e){let{id:t,value:r}=e;return a().createElement("div",{id:t,style:A},r)}function z(e){let{id:t,announcement:r,ariaLiveType:n="assertive"}=e;return a().createElement("div",{id:t,style:{position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"},role:"status","aria-live":n,"aria-atomic":!0},r)}const I=(0,r.createContext)(null),M={draggable:"\n    To pick up a draggable item, press the space bar.\n    While dragging, use the arrow keys to move the item.\n    Press space again to drop the item in its new position, or press escape to cancel.\n  "},L={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:r}=e;return r?"Draggable item "+t.id+" was moved over droppable area "+r.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:r}=e;return r?"Draggable item "+t.id+" was dropped over droppable area "+r.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function O(e){let{announcements:t=L,container:n,hiddenTextDescribedById:o,screenReaderInstructions:l=M}=e;const{announce:s,announcement:c}=function(){const[e,t]=(0,r.useState)("");return{announce:(0,r.useCallback)(e=>{null!=e&&t(e)},[]),announcement:e}}(),d=w("DndLiveRegion"),[u,p]=(0,r.useState)(!1);if((0,r.useEffect)(()=>{p(!0)},[]),function(e){const t=(0,r.useContext)(I);(0,r.useEffect)(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)},[e,t])}((0,r.useMemo)(()=>({onDragStart(e){let{active:r}=e;s(t.onDragStart({active:r}))},onDragMove(e){let{active:r,over:n}=e;t.onDragMove&&s(t.onDragMove({active:r,over:n}))},onDragOver(e){let{active:r,over:n}=e;s(t.onDragOver({active:r,over:n}))},onDragEnd(e){let{active:r,over:n}=e;s(t.onDragEnd({active:r,over:n}))},onDragCancel(e){let{active:r,over:n}=e;s(t.onDragCancel({active:r,over:n}))}}),[s,t])),!u)return null;const m=a().createElement(a().Fragment,null,a().createElement(D,{id:o,value:l.draggable}),a().createElement(z,{id:d,announcement:c}));return n?(0,i.createPortal)(m,n):m}var P;function B(){}function $(e,t){return(0,r.useMemo)(()=>({sensor:e,options:null!=t?t:{}}),[e,t])}!function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"}(P||(P={}));const F=Object.freeze({x:0,y:0});function W(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function U(e,t){const r=N(e);return r?(r.x-t.left)/t.width*100+"% "+(r.y-t.top)/t.height*100+"%":"0 0"}function H(e,t){let{data:{value:r}}=e,{data:{value:n}}=t;return r-n}function V(e,t){let{data:{value:r}}=e,{data:{value:n}}=t;return n-r}function G(e){let{left:t,top:r,height:n,width:o}=e;return[{x:t,y:r},{x:t+o,y:r},{x:t,y:r+n},{x:t+o,y:r+n}]}function K(e,t){if(!e||0===e.length)return null;const[r]=e;return t?r[t]:r}function X(e,t){const r=Math.max(t.top,e.top),n=Math.max(t.left,e.left),o=Math.min(t.left+t.width,e.left+e.width),a=Math.min(t.top+t.height,e.top+e.height),i=o-n,l=a-r;if(n<o&&r<a){const r=t.width*t.height,n=e.width*e.height,o=i*l;return Number((o/(r+n-o)).toFixed(4))}return 0}const q=e=>{let{collisionRect:t,droppableRects:r,droppableContainers:n}=e;const o=[];for(const e of n){const{id:n}=e,a=r.get(n);if(a){const r=X(a,t);r>0&&o.push({id:n,data:{droppableContainer:e,value:r}})}}return o.sort(V)};function Y(e,t){const{top:r,left:n,bottom:o,right:a}=t;return r<=e.y&&e.y<=o&&n<=e.x&&e.x<=a}function Z(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:F}function J(e){return function(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];return n.reduce((t,r)=>({...t,top:t.top+e*r.y,bottom:t.bottom+e*r.y,left:t.left+e*r.x,right:t.right+e*r.x}),{...t})}}const Q=J(1);function ee(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}const te={ignoreTransform:!1};function re(e,t){void 0===t&&(t=te);let r=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:t,transformOrigin:n}=d(e).getComputedStyle(e);t&&(r=function(e,t,r){const n=ee(t);if(!n)return e;const{scaleX:o,scaleY:a,x:i,y:l}=n,s=e.left-i-(1-o)*parseFloat(r),c=e.top-l-(1-a)*parseFloat(r.slice(r.indexOf(" ")+1)),d=o?e.width/o:e.width,u=a?e.height/a:e.height;return{width:d,height:u,top:c,right:s+d,bottom:c+u,left:s}}(r,t,n))}const{top:n,left:o,width:a,height:i,bottom:l,right:s}=r;return{top:n,left:o,width:a,height:i,bottom:l,right:s}}function ne(e){return re(e,{ignoreTransform:!0})}function oe(e,t){const r=[];return e?function n(o){if(null!=t&&r.length>=t)return r;if(!o)return r;if(u(o)&&null!=o.scrollingElement&&!r.includes(o.scrollingElement))return r.push(o.scrollingElement),r;if(!p(o)||m(o))return r;if(r.includes(o))return r;const a=d(e).getComputedStyle(o);return o!==e&&function(e,t){void 0===t&&(t=d(e).getComputedStyle(e));const r=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(e=>{const n=t[e];return"string"==typeof n&&r.test(n)})}(o,a)&&r.push(o),function(e,t){return void 0===t&&(t=d(e).getComputedStyle(e)),"fixed"===t.position}(o,a)?r:n(o.parentNode)}(e):r}function ae(e){const[t]=oe(e,1);return null!=t?t:null}function ie(e){return l&&e?s(e)?e:c(e)?u(e)||e===h(e).scrollingElement?window:p(e)?e:null:null:null}function le(e){return s(e)?e.scrollX:e.scrollLeft}function se(e){return s(e)?e.scrollY:e.scrollTop}function ce(e){return{x:le(e),y:se(e)}}var de;function ue(e){return!(!l||!e)&&e===document.scrollingElement}function pe(e){const t={x:0,y:0},r=ue(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},n={x:e.scrollWidth-r.width,y:e.scrollHeight-r.height};return{isTop:e.scrollTop<=t.y,isLeft:e.scrollLeft<=t.x,isBottom:e.scrollTop>=n.y,isRight:e.scrollLeft>=n.x,maxScroll:n,minScroll:t}}!function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"}(de||(de={}));const me={x:.2,y:.2};function he(e,t,r,n,o){let{top:a,left:i,right:l,bottom:s}=r;void 0===n&&(n=10),void 0===o&&(o=me);const{isTop:c,isBottom:d,isLeft:u,isRight:p}=pe(e),m={x:0,y:0},h={x:0,y:0},g=t.height*o.y,f=t.width*o.x;return!c&&a<=t.top+g?(m.y=de.Backward,h.y=n*Math.abs((t.top+g-a)/g)):!d&&s>=t.bottom-g&&(m.y=de.Forward,h.y=n*Math.abs((t.bottom-g-s)/g)),!p&&l>=t.right-f?(m.x=de.Forward,h.x=n*Math.abs((t.right-f-l)/f)):!u&&i<=t.left+f&&(m.x=de.Backward,h.x=n*Math.abs((t.left+f-i)/f)),{direction:m,speed:h}}function ge(e){if(e===document.scrollingElement){const{innerWidth:e,innerHeight:t}=window;return{top:0,left:0,right:e,bottom:t,width:e,height:t}}const{top:t,left:r,right:n,bottom:o}=e.getBoundingClientRect();return{top:t,left:r,right:n,bottom:o,width:e.clientWidth,height:e.clientHeight}}function fe(e){return e.reduce((e,t)=>_(e,ce(t)),F)}function be(e,t){if(void 0===t&&(t=re),!e)return;const{top:r,left:n,bottom:o,right:a}=t(e);ae(e)&&(o<=0||a<=0||r>=window.innerHeight||n>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const ye=[["x",["left","right"],function(e){return e.reduce((e,t)=>e+le(t),0)}],["y",["top","bottom"],function(e){return e.reduce((e,t)=>e+se(t),0)}]];class xe{constructor(e,t){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const r=oe(t),n=fe(r);this.rect={...e},this.width=e.width,this.height=e.height;for(const[e,t,o]of ye)for(const a of t)Object.defineProperty(this,a,{get:()=>{const t=o(r),i=n[e]-t;return this.rect[a]+i},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class ve{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(e=>{var t;return null==(t=this.target)?void 0:t.removeEventListener(...e)})},this.target=e}add(e,t,r){var n;null==(n=this.target)||n.addEventListener(e,t,r),this.listeners.push([e,t,r])}}function ke(e,t){const r=Math.abs(e.x),n=Math.abs(e.y);return"number"==typeof t?Math.sqrt(r**2+n**2)>t:"x"in t&&"y"in t?r>t.x&&n>t.y:"x"in t?r>t.x:"y"in t&&n>t.y}var we,je;function _e(e){e.preventDefault()}function Se(e){e.stopPropagation()}!function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"}(we||(we={})),function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"}(je||(je={}));const Ce={start:[je.Space,je.Enter],cancel:[je.Esc],end:[je.Space,je.Enter,je.Tab]},Ne=(e,t)=>{let{currentCoordinates:r}=t;switch(e.code){case je.Right:return{...r,x:r.x+25};case je.Left:return{...r,x:r.x-25};case je.Down:return{...r,y:r.y+25};case je.Up:return{...r,y:r.y-25}}};class Ee{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;const{event:{target:t}}=e;this.props=e,this.listeners=new ve(h(t)),this.windowListeners=new ve(d(t)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(we.Resize,this.handleCancel),this.windowListeners.add(we.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(we.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:e,onStart:t}=this.props,r=e.node.current;r&&be(r),t(F)}handleKeyDown(e){if(C(e)){const{active:t,context:r,options:n}=this.props,{keyboardCodes:o=Ce,coordinateGetter:a=Ne,scrollBehavior:i="smooth"}=n,{code:l}=e;if(o.end.includes(l))return void this.handleEnd(e);if(o.cancel.includes(l))return void this.handleCancel(e);const{collisionRect:s}=r.current,c=s?{x:s.left,y:s.top}:F;this.referenceCoordinates||(this.referenceCoordinates=c);const d=a(e,{active:t,context:r.current,currentCoordinates:c});if(d){const t=S(d,c),n={x:0,y:0},{scrollableAncestors:o}=r.current;for(const r of o){const o=e.code,{isTop:a,isRight:l,isLeft:s,isBottom:c,maxScroll:u,minScroll:p}=pe(r),m=ge(r),h={x:Math.min(o===je.Right?m.right-m.width/2:m.right,Math.max(o===je.Right?m.left:m.left+m.width/2,d.x)),y:Math.min(o===je.Down?m.bottom-m.height/2:m.bottom,Math.max(o===je.Down?m.top:m.top+m.height/2,d.y))},g=o===je.Right&&!l||o===je.Left&&!s,f=o===je.Down&&!c||o===je.Up&&!a;if(g&&h.x!==d.x){const e=r.scrollLeft+t.x,a=o===je.Right&&e<=u.x||o===je.Left&&e>=p.x;if(a&&!t.y)return void r.scrollTo({left:e,behavior:i});n.x=a?r.scrollLeft-e:o===je.Right?r.scrollLeft-u.x:r.scrollLeft-p.x,n.x&&r.scrollBy({left:-n.x,behavior:i});break}if(f&&h.y!==d.y){const e=r.scrollTop+t.y,a=o===je.Down&&e<=u.y||o===je.Up&&e>=p.y;if(a&&!t.x)return void r.scrollTo({top:e,behavior:i});n.y=a?r.scrollTop-e:o===je.Down?r.scrollTop-u.y:r.scrollTop-p.y,n.y&&r.scrollBy({top:-n.y,behavior:i});break}}this.handleMove(e,_(S(d,this.referenceCoordinates),n))}}}handleMove(e,t){const{onMove:r}=this.props;e.preventDefault(),r(t)}handleEnd(e){const{onEnd:t}=this.props;e.preventDefault(),this.detach(),t()}handleCancel(e){const{onCancel:t}=this.props;e.preventDefault(),this.detach(),t()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}function Te(e){return Boolean(e&&"distance"in e)}function Re(e){return Boolean(e&&"delay"in e)}Ee.activators=[{eventName:"onKeyDown",handler:(e,t,r)=>{let{keyboardCodes:n=Ce,onActivation:o}=t,{active:a}=r;const{code:i}=e.nativeEvent;if(n.start.includes(i)){const t=a.activatorNode.current;return!(t&&e.target!==t||(e.preventDefault(),null==o||o({event:e.nativeEvent}),0))}return!1}}];class Ae{constructor(e,t,r){var n;void 0===r&&(r=function(e){const{EventTarget:t}=d(e);return e instanceof t?e:h(e)}(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=t;const{event:o}=e,{target:a}=o;this.props=e,this.events=t,this.document=h(a),this.documentListeners=new ve(this.document),this.listeners=new ve(r),this.windowListeners=new ve(d(a)),this.initialCoordinates=null!=(n=N(o))?n:F,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:e,props:{options:{activationConstraint:t,bypassActivationConstraint:r}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),e.cancel&&this.listeners.add(e.cancel.name,this.handleCancel),this.windowListeners.add(we.Resize,this.handleCancel),this.windowListeners.add(we.DragStart,_e),this.windowListeners.add(we.VisibilityChange,this.handleCancel),this.windowListeners.add(we.ContextMenu,_e),this.documentListeners.add(we.Keydown,this.handleKeydown),t){if(null!=r&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(Re(t))return this.timeoutId=setTimeout(this.handleStart,t.delay),void this.handlePending(t);if(Te(t))return void this.handlePending(t)}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),null!==this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(e,t){const{active:r,onPending:n}=this.props;n(r,e,this.initialCoordinates,t)}handleStart(){const{initialCoordinates:e}=this,{onStart:t}=this.props;e&&(this.activated=!0,this.documentListeners.add(we.Click,Se,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(we.SelectionChange,this.removeTextSelection),t(e))}handleMove(e){var t;const{activated:r,initialCoordinates:n,props:o}=this,{onMove:a,options:{activationConstraint:i}}=o;if(!n)return;const l=null!=(t=N(e))?t:F,s=S(n,l);if(!r&&i){if(Te(i)){if(null!=i.tolerance&&ke(s,i.tolerance))return this.handleCancel();if(ke(s,i.distance))return this.handleStart()}return Re(i)&&ke(s,i.tolerance)?this.handleCancel():void this.handlePending(i,s)}e.cancelable&&e.preventDefault(),a(l)}handleEnd(){const{onAbort:e,onEnd:t}=this.props;this.detach(),this.activated||e(this.props.active),t()}handleCancel(){const{onAbort:e,onCancel:t}=this.props;this.detach(),this.activated||e(this.props.active),t()}handleKeydown(e){e.code===je.Esc&&this.handleCancel()}removeTextSelection(){var e;null==(e=this.document.getSelection())||e.removeAllRanges()}}const De={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class ze extends Ae{constructor(e){const{event:t}=e,r=h(t.target);super(e,De,r)}}ze.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:r}=e,{onActivation:n}=t;return!(!r.isPrimary||0!==r.button||(null==n||n({event:r}),0))}}];const Ie={move:{name:"mousemove"},end:{name:"mouseup"}};var Me;!function(e){e[e.RightClick=2]="RightClick"}(Me||(Me={})),class extends Ae{constructor(e){super(e,Ie,h(e.event.target))}}.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:r}=e,{onActivation:n}=t;return r.button!==Me.RightClick&&(null==n||n({event:r}),!0)}}];const Le={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};var Oe,Pe;(class extends Ae{constructor(e){super(e,Le)}static setup(){return window.addEventListener(Le.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener(Le.move.name,e)};function e(){}}}).activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:r}=e,{onActivation:n}=t;const{touches:o}=r;return!(o.length>1||(null==n||n({event:r}),0))}}],function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"}(Oe||(Oe={})),function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"}(Pe||(Pe={}));const Be={x:{[de.Backward]:!1,[de.Forward]:!1},y:{[de.Backward]:!1,[de.Forward]:!1}};var $e,Fe;!function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"}($e||($e={})),function(e){e.Optimized="optimized"}(Fe||(Fe={}));const We=new Map;function Ue(e,t){return y(r=>e?r||("function"==typeof t?t(e):e):null,[t,e])}function He(e){let{callback:t,disabled:n}=e;const o=f(t),a=(0,r.useMemo)(()=>{if(n||"undefined"==typeof window||void 0===window.ResizeObserver)return;const{ResizeObserver:e}=window;return new e(o)},[n]);return(0,r.useEffect)(()=>()=>null==a?void 0:a.disconnect(),[a]),a}function Ve(e){return new xe(re(e),e)}function Ge(e,t,n){void 0===t&&(t=Ve);const[o,a]=(0,r.useState)(null);function i(){a(r=>{if(!e)return null;var o;if(!1===e.isConnected)return null!=(o=null!=r?r:n)?o:null;const a=t(e);return JSON.stringify(r)===JSON.stringify(a)?r:a})}const l=function(e){let{callback:t,disabled:n}=e;const o=f(t),a=(0,r.useMemo)(()=>{if(n||"undefined"==typeof window||void 0===window.MutationObserver)return;const{MutationObserver:e}=window;return new e(o)},[o,n]);return(0,r.useEffect)(()=>()=>null==a?void 0:a.disconnect(),[a]),a}({callback(t){if(e)for(const r of t){const{type:t,target:n}=r;if("childList"===t&&n instanceof HTMLElement&&n.contains(e)){i();break}}}}),s=He({callback:i});return g(()=>{i(),e?(null==s||s.observe(e),null==l||l.observe(document.body,{childList:!0,subtree:!0})):(null==s||s.disconnect(),null==l||l.disconnect())},[e]),o}const Ke=[];function Xe(e,t){void 0===t&&(t=[]);const n=(0,r.useRef)(null);return(0,r.useEffect)(()=>{n.current=null},t),(0,r.useEffect)(()=>{const t=e!==F;t&&!n.current&&(n.current=e),!t&&n.current&&(n.current=null)},[e]),n.current?S(e,n.current):F}function qe(e){return(0,r.useMemo)(()=>e?function(e){const t=e.innerWidth,r=e.innerHeight;return{top:0,left:0,right:t,bottom:r,width:t,height:r}}(e):null,[e])}const Ye=[];function Ze(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return p(t)?t:e}const Je=[{sensor:ze,options:{}},{sensor:Ee,options:{}}],Qe={current:{}},et={draggable:{measure:ne},droppable:{measure:ne,strategy:$e.WhileDragging,frequency:Fe.Optimized},dragOverlay:{measure:re}};class tt extends Map{get(e){var t;return null!=e&&null!=(t=super.get(e))?t:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(e=>{let{disabled:t}=e;return!t})}getNodeFor(e){var t,r;return null!=(t=null==(r=this.get(e))?void 0:r.node.current)?t:void 0}}const rt={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new tt,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:B},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:et,measureDroppableContainers:B,windowRect:null,measuringScheduled:!1},nt={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:B,draggableNodes:new Map,over:null,measureDroppableContainers:B},ot=(0,r.createContext)(nt),at=(0,r.createContext)(rt);function it(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new tt}}}function lt(e,t){switch(t.type){case P.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case P.DragMove:return null==e.draggable.active?e:{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}};case P.DragEnd:case P.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case P.RegisterDroppable:{const{element:r}=t,{id:n}=r,o=new tt(e.droppable.containers);return o.set(n,r),{...e,droppable:{...e.droppable,containers:o}}}case P.SetDroppableDisabled:{const{id:r,key:n,disabled:o}=t,a=e.droppable.containers.get(r);if(!a||n!==a.key)return e;const i=new tt(e.droppable.containers);return i.set(r,{...a,disabled:o}),{...e,droppable:{...e.droppable,containers:i}}}case P.UnregisterDroppable:{const{id:r,key:n}=t,o=e.droppable.containers.get(r);if(!o||n!==o.key)return e;const a=new tt(e.droppable.containers);return a.delete(r),{...e,droppable:{...e.droppable,containers:a}}}default:return e}}function st(e){let{disabled:t}=e;const{active:n,activatorEvent:o,draggableNodes:a}=(0,r.useContext)(ot),i=v(o),l=v(null==n?void 0:n.id);return(0,r.useEffect)(()=>{if(!t&&!o&&i&&null!=l){if(!C(i))return;if(document.activeElement===i.target)return;const e=a.get(l);if(!e)return;const{activatorNode:t,node:r}=e;if(!t.current&&!r.current)return;requestAnimationFrame(()=>{for(const e of[t.current,r.current]){if(!e)continue;const t=R(e);if(t){t.focus();break}}})}},[o,t,a,l,i]),null}function ct(e,t){let{transform:r,...n}=t;return null!=e&&e.length?e.reduce((e,t)=>t({transform:e,...n}),r):r}const dt=(0,r.createContext)({...F,scaleX:1,scaleY:1});var ut;!function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"}(ut||(ut={}));const pt=(0,r.memo)(function(e){var t,n,o,s;let{id:c,accessibility:u,autoScroll:m=!0,children:h,sensors:f=Je,collisionDetection:k=q,measuring:j,modifiers:S,...C}=e;const E=(0,r.useReducer)(lt,void 0,it),[T,R]=E,[A,D]=function(){const[e]=(0,r.useState)(()=>new Set),t=(0,r.useCallback)(t=>(e.add(t),()=>e.delete(t)),[e]);return[(0,r.useCallback)(t=>{let{type:r,event:n}=t;e.forEach(e=>{var t;return null==(t=e[r])?void 0:t.call(e,n)})},[e]),t]}(),[z,M]=(0,r.useState)(ut.Uninitialized),L=z===ut.Initialized,{draggable:{active:B,nodes:$,translate:W},droppable:{containers:U}}=T,H=null!=B?$.get(B):null,V=(0,r.useRef)({initial:null,translated:null}),G=(0,r.useMemo)(()=>{var e;return null!=B?{id:B,data:null!=(e=null==H?void 0:H.data)?e:Qe,rect:V}:null},[B,H]),X=(0,r.useRef)(null),[Y,J]=(0,r.useState)(null),[ee,te]=(0,r.useState)(null),ne=b(C,Object.values(C)),le=w("DndDescribedBy",c),se=(0,r.useMemo)(()=>U.getEnabled(),[U]),pe=(me=j,(0,r.useMemo)(()=>({draggable:{...et.draggable,...null==me?void 0:me.draggable},droppable:{...et.droppable,...null==me?void 0:me.droppable},dragOverlay:{...et.dragOverlay,...null==me?void 0:me.dragOverlay}}),[null==me?void 0:me.draggable,null==me?void 0:me.droppable,null==me?void 0:me.dragOverlay]));var me;const{droppableRects:ge,measureDroppableContainers:be,measuringScheduled:ye}=function(e,t){let{dragging:n,dependencies:o,config:a}=t;const[i,l]=(0,r.useState)(null),{frequency:s,measure:c,strategy:d}=a,u=(0,r.useRef)(e),p=function(){switch(d){case $e.Always:return!1;case $e.BeforeDragging:return n;default:return!n}}(),m=b(p),h=(0,r.useCallback)(function(e){void 0===e&&(e=[]),m.current||l(t=>null===t?e:t.concat(e.filter(e=>!t.includes(e))))},[m]),g=(0,r.useRef)(null),f=y(t=>{if(p&&!n)return We;if(!t||t===We||u.current!==e||null!=i){const t=new Map;for(let r of e){if(!r)continue;if(i&&i.length>0&&!i.includes(r.id)&&r.rect.current){t.set(r.id,r.rect.current);continue}const e=r.node.current,n=e?new xe(c(e),e):null;r.rect.current=n,n&&t.set(r.id,n)}return t}return t},[e,i,n,p,c]);return(0,r.useEffect)(()=>{u.current=e},[e]),(0,r.useEffect)(()=>{p||h()},[n,p]),(0,r.useEffect)(()=>{i&&i.length>0&&l(null)},[JSON.stringify(i)]),(0,r.useEffect)(()=>{p||"number"!=typeof s||null!==g.current||(g.current=setTimeout(()=>{h(),g.current=null},s))},[s,p,h,...o]),{droppableRects:f,measureDroppableContainers:h,measuringScheduled:null!=i}}(se,{dragging:L,dependencies:[W.x,W.y],config:pe.droppable}),ve=function(e,t){const r=null!=t?e.get(t):void 0,n=r?r.node.current:null;return y(e=>{var r;return null==t?null:null!=(r=null!=n?n:e)?r:null},[n,t])}($,B),ke=(0,r.useMemo)(()=>ee?N(ee):null,[ee]),we=function(){const e=!1===(null==Y?void 0:Y.autoScrollEnabled),t="object"==typeof m?!1===m.enabled:!1===m,r=L&&!e&&!t;return"object"==typeof m?{...m,enabled:r}:{enabled:r}}(),je=function(e,t){return Ue(e,t)}(ve,pe.draggable.measure);!function(e){let{activeNode:t,measure:n,initialRect:o,config:a=!0}=e;const i=(0,r.useRef)(!1),{x:l,y:s}="boolean"==typeof a?{x:a,y:a}:a;g(()=>{if(!l&&!s||!t)return void(i.current=!1);if(i.current||!o)return;const e=null==t?void 0:t.node.current;if(!e||!1===e.isConnected)return;const r=Z(n(e),o);if(l||(r.x=0),s||(r.y=0),i.current=!0,Math.abs(r.x)>0||Math.abs(r.y)>0){const t=ae(e);t&&t.scrollBy({top:r.y,left:r.x})}},[t,l,s,o,n])}({activeNode:null!=B?$.get(B):null,config:we.layoutShiftCompensation,initialRect:je,measure:pe.draggable.measure});const _e=Ge(ve,pe.draggable.measure,je),Se=Ge(ve?ve.parentElement:null),Ce=(0,r.useRef)({activatorEvent:null,active:null,activeNode:ve,collisionRect:null,collisions:null,droppableRects:ge,draggableNodes:$,draggingNode:null,draggingNodeRect:null,droppableContainers:U,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),Ne=U.getNodeFor(null==(t=Ce.current.over)?void 0:t.id),Ee=function(e){let{measure:t}=e;const[n,o]=(0,r.useState)(null),a=(0,r.useCallback)(e=>{for(const{target:r}of e)if(p(r)){o(e=>{const n=t(r);return e?{...e,width:n.width,height:n.height}:n});break}},[t]),i=He({callback:a}),l=(0,r.useCallback)(e=>{const r=Ze(e);null==i||i.disconnect(),r&&(null==i||i.observe(r)),o(r?t(r):null)},[t,i]),[s,c]=x(l);return(0,r.useMemo)(()=>({nodeRef:s,rect:n,setRef:c}),[n,s,c])}({measure:pe.dragOverlay.measure}),Te=null!=(n=Ee.nodeRef.current)?n:ve,Re=L?null!=(o=Ee.rect)?o:_e:null,Ae=Boolean(Ee.nodeRef.current&&Ee.rect),De=Z(ze=Ae?null:_e,Ue(ze));var ze;const Ie=qe(Te?d(Te):null),Me=function(e){const t=(0,r.useRef)(e),n=y(r=>e?r&&r!==Ke&&e&&t.current&&e.parentNode===t.current.parentNode?r:oe(e):Ke,[e]);return(0,r.useEffect)(()=>{t.current=e},[e]),n}(L?null!=Ne?Ne:ve:null),Le=function(e,t){void 0===t&&(t=re);const[n]=e,o=qe(n?d(n):null),[a,i]=(0,r.useState)(Ye);function l(){i(()=>e.length?e.map(e=>ue(e)?o:new xe(t(e),e)):Ye)}const s=He({callback:l});return g(()=>{null==s||s.disconnect(),l(),e.forEach(e=>null==s?void 0:s.observe(e))},[e]),a}(Me),Fe=ct(S,{transform:{x:W.x-De.x,y:W.y-De.y,scaleX:1,scaleY:1},activatorEvent:ee,active:G,activeNodeRect:_e,containerNodeRect:Se,draggingNodeRect:Re,over:Ce.current.over,overlayNodeRect:Ee.rect,scrollableAncestors:Me,scrollableAncestorRects:Le,windowRect:Ie}),Ve=ke?_(ke,W):null,tt=function(e){const[t,n]=(0,r.useState)(null),o=(0,r.useRef)(e),a=(0,r.useCallback)(e=>{const t=ie(e.target);t&&n(e=>e?(e.set(t,ce(t)),new Map(e)):null)},[]);return(0,r.useEffect)(()=>{const t=o.current;if(e!==t){r(t);const i=e.map(e=>{const t=ie(e);return t?(t.addEventListener("scroll",a,{passive:!0}),[t,ce(t)]):null}).filter(e=>null!=e);n(i.length?new Map(i):null),o.current=e}return()=>{r(e),r(t)};function r(e){e.forEach(e=>{const t=ie(e);null==t||t.removeEventListener("scroll",a)})}},[a,e]),(0,r.useMemo)(()=>e.length?t?Array.from(t.values()).reduce((e,t)=>_(e,t),F):fe(e):F,[e,t])}(Me),rt=Xe(tt),nt=Xe(tt,[_e]),pt=_(Fe,rt),mt=Re?Q(Re,Fe):null,ht=G&&mt?k({active:G,collisionRect:mt,droppableRects:ge,droppableContainers:se,pointerCoordinates:Ve}):null,gt=K(ht,"id"),[ft,bt]=(0,r.useState)(null),yt=function(e,t,r){return{...e,scaleX:t&&r?t.width/r.width:1,scaleY:t&&r?t.height/r.height:1}}(Ae?Fe:_(Fe,nt),null!=(s=null==ft?void 0:ft.rect)?s:null,_e),xt=(0,r.useRef)(null),vt=(0,r.useCallback)((e,t)=>{let{sensor:r,options:n}=t;if(null==X.current)return;const o=$.get(X.current);if(!o)return;const a=e.nativeEvent,l=new r({active:X.current,activeNode:o,event:a,options:n,context:Ce,onAbort(e){if(!$.get(e))return;const{onDragAbort:t}=ne.current,r={id:e};null==t||t(r),A({type:"onDragAbort",event:r})},onPending(e,t,r,n){if(!$.get(e))return;const{onDragPending:o}=ne.current,a={id:e,constraint:t,initialCoordinates:r,offset:n};null==o||o(a),A({type:"onDragPending",event:a})},onStart(e){const t=X.current;if(null==t)return;const r=$.get(t);if(!r)return;const{onDragStart:n}=ne.current,o={activatorEvent:a,active:{id:t,data:r.data,rect:V}};(0,i.unstable_batchedUpdates)(()=>{null==n||n(o),M(ut.Initializing),R({type:P.DragStart,initialCoordinates:e,active:t}),A({type:"onDragStart",event:o}),J(xt.current),te(a)})},onMove(e){R({type:P.DragMove,coordinates:e})},onEnd:s(P.DragEnd),onCancel:s(P.DragCancel)});function s(e){return async function(){const{active:t,collisions:r,over:n,scrollAdjustedTranslate:o}=Ce.current;let l=null;if(t&&o){const{cancelDrop:i}=ne.current;l={activatorEvent:a,active:t,collisions:r,delta:o,over:n},e===P.DragEnd&&"function"==typeof i&&await Promise.resolve(i(l))&&(e=P.DragCancel)}X.current=null,(0,i.unstable_batchedUpdates)(()=>{R({type:e}),M(ut.Uninitialized),bt(null),J(null),te(null),xt.current=null;const t=e===P.DragEnd?"onDragEnd":"onDragCancel";if(l){const e=ne.current[t];null==e||e(l),A({type:t,event:l})}})}}xt.current=l},[$]),kt=(0,r.useCallback)((e,t)=>(r,n)=>{const o=r.nativeEvent,a=$.get(n);if(null!==X.current||!a||o.dndKit||o.defaultPrevented)return;const i={active:a};!0===e(r,t.options,i)&&(o.dndKit={capturedBy:t.sensor},X.current=n,vt(r,t))},[$,vt]),wt=function(e,t){return(0,r.useMemo)(()=>e.reduce((e,r)=>{const{sensor:n}=r;return[...e,...n.activators.map(e=>({eventName:e.eventName,handler:t(e.handler,r)}))]},[]),[e,t])}(f,kt);!function(e){(0,r.useEffect)(()=>{if(!l)return;const t=e.map(e=>{let{sensor:t}=e;return null==t.setup?void 0:t.setup()});return()=>{for(const e of t)null==e||e()}},e.map(e=>{let{sensor:t}=e;return t}))}(f),g(()=>{_e&&z===ut.Initializing&&M(ut.Initialized)},[_e,z]),(0,r.useEffect)(()=>{const{onDragMove:e}=ne.current,{active:t,activatorEvent:r,collisions:n,over:o}=Ce.current;if(!t||!r)return;const a={active:t,activatorEvent:r,collisions:n,delta:{x:pt.x,y:pt.y},over:o};(0,i.unstable_batchedUpdates)(()=>{null==e||e(a),A({type:"onDragMove",event:a})})},[pt.x,pt.y]),(0,r.useEffect)(()=>{const{active:e,activatorEvent:t,collisions:r,droppableContainers:n,scrollAdjustedTranslate:o}=Ce.current;if(!e||null==X.current||!t||!o)return;const{onDragOver:a}=ne.current,l=n.get(gt),s=l&&l.rect.current?{id:l.id,rect:l.rect.current,data:l.data,disabled:l.disabled}:null,c={active:e,activatorEvent:t,collisions:r,delta:{x:o.x,y:o.y},over:s};(0,i.unstable_batchedUpdates)(()=>{bt(s),null==a||a(c),A({type:"onDragOver",event:c})})},[gt]),g(()=>{Ce.current={activatorEvent:ee,active:G,activeNode:ve,collisionRect:mt,collisions:ht,droppableRects:ge,draggableNodes:$,draggingNode:Te,draggingNodeRect:Re,droppableContainers:U,over:ft,scrollableAncestors:Me,scrollAdjustedTranslate:pt},V.current={initial:Re,translated:mt}},[G,ve,ht,mt,$,Te,Re,ge,U,ft,Me,pt]),function(e){let{acceleration:t,activator:n=Oe.Pointer,canScroll:o,draggingRect:a,enabled:i,interval:l=5,order:s=Pe.TreeOrder,pointerCoordinates:c,scrollableAncestors:d,scrollableAncestorRects:u,delta:p,threshold:m}=e;const h=function(e){let{delta:t,disabled:r}=e;const n=v(t);return y(e=>{if(r||!n||!e)return Be;const o=Math.sign(t.x-n.x),a=Math.sign(t.y-n.y);return{x:{[de.Backward]:e.x[de.Backward]||-1===o,[de.Forward]:e.x[de.Forward]||1===o},y:{[de.Backward]:e.y[de.Backward]||-1===a,[de.Forward]:e.y[de.Forward]||1===a}}},[r,t,n])}({delta:p,disabled:!i}),[g,f]=function(){const e=(0,r.useRef)(null);return[(0,r.useCallback)((t,r)=>{e.current=setInterval(t,r)},[]),(0,r.useCallback)(()=>{null!==e.current&&(clearInterval(e.current),e.current=null)},[])]}(),b=(0,r.useRef)({x:0,y:0}),x=(0,r.useRef)({x:0,y:0}),k=(0,r.useMemo)(()=>{switch(n){case Oe.Pointer:return c?{top:c.y,bottom:c.y,left:c.x,right:c.x}:null;case Oe.DraggableRect:return a}},[n,a,c]),w=(0,r.useRef)(null),j=(0,r.useCallback)(()=>{const e=w.current;if(!e)return;const t=b.current.x*x.current.x,r=b.current.y*x.current.y;e.scrollBy(t,r)},[]),_=(0,r.useMemo)(()=>s===Pe.TreeOrder?[...d].reverse():d,[s,d]);(0,r.useEffect)(()=>{if(i&&d.length&&k){for(const e of _){if(!1===(null==o?void 0:o(e)))continue;const r=d.indexOf(e),n=u[r];if(!n)continue;const{direction:a,speed:i}=he(e,n,k,t,m);for(const e of["x","y"])h[e][a[e]]||(i[e]=0,a[e]=0);if(i.x>0||i.y>0)return f(),w.current=e,g(j,l),b.current=i,void(x.current=a)}b.current={x:0,y:0},x.current={x:0,y:0},f()}else f()},[t,j,o,f,i,l,JSON.stringify(k),JSON.stringify(h),g,d,_,u,JSON.stringify(m)])}({...we,delta:W,draggingRect:mt,pointerCoordinates:Ve,scrollableAncestors:Me,scrollableAncestorRects:Le});const jt=(0,r.useMemo)(()=>({active:G,activeNode:ve,activeNodeRect:_e,activatorEvent:ee,collisions:ht,containerNodeRect:Se,dragOverlay:Ee,draggableNodes:$,droppableContainers:U,droppableRects:ge,over:ft,measureDroppableContainers:be,scrollableAncestors:Me,scrollableAncestorRects:Le,measuringConfiguration:pe,measuringScheduled:ye,windowRect:Ie}),[G,ve,_e,ee,ht,Se,Ee,$,U,ge,ft,be,Me,Le,pe,ye,Ie]),_t=(0,r.useMemo)(()=>({activatorEvent:ee,activators:wt,active:G,activeNodeRect:_e,ariaDescribedById:{draggable:le},dispatch:R,draggableNodes:$,over:ft,measureDroppableContainers:be}),[ee,wt,G,_e,R,le,$,ft,be]);return a().createElement(I.Provider,{value:D},a().createElement(ot.Provider,{value:_t},a().createElement(at.Provider,{value:jt},a().createElement(dt.Provider,{value:yt},h)),a().createElement(st,{disabled:!1===(null==u?void 0:u.restoreFocus)})),a().createElement(O,{...u,hiddenTextDescribedById:le}))}),mt=(0,r.createContext)(null),ht="button";function gt(){return(0,r.useContext)(at)}const ft={timeout:25};function bt(e){let{data:t,disabled:n=!1,id:o,resizeObserverConfig:a}=e;const i=w("Droppable"),{active:l,dispatch:s,over:c,measureDroppableContainers:d}=(0,r.useContext)(ot),u=(0,r.useRef)({disabled:n}),p=(0,r.useRef)(!1),m=(0,r.useRef)(null),h=(0,r.useRef)(null),{disabled:g,updateMeasurementsFor:f,timeout:y}={...ft,...a},v=b(null!=f?f:o),k=He({callback:(0,r.useCallback)(()=>{p.current?(null!=h.current&&clearTimeout(h.current),h.current=setTimeout(()=>{d(Array.isArray(v.current)?v.current:[v.current]),h.current=null},y)):p.current=!0},[y]),disabled:g||!l}),j=(0,r.useCallback)((e,t)=>{k&&(t&&(k.unobserve(t),p.current=!1),e&&k.observe(e))},[k]),[_,S]=x(j),C=b(t);return(0,r.useEffect)(()=>{k&&_.current&&(k.disconnect(),p.current=!1,k.observe(_.current))},[_,k]),(0,r.useEffect)(()=>(s({type:P.RegisterDroppable,element:{id:o,key:i,disabled:n,node:_,rect:m,data:C}}),()=>s({type:P.UnregisterDroppable,key:i,id:o})),[o]),(0,r.useEffect)(()=>{n!==u.current.disabled&&(s({type:P.SetDroppableDisabled,id:o,key:i,disabled:n}),u.current.disabled=n)},[o,i,n,s]),{active:l,rect:m,isOver:(null==c?void 0:c.id)===o,node:_,over:c,setNodeRef:S}}function yt(e){let{animation:t,children:n}=e;const[o,i]=(0,r.useState)(null),[l,s]=(0,r.useState)(null),c=v(n);return n||o||!c||i(c),g(()=>{if(!l)return;const e=null==o?void 0:o.key,r=null==o?void 0:o.props.id;null!=e&&null!=r?Promise.resolve(t(r,l)).then(()=>{i(null)}):i(null)},[t,o,l]),a().createElement(a().Fragment,null,n,o?(0,r.cloneElement)(o,{ref:s}):null)}const xt={x:0,y:0,scaleX:1,scaleY:1};function vt(e){let{children:t}=e;return a().createElement(ot.Provider,{value:nt},a().createElement(dt.Provider,{value:xt},t))}const kt={position:"fixed",touchAction:"none"},wt=e=>C(e)?"transform 250ms ease":void 0,jt=(0,r.forwardRef)((e,t)=>{let{as:r,activatorEvent:n,adjustScale:o,children:i,className:l,rect:s,style:c,transform:d,transition:u=wt}=e;if(!s)return null;const p=o?d:{...d,scaleX:1,scaleY:1},m={...kt,width:s.width,height:s.height,top:s.top,left:s.left,transform:E.Transform.toString(p),transformOrigin:o&&n?U(n,s):void 0,transition:"function"==typeof u?u(n):u,...c};return a().createElement(r,{className:l,style:m,ref:t},i)}),_t=e=>t=>{let{active:r,dragOverlay:n}=t;const o={},{styles:a,className:i}=e;if(null!=a&&a.active)for(const[e,t]of Object.entries(a.active))void 0!==t&&(o[e]=r.node.style.getPropertyValue(e),r.node.style.setProperty(e,t));if(null!=a&&a.dragOverlay)for(const[e,t]of Object.entries(a.dragOverlay))void 0!==t&&n.node.style.setProperty(e,t);return null!=i&&i.active&&r.node.classList.add(i.active),null!=i&&i.dragOverlay&&n.node.classList.add(i.dragOverlay),function(){for(const[e,t]of Object.entries(o))r.node.style.setProperty(e,t);null!=i&&i.active&&r.node.classList.remove(i.active)}},St={duration:250,easing:"ease",keyframes:e=>{let{transform:{initial:t,final:r}}=e;return[{transform:E.Transform.toString(t)},{transform:E.Transform.toString(r)}]},sideEffects:_t({styles:{active:{opacity:"0"}}})};let Ct=0;function Nt(e){return(0,r.useMemo)(()=>{if(null!=e)return Ct++,Ct},[e])}const Et=a().memo(e=>{let{adjustScale:t=!1,children:n,dropAnimation:o,style:i,transition:l,modifiers:s,wrapperElement:c="div",className:u,zIndex:p=999}=e;const{activatorEvent:m,active:h,activeNodeRect:g,containerNodeRect:b,draggableNodes:y,droppableContainers:x,dragOverlay:v,over:k,measuringConfiguration:w,scrollableAncestors:j,scrollableAncestorRects:_,windowRect:S}=gt(),C=(0,r.useContext)(dt),N=Nt(null==h?void 0:h.id),E=ct(s,{activatorEvent:m,active:h,activeNodeRect:g,containerNodeRect:b,draggingNodeRect:v.rect,over:k,overlayNodeRect:v.rect,scrollableAncestors:j,scrollableAncestorRects:_,transform:C,windowRect:S}),T=Ue(g),R=function(e){let{config:t,draggableNodes:r,droppableContainers:n,measuringConfiguration:o}=e;return f((e,a)=>{if(null===t)return;const i=r.get(e);if(!i)return;const l=i.node.current;if(!l)return;const s=Ze(a);if(!s)return;const{transform:c}=d(a).getComputedStyle(a),u=ee(c);if(!u)return;const p="function"==typeof t?t:function(e){const{duration:t,easing:r,sideEffects:n,keyframes:o}={...St,...e};return e=>{let{active:a,dragOverlay:i,transform:l,...s}=e;if(!t)return;const c=i.rect.left-a.rect.left,d=i.rect.top-a.rect.top,u={scaleX:1!==l.scaleX?a.rect.width*l.scaleX/i.rect.width:1,scaleY:1!==l.scaleY?a.rect.height*l.scaleY/i.rect.height:1},p={x:l.x-c,y:l.y-d,...u},m=o({...s,active:a,dragOverlay:i,transform:{initial:l,final:p}}),[h]=m,g=m[m.length-1];if(JSON.stringify(h)===JSON.stringify(g))return;const f=null==n?void 0:n({active:a,dragOverlay:i,...s}),b=i.node.animate(m,{duration:t,easing:r,fill:"forwards"});return new Promise(e=>{b.onfinish=()=>{null==f||f(),e()}})}}(t);return be(l,o.draggable.measure),p({active:{id:e,data:i.data,node:l,rect:o.draggable.measure(l)},draggableNodes:r,dragOverlay:{node:a,rect:o.dragOverlay.measure(s)},droppableContainers:n,measuringConfiguration:o,transform:u})})}({config:o,draggableNodes:y,droppableContainers:x,measuringConfiguration:w}),A=T?v.setRef:void 0;return a().createElement(vt,null,a().createElement(yt,{animation:R},h&&N?a().createElement(jt,{key:N,id:h.id,ref:A,as:c,activatorEvent:m,adjustScale:t,className:u,transition:l,rect:T,style:{zIndex:p,...i},transform:E},n):null))});function Tt(e,t,r){const n=e.slice();return n.splice(r<0?n.length+r:r,0,n.splice(t,1)[0]),n}function Rt(e,t){return e.reduce((e,r,n)=>{const o=t.get(r);return o&&(e[n]=o),e},Array(e.length))}function At(e){return null!==e&&e>=0}const Dt=e=>{let{rects:t,activeIndex:r,overIndex:n,index:o}=e;const a=Tt(t,n,r),i=t[o],l=a[o];return l&&i?{x:l.left-i.left,y:l.top-i.top,scaleX:l.width/i.width,scaleY:l.height/i.height}:null},zt={scaleX:1,scaleY:1},It=e=>{var t;let{activeIndex:r,activeNodeRect:n,index:o,rects:a,overIndex:i}=e;const l=null!=(t=a[r])?t:n;if(!l)return null;if(o===r){const e=a[i];return e?{x:0,y:r<i?e.top+e.height-(l.top+l.height):e.top-l.top,...zt}:null}const s=function(e,t,r){const n=e[t],o=e[t-1],a=e[t+1];return n?r<t?o?n.top-(o.top+o.height):a?a.top-(n.top+n.height):0:a?a.top-(n.top+n.height):o?n.top-(o.top+o.height):0:0}(a,o,r);return o>r&&o<=i?{x:0,y:-l.height-s,...zt}:o<r&&o>=i?{x:0,y:l.height+s,...zt}:{x:0,y:0,...zt}},Mt="Sortable",Lt=a().createContext({activeIndex:-1,containerId:Mt,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:Dt,disabled:{draggable:!1,droppable:!1}});function Ot(e){let{children:t,id:n,items:o,strategy:i=Dt,disabled:l=!1}=e;const{active:s,dragOverlay:c,droppableRects:d,over:u,measureDroppableContainers:p}=gt(),m=w(Mt,n),h=Boolean(null!==c.rect),f=(0,r.useMemo)(()=>o.map(e=>"object"==typeof e&&"id"in e?e.id:e),[o]),b=null!=s,y=s?f.indexOf(s.id):-1,x=u?f.indexOf(u.id):-1,v=(0,r.useRef)(f),k=!function(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}(f,v.current),j=-1!==x&&-1===y||k,_=function(e){return"boolean"==typeof e?{draggable:e,droppable:e}:e}(l);g(()=>{k&&b&&p(f)},[k,f,b,p]),(0,r.useEffect)(()=>{v.current=f},[f]);const S=(0,r.useMemo)(()=>({activeIndex:y,containerId:m,disabled:_,disableTransforms:j,items:f,overIndex:x,useDragOverlay:h,sortedRects:Rt(f,d),strategy:i}),[y,m,_.draggable,_.droppable,j,f,x,d,h,i]);return a().createElement(Lt.Provider,{value:S},t)}const Pt=e=>{let{id:t,items:r,activeIndex:n,overIndex:o}=e;return Tt(r,n,o).indexOf(t)},Bt=e=>{let{containerId:t,isSorting:r,wasDragging:n,index:o,items:a,newIndex:i,previousItems:l,previousContainerId:s,transition:c}=e;return!(!c||!n||l!==a&&o===i||!r&&(i===o||t!==s))},$t={duration:200,easing:"ease"},Ft="transform",Wt=E.Transition.toString({property:Ft,duration:0,easing:"linear"}),Ut={roleDescription:"sortable"};function Ht(e){let{animateLayoutChanges:t=Bt,attributes:n,disabled:o,data:a,getNewIndex:i=Pt,id:l,strategy:s,resizeObserverConfig:c,transition:d=$t}=e;const{items:u,containerId:p,activeIndex:m,disabled:h,disableTransforms:f,sortedRects:y,overIndex:v,useDragOverlay:k,strategy:j}=(0,r.useContext)(Lt),_=function(e,t){var r,n;return"boolean"==typeof e?{draggable:e,droppable:!1}:{draggable:null!=(r=null==e?void 0:e.draggable)?r:t.draggable,droppable:null!=(n=null==e?void 0:e.droppable)?n:t.droppable}}(o,h),S=u.indexOf(l),N=(0,r.useMemo)(()=>({sortable:{containerId:p,index:S,items:u},...a}),[p,a,S,u]),T=(0,r.useMemo)(()=>u.slice(u.indexOf(l)),[u,l]),{rect:R,node:A,isOver:D,setNodeRef:z}=bt({id:l,data:N,disabled:_.droppable,resizeObserverConfig:{updateMeasurementsFor:T,...c}}),{active:I,activatorEvent:M,activeNodeRect:L,attributes:O,setNodeRef:P,listeners:B,isDragging:$,over:F,setActivatorNodeRef:W,transform:U}=function(e){let{id:t,data:n,disabled:o=!1,attributes:a}=e;const i=w("Draggable"),{activators:l,activatorEvent:s,active:c,activeNodeRect:d,ariaDescribedById:u,draggableNodes:p,over:m}=(0,r.useContext)(ot),{role:h=ht,roleDescription:f="draggable",tabIndex:y=0}=null!=a?a:{},v=(null==c?void 0:c.id)===t,k=(0,r.useContext)(v?dt:mt),[j,_]=x(),[S,C]=x(),N=function(e,t){return(0,r.useMemo)(()=>e.reduce((e,r)=>{let{eventName:n,handler:o}=r;return e[n]=e=>{o(e,t)},e},{}),[e,t])}(l,t),E=b(n);return g(()=>(p.set(t,{id:t,key:i,node:j,activatorNode:S,data:E}),()=>{const e=p.get(t);e&&e.key===i&&p.delete(t)}),[p,t]),{active:c,activatorEvent:s,activeNodeRect:d,attributes:(0,r.useMemo)(()=>({role:h,tabIndex:y,"aria-disabled":o,"aria-pressed":!(!v||h!==ht)||void 0,"aria-roledescription":f,"aria-describedby":u.draggable}),[o,h,y,v,f,u.draggable]),isDragging:v,listeners:o?void 0:N,node:j,over:m,setNodeRef:_,setActivatorNodeRef:C,transform:k}}({id:l,data:N,attributes:{...Ut,...n},disabled:_.draggable}),H=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,r.useMemo)(()=>e=>{t.forEach(t=>t(e))},t)}(z,P),V=Boolean(I),G=V&&!f&&At(m)&&At(v),K=!k&&$,X=K&&G?U:null,q=G?null!=X?X:(null!=s?s:j)({rects:y,activeNodeRect:L,activeIndex:m,overIndex:v,index:S}):null,Y=At(m)&&At(v)?i({id:l,items:u,activeIndex:m,overIndex:v}):S,Z=null==I?void 0:I.id,J=(0,r.useRef)({activeId:Z,items:u,newIndex:Y,containerId:p}),Q=u!==J.current.items,ee=t({active:I,containerId:p,isDragging:$,isSorting:V,id:l,index:S,items:u,newIndex:J.current.newIndex,previousItems:J.current.items,previousContainerId:J.current.containerId,transition:d,wasDragging:null!=J.current.activeId}),te=function(e){let{disabled:t,index:n,node:o,rect:a}=e;const[i,l]=(0,r.useState)(null),s=(0,r.useRef)(n);return g(()=>{if(!t&&n!==s.current&&o.current){const e=a.current;if(e){const t=re(o.current,{ignoreTransform:!0}),r={x:e.left-t.left,y:e.top-t.top,scaleX:e.width/t.width,scaleY:e.height/t.height};(r.x||r.y)&&l(r)}}n!==s.current&&(s.current=n)},[t,n,o,a]),(0,r.useEffect)(()=>{i&&l(null)},[i]),i}({disabled:!ee,index:S,node:A,rect:R});return(0,r.useEffect)(()=>{V&&J.current.newIndex!==Y&&(J.current.newIndex=Y),p!==J.current.containerId&&(J.current.containerId=p),u!==J.current.items&&(J.current.items=u)},[V,Y,p,u]),(0,r.useEffect)(()=>{if(Z===J.current.activeId)return;if(Z&&!J.current.activeId)return void(J.current.activeId=Z);const e=setTimeout(()=>{J.current.activeId=Z},50);return()=>clearTimeout(e)},[Z]),{active:I,activeIndex:m,attributes:O,data:N,rect:R,index:S,newIndex:Y,items:u,isOver:D,isSorting:V,isDragging:$,listeners:B,node:A,overIndex:v,over:F,setNodeRef:H,setActivatorNodeRef:W,setDroppableNodeRef:z,setDraggableNodeRef:P,transform:null!=te?te:q,transition:te||Q&&J.current.newIndex===S?Wt:K&&!C(M)||!d?void 0:V||ee?E.Transition.toString({...d,property:Ft}):void 0}}function Vt(e){if(!e)return!1;const t=e.data.current;return!!(t&&"sortable"in t&&"object"==typeof t.sortable&&"containerId"in t.sortable&&"items"in t.sortable&&"index"in t.sortable)}const Gt=[je.Down,je.Right,je.Up,je.Left],Kt=(e,t)=>{let{context:{active:r,collisionRect:n,droppableRects:o,droppableContainers:a,over:i,scrollableAncestors:l}}=t;if(Gt.includes(e.code)){if(e.preventDefault(),!r||!n)return;const t=[];a.getEnabled().forEach(r=>{if(!r||null!=r&&r.disabled)return;const a=o.get(r.id);if(a)switch(e.code){case je.Down:n.top<a.top&&t.push(r);break;case je.Up:n.top>a.top&&t.push(r);break;case je.Left:n.left>a.left&&t.push(r);break;case je.Right:n.left<a.left&&t.push(r)}});const d=(e=>{let{collisionRect:t,droppableRects:r,droppableContainers:n}=e;const o=G(t),a=[];for(const e of n){const{id:t}=e,n=r.get(t);if(n){const r=G(n),i=o.reduce((e,t,n)=>e+W(r[n],t),0),l=Number((i/4).toFixed(4));a.push({id:t,data:{droppableContainer:e,value:l}})}}return a.sort(H)})({active:r,collisionRect:n,droppableRects:o,droppableContainers:t,pointerCoordinates:null});let u=K(d,"id");if(u===(null==i?void 0:i.id)&&d.length>1&&(u=d[1].id),null!=u){const e=a.get(r.id),t=a.get(u),i=t?o.get(t.id):null,d=null==t?void 0:t.node.current;if(d&&i&&e&&t){const r=oe(d).some((e,t)=>l[t]!==e),o=Xt(e,t),a=(c=t,!(!Vt(s=e)||!Vt(c))&&!!Xt(s,c)&&s.data.current.sortable.index<c.data.current.sortable.index),u=r||!o?{x:0,y:0}:{x:a?n.width-i.width:0,y:a?n.height-i.height:0},p={x:i.left,y:i.top};return u.x&&u.y?p:S(p,u)}}}var s,c};function Xt(e,t){return!(!Vt(e)||!Vt(t))&&e.data.current.sortable.containerId===t.data.current.sortable.containerId}const qt=(...e)=>e.filter((e,t,r)=>Boolean(e)&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim(),Yt=e=>{const t=(e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase()))(e);return t.charAt(0).toUpperCase()+t.slice(1)};var Zt={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Jt=e=>{for(const t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0;return!1},Qt=(0,r.forwardRef)(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:o,className:a="",children:i,iconNode:l,...s},c)=>(0,r.createElement)("svg",{ref:c,...Zt,width:t,height:t,stroke:e,strokeWidth:o?24*Number(n)/Number(t):n,className:qt("lucide",a),...!i&&!Jt(s)&&{"aria-hidden":"true"},...s},[...l.map(([e,t])=>(0,r.createElement)(e,t)),...Array.isArray(i)?i:[i]])),er=(e,t)=>{const n=(0,r.forwardRef)(({className:n,...o},a)=>{return(0,r.createElement)(Qt,{ref:a,iconNode:t,className:qt(`lucide-${i=Yt(e),i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,`lucide-${e}`,n),...o});var i});return n.displayName=Yt(e),n},tr=er("star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]),rr=er("briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]),nr=er("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]),or=er("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]]),ar=window.wp.apiFetch;var ir=o.n(ar);const lr=window.ReactJSXRuntime,sr={overall:{label:(0,t.__)("Gesamteindruck","recruiting-playbook"),Icon:tr},skills:{label:(0,t.__)("Fachkompetenz","recruiting-playbook"),Icon:rr},culture_fit:{label:(0,t.__)("Kulturelle Passung","recruiting-playbook"),Icon:nr},experience:{label:(0,t.__)("Erfahrung","recruiting-playbook"),Icon:or}};function cr({size:e="1rem"}){return(0,lr.jsx)("div",{style:{width:e,height:e,border:"2px solid #e5e7eb",borderTopColor:"#1d71b8",borderRadius:"50%",animation:"spin 0.8s linear infinite"}})}function dr({rating:r=0,average:n=0,count:o=0,readonly:a=!1,onRate:i,saving:l=!1}){var s;const[c,d]=(0,e.useState)(null),u=null!==(s=null!=c?c:r)&&void 0!==s?s:0;return(0,lr.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.25rem"},onMouseLeave:()=>d(null),children:[[1,2,3,4,5].map(e=>{const r=e<=u,n=!a&&e<=(c||0);return(0,lr.jsx)("button",{type:"button",onClick:()=>(e=>{a||l||i(e)})(e),onMouseEnter:()=>!a&&!l&&d(e),disabled:a||l,style:{display:"flex",alignItems:"center",justifyContent:"center",width:"1.75rem",height:"1.75rem",padding:0,background:"none",border:"none",cursor:a||l?"default":"pointer",color:r?"#f59e0b":n?"#fbbf24":"#d1d5db",transition:"color 0.15s ease"},"aria-label":`${e} ${(0,t.__)("von 5 Sternen","recruiting-playbook")}`,children:(0,lr.jsx)(tr,{style:{width:"1.25rem",height:"1.25rem",fill:r?"currentColor":"none"}})},e)}),n>0&&(0,lr.jsxs)("span",{style:{marginLeft:"0.5rem",fontSize:"0.875rem",color:"#6b7280",display:"flex",alignItems:"center",gap:"0.25rem"},children:[n.toFixed(1),o>0&&(0,lr.jsxs)("span",{style:{color:"#9ca3af"},children:["(",o,")"]})]})]})}function ur({applicationId:r,readonly:n=!1,showDistribution:o=!0}){const{summary:a,userRatings:i,loading:l,error:s,saving:c,rate:d}=function(t){const[r,n]=(0,e.useState)(null),[o,a]=(0,e.useState)({}),[i,l]=(0,e.useState)(!0),[s,c]=(0,e.useState)(null),[d,u]=(0,e.useState)(!1),p=(0,e.useCallback)(async()=>{if(t)try{l(!0),c(null);const e=await ir()({path:`/recruiting/v1/applications/${t}/rating-summary`});n(e),a(e.user_rating||{})}catch(e){console.error("Error fetching rating summary:",e),c(e.message||window.rpApplicant?.i18n?.errorLoadingRating||"Fehler beim Laden der Bewertung")}finally{l(!1)}else l(!1)},[t]);(0,e.useEffect)(()=>{p()},[p]);const m=(0,e.useCallback)(async(e,i)=>{if(!t||i<1||i>5)return!1;const l={...o},s=r?{...r}:null;try{u(!0),c(null),a(t=>({...t,[e]:i}));const r=await ir()({path:`/recruiting/v1/applications/${t}/ratings`,method:"POST",data:{rating:i,category:e}});return n(r),a(r.user_rating||{}),!0}catch(e){return console.error("Error rating:",e),a(l),s&&n(s),c(e.message||window.rpApplicant?.i18n?.errorRating||"Fehler beim Bewerten"),!1}finally{u(!1)}},[t,o,r]),h=(0,e.useCallback)(async e=>{if(!t||!e)return!1;const r={...o};try{return u(!0),c(null),a(t=>{const r={...t};return delete r[e],r}),await ir()({path:`/recruiting/v1/applications/${t}/ratings/${e}`,method:"DELETE"}),await p(),!0}catch(e){return console.error("Error deleting rating:",e),a(r),c(e.message||window.rpApplicant?.i18n?.errorDeletingRating||"Fehler beim Lschen der Bewertung"),!1}finally{u(!1)}},[t,o,p]);return{summary:r,userRatings:o,loading:i,error:s,saving:d,rate:m,deleteRating:h,refetch:p}}(r),[u,p]=(0,e.useState)("overall");return l?(0,lr.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",padding:"2rem",gap:"0.5rem",color:"#6b7280"},children:[(0,lr.jsx)(cr,{}),(0,t.__)("Laden...","recruiting-playbook")]}):(0,lr.jsxs)("div",{children:[s&&(0,lr.jsx)("div",{style:{padding:"0.75rem",backgroundColor:"#fee2e2",color:"#dc2626",borderRadius:"0.375rem",marginBottom:"1rem",fontSize:"0.875rem"},children:s}),(0,lr.jsx)("div",{style:{display:"flex",flexWrap:"wrap",gap:"0.25rem",marginBottom:"1rem"},children:Object.entries(sr).map(([e,t])=>{const r=u===e,n=t.Icon;return(0,lr.jsxs)("button",{type:"button",onClick:()=>p(e),style:{display:"inline-flex",alignItems:"center",gap:"0.375rem",padding:"0.5rem 0.75rem",backgroundColor:r?"#1d71b8":"#f3f4f6",color:r?"#fff":"#6b7280",border:"none",borderRadius:"0.375rem",fontSize:"0.8125rem",fontWeight:500,cursor:"pointer",transition:"all 0.15s ease"},children:[(0,lr.jsx)(n,{style:{width:"0.875rem",height:"0.875rem"}}),t.label,i?.[e]&&(0,lr.jsx)("span",{style:{backgroundColor:r?"rgba(255,255,255,0.2)":"#e5e7eb",color:r?"#fff":"#374151",padding:"0.125rem 0.375rem",borderRadius:"0.25rem",fontSize:"0.75rem",fontWeight:600},children:i[e]})]},e)})}),(0,lr.jsx)("div",{style:{marginBottom:"1.5rem"},children:Object.entries(sr).map(([e,t])=>{if(u!==e)return null;const r=t.Icon;return(0,lr.jsxs)("div",{style:{padding:"1rem",backgroundColor:"#f9fafb",borderRadius:"0.375rem",borderLeft:"3px solid #1d71b8"},children:[(0,lr.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"0.75rem"},children:[(0,lr.jsx)("div",{style:{width:"1.75rem",height:"1.75rem",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"#1d71b8",color:"#fff",borderRadius:"0.375rem"},children:(0,lr.jsx)(r,{style:{width:"1rem",height:"1rem"}})}),(0,lr.jsx)("span",{style:{fontWeight:600,fontSize:"0.9375rem",color:"#1f2937"},children:t.label})]}),(0,lr.jsx)(dr,{rating:i?.[e],average:a?.by_category?.[e]?.average,count:a?.by_category?.[e]?.count,readonly:n,saving:c,onRate:t=>d(e,t)})]},e)})}),o&&a?.distribution&&a.count>0&&(0,lr.jsxs)("div",{children:[(0,lr.jsx)("h4",{style:{margin:"0 0 0.75rem 0",fontSize:"0.875rem",fontWeight:600,color:"#374151"},children:(0,t.__)("Verteilung","recruiting-playbook")}),(0,lr.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:"0.375rem"},children:[5,4,3,2,1].map(e=>{const t=a.distribution[e]||0,r=a.count>0?t/a.count*100:0;return(0,lr.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[(0,lr.jsxs)("span",{style:{display:"flex",alignItems:"center",gap:"0.25rem",width:"2rem",fontSize:"0.8125rem",color:"#6b7280"},children:[e,(0,lr.jsx)(tr,{style:{width:"0.75rem",height:"0.75rem",fill:"#f59e0b",color:"#f59e0b"}})]}),(0,lr.jsx)("div",{style:{flex:1,height:"0.5rem",backgroundColor:"#e5e7eb",borderRadius:"0.25rem",overflow:"hidden"},children:(0,lr.jsx)("div",{style:{width:`${r}%`,height:"100%",backgroundColor:"#f59e0b",borderRadius:"0.25rem",transition:"width 0.3s ease"}})}),(0,lr.jsx)("span",{style:{width:"1.5rem",fontSize:"0.75rem",color:"#9ca3af",textAlign:"right"},children:t})]},e)})})]}),(0,lr.jsx)("style",{children:"@keyframes spin { to { transform: rotate(360deg); } }"})]})}function pr({average:e,count:r=0}){return!e||e<=0?null:(0,lr.jsxs)("div",{style:{display:"inline-flex",alignItems:"center",gap:"0.25rem",padding:"0.25rem 0.5rem",backgroundColor:"#fef3c7",color:"#92400e",borderRadius:"0.25rem",fontSize:"0.75rem",fontWeight:500},title:`${r} ${1===r?(0,t.__)("Bewertung","recruiting-playbook"):(0,t.__)("Bewertungen","recruiting-playbook")}`,children:[(0,lr.jsx)(tr,{style:{width:"0.75rem",height:"0.75rem",fill:"#f59e0b",color:"#f59e0b"}}),(0,lr.jsx)("span",{children:e.toFixed(1)})]})}const mr=er("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),hr=er("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),gr=er("info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);function fr(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}var br=Symbol.for("react.lazy"),yr=n[" use ".trim().toString()];function xr(e){return null!=e&&"object"==typeof e&&"$$typeof"in e&&e.$$typeof===br&&"_payload"in e&&"object"==typeof(t=e._payload)&&null!==t&&"then"in t;var t}function vr(e){const t=wr(e),n=r.forwardRef((e,n)=>{let{children:o,...a}=e;xr(o)&&"function"==typeof yr&&(o=yr(o._payload));const i=r.Children.toArray(o),l=i.find(_r);if(l){const e=l.props.children,o=i.map(t=>t===l?r.Children.count(e)>1?r.Children.only(null):r.isValidElement(e)?e.props.children:null:t);return(0,lr.jsx)(t,{...a,ref:n,children:r.isValidElement(e)?r.cloneElement(e,void 0,o):null})}return(0,lr.jsx)(t,{...a,ref:n,children:o})});return n.displayName=`${e}.Slot`,n}var kr=vr("Slot");function wr(e){const t=r.forwardRef((e,t)=>{let{children:n,...o}=e;if(xr(n)&&"function"==typeof yr&&(n=yr(n._payload)),r.isValidElement(n)){const e=function(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}(n),a=function(e,t){const r={...t};for(const n in t){const o=e[n],a=t[n];/^on[A-Z]/.test(n)?o&&a?r[n]=(...e)=>{const t=a(...e);return o(...e),t}:o&&(r[n]=o):"style"===n?r[n]={...o,...a}:"className"===n&&(r[n]=[o,a].filter(Boolean).join(" "))}return{...e,...r}}(o,n.props);return n.type!==r.Fragment&&(a.ref=t?function(...e){return t=>{let r=!1;const n=e.map(e=>{const n=fr(e,t);return r||"function"!=typeof n||(r=!0),n});if(r)return()=>{for(let t=0;t<n.length;t++){const r=n[t];"function"==typeof r?r():fr(e[t],null)}}}}(t,e):e),r.cloneElement(n,a)}return r.Children.count(n)>1?r.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var jr=Symbol("radix.slottable");function _r(e){return r.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===jr}function Sr(e){var t,r,n="";if("string"==typeof e||"number"==typeof e)n+=e;else if("object"==typeof e)if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(r=Sr(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Cr(){for(var e,t,r=0,n="",o=arguments.length;r<o;r++)(e=arguments[r])&&(t=Sr(e))&&(n&&(n+=" "),n+=t);return n}const Nr=e=>"boolean"==typeof e?`${e}`:0===e?"0":e,Er=Cr,Tr=(e,t)=>r=>{var n;if(null==(null==t?void 0:t.variants))return Er(e,null==r?void 0:r.class,null==r?void 0:r.className);const{variants:o,defaultVariants:a}=t,i=Object.keys(o).map(e=>{const t=null==r?void 0:r[e],n=null==a?void 0:a[e];if(null===t)return null;const i=Nr(t)||Nr(n);return o[e][i]}),l=r&&Object.entries(r).reduce((e,t)=>{let[r,n]=t;return void 0===n||(e[r]=n),e},{}),s=null==t||null===(n=t.compoundVariants)||void 0===n?void 0:n.reduce((e,t)=>{let{class:r,className:n,...o}=t;return Object.entries(o).every(e=>{let[t,r]=e;return Array.isArray(r)?r.includes({...a,...l}[t]):{...a,...l}[t]===r})?[...e,r,n]:e},[]);return Er(e,i,s,null==r?void 0:r.class,null==r?void 0:r.className)},Rr=(e=new Map,t=null,r)=>({nextPart:e,validators:t,classGroupId:r}),Ar="-",Dr=[],zr=e=>{const t=Lr(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:e=>{if(e.startsWith("[")&&e.endsWith("]"))return Mr(e);const r=e.split(Ar),n=""===r[0]&&r.length>1?1:0;return Ir(r,n,t)},getConflictingClassGroupIds:(e,t)=>{if(t){const t=n[e],o=r[e];return t?o?((e,t)=>{const r=new Array(e.length+t.length);for(let t=0;t<e.length;t++)r[t]=e[t];for(let n=0;n<t.length;n++)r[e.length+n]=t[n];return r})(o,t):t:o||Dr}return r[e]||Dr}}},Ir=(e,t,r)=>{if(0===e.length-t)return r.classGroupId;const n=e[t],o=r.nextPart.get(n);if(o){const r=Ir(e,t+1,o);if(r)return r}const a=r.validators;if(null===a)return;const i=0===t?e.join(Ar):e.slice(t).join(Ar),l=a.length;for(let e=0;e<l;e++){const t=a[e];if(t.validator(i))return t.classGroupId}},Mr=e=>-1===e.slice(1,-1).indexOf(":")?void 0:(()=>{const t=e.slice(1,-1),r=t.indexOf(":"),n=t.slice(0,r);return n?"arbitrary.."+n:void 0})(),Lr=e=>{const{theme:t,classGroups:r}=e;return Or(r,t)},Or=(e,t)=>{const r=Rr();for(const n in e){const o=e[n];Pr(o,r,n,t)}return r},Pr=(e,t,r,n)=>{const o=e.length;for(let a=0;a<o;a++){const o=e[a];Br(o,t,r,n)}},Br=(e,t,r,n)=>{"string"!=typeof e?"function"!=typeof e?Wr(e,t,r,n):Fr(e,t,r,n):$r(e,t,r)},$r=(e,t,r)=>{(""===e?t:Ur(t,e)).classGroupId=r},Fr=(e,t,r,n)=>{Hr(e)?Pr(e(n),t,r,n):(null===t.validators&&(t.validators=[]),t.validators.push(((e,t)=>({classGroupId:e,validator:t}))(r,e)))},Wr=(e,t,r,n)=>{const o=Object.entries(e),a=o.length;for(let e=0;e<a;e++){const[a,i]=o[e];Pr(i,Ur(t,a),r,n)}},Ur=(e,t)=>{let r=e;const n=t.split(Ar),o=n.length;for(let e=0;e<o;e++){const t=n[e];let o=r.nextPart.get(t);o||(o=Rr(),r.nextPart.set(t,o)),r=o}return r},Hr=e=>"isThemeGetter"in e&&!0===e.isThemeGetter,Vr=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=Object.create(null),n=Object.create(null);const o=(o,a)=>{r[o]=a,t++,t>e&&(t=0,n=r,r=Object.create(null))};return{get(e){let t=r[e];return void 0!==t?t:void 0!==(t=n[e])?(o(e,t),t):void 0},set(e,t){e in r?r[e]=t:o(e,t)}}},Gr=[],Kr=(e,t,r,n,o)=>({modifiers:e,hasImportantModifier:t,baseClassName:r,maybePostfixModifierPosition:n,isExternal:o}),Xr=e=>{const{prefix:t,experimentalParseClassName:r}=e;let n=e=>{const t=[];let r,n=0,o=0,a=0;const i=e.length;for(let l=0;l<i;l++){const i=e[l];if(0===n&&0===o){if(":"===i){t.push(e.slice(a,l)),a=l+1;continue}if("/"===i){r=l;continue}}"["===i?n++:"]"===i?n--:"("===i?o++:")"===i&&o--}const l=0===t.length?e:e.slice(a);let s=l,c=!1;return l.endsWith("!")?(s=l.slice(0,-1),c=!0):l.startsWith("!")&&(s=l.slice(1),c=!0),Kr(t,c,s,r&&r>a?r-a:void 0)};if(t){const e=t+":",r=n;n=t=>t.startsWith(e)?r(t.slice(e.length)):Kr(Gr,!1,t,void 0,!0)}if(r){const e=n;n=t=>r({className:t,parseClassName:e})}return n},qr=e=>{const t=new Map;return e.orderSensitiveModifiers.forEach((e,r)=>{t.set(e,1e6+r)}),e=>{const r=[];let n=[];for(let o=0;o<e.length;o++){const a=e[o],i="["===a[0],l=t.has(a);i||l?(n.length>0&&(n.sort(),r.push(...n),n=[]),r.push(a)):n.push(a)}return n.length>0&&(n.sort(),r.push(...n)),r}},Yr=/\s+/,Zr=e=>{if("string"==typeof e)return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=Zr(e[n]))&&(r&&(r+=" "),r+=t);return r},Jr=[],Qr=e=>{const t=t=>t[e]||Jr;return t.isThemeGetter=!0,t},en=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,tn=/^\((?:(\w[\w-]*):)?(.+)\)$/i,rn=/^\d+\/\d+$/,nn=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,on=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,an=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,ln=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,sn=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,cn=e=>rn.test(e),dn=e=>!!e&&!Number.isNaN(Number(e)),un=e=>!!e&&Number.isInteger(Number(e)),pn=e=>e.endsWith("%")&&dn(e.slice(0,-1)),mn=e=>nn.test(e),hn=()=>!0,gn=e=>on.test(e)&&!an.test(e),fn=()=>!1,bn=e=>ln.test(e),yn=e=>sn.test(e),xn=e=>!kn(e)&&!En(e),vn=e=>Mn(e,Bn,fn),kn=e=>en.test(e),wn=e=>Mn(e,$n,gn),jn=e=>Mn(e,Fn,dn),Sn=e=>Mn(e,On,fn),Cn=e=>Mn(e,Pn,yn),Nn=e=>Mn(e,Un,bn),En=e=>tn.test(e),Tn=e=>Ln(e,$n),Rn=e=>Ln(e,Wn),An=e=>Ln(e,On),Dn=e=>Ln(e,Bn),zn=e=>Ln(e,Pn),In=e=>Ln(e,Un,!0),Mn=(e,t,r)=>{const n=en.exec(e);return!!n&&(n[1]?t(n[1]):r(n[2]))},Ln=(e,t,r=!1)=>{const n=tn.exec(e);return!!n&&(n[1]?t(n[1]):r)},On=e=>"position"===e||"percentage"===e,Pn=e=>"image"===e||"url"===e,Bn=e=>"length"===e||"size"===e||"bg-size"===e,$n=e=>"length"===e,Fn=e=>"number"===e,Wn=e=>"family-name"===e,Un=e=>"shadow"===e,Hn=((e,...t)=>{let r,n,o,a;const i=e=>{const t=n(e);if(t)return t;const a=((e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:o,sortModifiers:a}=t,i=[],l=e.trim().split(Yr);let s="";for(let e=l.length-1;e>=0;e-=1){const t=l[e],{isExternal:c,modifiers:d,hasImportantModifier:u,baseClassName:p,maybePostfixModifierPosition:m}=r(t);if(c){s=t+(s.length>0?" "+s:s);continue}let h=!!m,g=n(h?p.substring(0,m):p);if(!g){if(!h){s=t+(s.length>0?" "+s:s);continue}if(g=n(p),!g){s=t+(s.length>0?" "+s:s);continue}h=!1}const f=0===d.length?"":1===d.length?d[0]:a(d).join(":"),b=u?f+"!":f,y=b+g;if(i.indexOf(y)>-1)continue;i.push(y);const x=o(g,h);for(let e=0;e<x.length;++e){const t=x[e];i.push(b+t)}s=t+(s.length>0?" "+s:s)}return s})(e,r);return o(e,a),a};return a=l=>{const s=t.reduce((e,t)=>t(e),e());return r=(e=>({cache:Vr(e.cacheSize),parseClassName:Xr(e),sortModifiers:qr(e),...zr(e)}))(s),n=r.cache.get,o=r.cache.set,a=i,i(l)},(...e)=>a(((...e)=>{let t,r,n=0,o="";for(;n<e.length;)(t=e[n++])&&(r=Zr(t))&&(o&&(o+=" "),o+=r);return o})(...e))})((Symbol.toStringTag,()=>{const e=Qr("color"),t=Qr("font"),r=Qr("text"),n=Qr("font-weight"),o=Qr("tracking"),a=Qr("leading"),i=Qr("breakpoint"),l=Qr("container"),s=Qr("spacing"),c=Qr("radius"),d=Qr("shadow"),u=Qr("inset-shadow"),p=Qr("text-shadow"),m=Qr("drop-shadow"),h=Qr("blur"),g=Qr("perspective"),f=Qr("aspect"),b=Qr("ease"),y=Qr("animate"),x=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom",En,kn],v=()=>[En,kn,s],k=()=>[cn,"full","auto",...v()],w=()=>[un,"none","subgrid",En,kn],j=()=>["auto",{span:["full",un,En,kn]},un,En,kn],_=()=>[un,"auto",En,kn],S=()=>["auto","min","max","fr",En,kn],C=()=>["auto",...v()],N=()=>[cn,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...v()],E=()=>[e,En,kn],T=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom",An,Sn,{position:[En,kn]}],R=()=>["auto","cover","contain",Dn,vn,{size:[En,kn]}],A=()=>[pn,Tn,wn],D=()=>["","none","full",c,En,kn],z=()=>["",dn,Tn,wn],I=()=>[dn,pn,An,Sn],M=()=>["","none",h,En,kn],L=()=>["none",dn,En,kn],O=()=>["none",dn,En,kn],P=()=>[dn,En,kn],B=()=>[cn,"full",...v()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[mn],breakpoint:[mn],color:[hn],container:[mn],"drop-shadow":[mn],ease:["in","out","in-out"],font:[xn],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[mn],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[mn],shadow:[mn],spacing:["px",dn],text:[mn],"text-shadow":[mn],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",cn,kn,En,f]}],container:["container"],columns:[{columns:[dn,kn,En,l]}],"break-after":[{"break-after":["auto","avoid","all","avoid-page","page","left","right","column"]}],"break-before":[{"break-before":["auto","avoid","all","avoid-page","page","left","right","column"]}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:x()}],overflow:[{overflow:["auto","hidden","clip","visible","scroll"]}],"overflow-x":[{"overflow-x":["auto","hidden","clip","visible","scroll"]}],"overflow-y":[{"overflow-y":["auto","hidden","clip","visible","scroll"]}],overscroll:[{overscroll:["auto","contain","none"]}],"overscroll-x":[{"overscroll-x":["auto","contain","none"]}],"overscroll-y":[{"overscroll-y":["auto","contain","none"]}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:k()}],"inset-x":[{"inset-x":k()}],"inset-y":[{"inset-y":k()}],start:[{start:k()}],end:[{end:k()}],top:[{top:k()}],right:[{right:k()}],bottom:[{bottom:k()}],left:[{left:k()}],visibility:["visible","invisible","collapse"],z:[{z:[un,"auto",En,kn]}],basis:[{basis:[cn,"full","auto",l,...v()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[dn,cn,"auto","initial","none",kn]}],grow:[{grow:["",dn,En,kn]}],shrink:[{shrink:["",dn,En,kn]}],order:[{order:[un,"first","last","none",En,kn]}],"grid-cols":[{"grid-cols":w()}],"col-start-end":[{col:j()}],"col-start":[{"col-start":_()}],"col-end":[{"col-end":_()}],"grid-rows":[{"grid-rows":w()}],"row-start-end":[{row:j()}],"row-start":[{"row-start":_()}],"row-end":[{"row-end":_()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":S()}],"auto-rows":[{"auto-rows":S()}],gap:[{gap:v()}],"gap-x":[{"gap-x":v()}],"gap-y":[{"gap-y":v()}],"justify-content":[{justify:["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe","normal"]}],"justify-items":[{"justify-items":["start","end","center","stretch","center-safe","end-safe","normal"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch","center-safe","end-safe"]}],"align-content":[{content:["normal","start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"]}],"align-items":[{items:["start","end","center","stretch","center-safe","end-safe",{baseline:["","last"]}]}],"align-self":[{self:["auto","start","end","center","stretch","center-safe","end-safe",{baseline:["","last"]}]}],"place-content":[{"place-content":["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"]}],"place-items":[{"place-items":["start","end","center","stretch","center-safe","end-safe","baseline"]}],"place-self":[{"place-self":["auto","start","end","center","stretch","center-safe","end-safe"]}],p:[{p:v()}],px:[{px:v()}],py:[{py:v()}],ps:[{ps:v()}],pe:[{pe:v()}],pt:[{pt:v()}],pr:[{pr:v()}],pb:[{pb:v()}],pl:[{pl:v()}],m:[{m:C()}],mx:[{mx:C()}],my:[{my:C()}],ms:[{ms:C()}],me:[{me:C()}],mt:[{mt:C()}],mr:[{mr:C()}],mb:[{mb:C()}],ml:[{ml:C()}],"space-x":[{"space-x":v()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":v()}],"space-y-reverse":["space-y-reverse"],size:[{size:N()}],w:[{w:[l,"screen",...N()]}],"min-w":[{"min-w":[l,"screen","none",...N()]}],"max-w":[{"max-w":[l,"screen","none","prose",{screen:[i]},...N()]}],h:[{h:["screen","lh",...N()]}],"min-h":[{"min-h":["screen","lh","none",...N()]}],"max-h":[{"max-h":["screen","lh",...N()]}],"font-size":[{text:["base",r,Tn,wn]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[n,En,jn]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",pn,kn]}],"font-family":[{font:[Rn,kn,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[o,En,kn]}],"line-clamp":[{"line-clamp":[dn,"none",En,jn]}],leading:[{leading:[a,...v()]}],"list-image":[{"list-image":["none",En,kn]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",En,kn]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:E()}],"text-color":[{text:E()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:["solid","dashed","dotted","double","wavy"]}],"text-decoration-thickness":[{decoration:[dn,"from-font","auto",En,wn]}],"text-decoration-color":[{decoration:E()}],"underline-offset":[{"underline-offset":[dn,"auto",En,kn]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:v()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",En,kn]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",En,kn]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:T()}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","space","round"]}]}],"bg-size":[{bg:R()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},un,En,kn],radial:["",En,kn],conic:[un,En,kn]},zn,Cn]}],"bg-color":[{bg:E()}],"gradient-from-pos":[{from:A()}],"gradient-via-pos":[{via:A()}],"gradient-to-pos":[{to:A()}],"gradient-from":[{from:E()}],"gradient-via":[{via:E()}],"gradient-to":[{to:E()}],rounded:[{rounded:D()}],"rounded-s":[{"rounded-s":D()}],"rounded-e":[{"rounded-e":D()}],"rounded-t":[{"rounded-t":D()}],"rounded-r":[{"rounded-r":D()}],"rounded-b":[{"rounded-b":D()}],"rounded-l":[{"rounded-l":D()}],"rounded-ss":[{"rounded-ss":D()}],"rounded-se":[{"rounded-se":D()}],"rounded-ee":[{"rounded-ee":D()}],"rounded-es":[{"rounded-es":D()}],"rounded-tl":[{"rounded-tl":D()}],"rounded-tr":[{"rounded-tr":D()}],"rounded-br":[{"rounded-br":D()}],"rounded-bl":[{"rounded-bl":D()}],"border-w":[{border:z()}],"border-w-x":[{"border-x":z()}],"border-w-y":[{"border-y":z()}],"border-w-s":[{"border-s":z()}],"border-w-e":[{"border-e":z()}],"border-w-t":[{"border-t":z()}],"border-w-r":[{"border-r":z()}],"border-w-b":[{"border-b":z()}],"border-w-l":[{"border-l":z()}],"divide-x":[{"divide-x":z()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":z()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:["solid","dashed","dotted","double","hidden","none"]}],"divide-style":[{divide:["solid","dashed","dotted","double","hidden","none"]}],"border-color":[{border:E()}],"border-color-x":[{"border-x":E()}],"border-color-y":[{"border-y":E()}],"border-color-s":[{"border-s":E()}],"border-color-e":[{"border-e":E()}],"border-color-t":[{"border-t":E()}],"border-color-r":[{"border-r":E()}],"border-color-b":[{"border-b":E()}],"border-color-l":[{"border-l":E()}],"divide-color":[{divide:E()}],"outline-style":[{outline:["solid","dashed","dotted","double","none","hidden"]}],"outline-offset":[{"outline-offset":[dn,En,kn]}],"outline-w":[{outline:["",dn,Tn,wn]}],"outline-color":[{outline:E()}],shadow:[{shadow:["","none",d,In,Nn]}],"shadow-color":[{shadow:E()}],"inset-shadow":[{"inset-shadow":["none",u,In,Nn]}],"inset-shadow-color":[{"inset-shadow":E()}],"ring-w":[{ring:z()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:E()}],"ring-offset-w":[{"ring-offset":[dn,wn]}],"ring-offset-color":[{"ring-offset":E()}],"inset-ring-w":[{"inset-ring":z()}],"inset-ring-color":[{"inset-ring":E()}],"text-shadow":[{"text-shadow":["none",p,In,Nn]}],"text-shadow-color":[{"text-shadow":E()}],opacity:[{opacity:[dn,En,kn]}],"mix-blend":[{"mix-blend":["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"]}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[dn]}],"mask-image-linear-from-pos":[{"mask-linear-from":I()}],"mask-image-linear-to-pos":[{"mask-linear-to":I()}],"mask-image-linear-from-color":[{"mask-linear-from":E()}],"mask-image-linear-to-color":[{"mask-linear-to":E()}],"mask-image-t-from-pos":[{"mask-t-from":I()}],"mask-image-t-to-pos":[{"mask-t-to":I()}],"mask-image-t-from-color":[{"mask-t-from":E()}],"mask-image-t-to-color":[{"mask-t-to":E()}],"mask-image-r-from-pos":[{"mask-r-from":I()}],"mask-image-r-to-pos":[{"mask-r-to":I()}],"mask-image-r-from-color":[{"mask-r-from":E()}],"mask-image-r-to-color":[{"mask-r-to":E()}],"mask-image-b-from-pos":[{"mask-b-from":I()}],"mask-image-b-to-pos":[{"mask-b-to":I()}],"mask-image-b-from-color":[{"mask-b-from":E()}],"mask-image-b-to-color":[{"mask-b-to":E()}],"mask-image-l-from-pos":[{"mask-l-from":I()}],"mask-image-l-to-pos":[{"mask-l-to":I()}],"mask-image-l-from-color":[{"mask-l-from":E()}],"mask-image-l-to-color":[{"mask-l-to":E()}],"mask-image-x-from-pos":[{"mask-x-from":I()}],"mask-image-x-to-pos":[{"mask-x-to":I()}],"mask-image-x-from-color":[{"mask-x-from":E()}],"mask-image-x-to-color":[{"mask-x-to":E()}],"mask-image-y-from-pos":[{"mask-y-from":I()}],"mask-image-y-to-pos":[{"mask-y-to":I()}],"mask-image-y-from-color":[{"mask-y-from":E()}],"mask-image-y-to-color":[{"mask-y-to":E()}],"mask-image-radial":[{"mask-radial":[En,kn]}],"mask-image-radial-from-pos":[{"mask-radial-from":I()}],"mask-image-radial-to-pos":[{"mask-radial-to":I()}],"mask-image-radial-from-color":[{"mask-radial-from":E()}],"mask-image-radial-to-color":[{"mask-radial-to":E()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"]}],"mask-image-conic-pos":[{"mask-conic":[dn]}],"mask-image-conic-from-pos":[{"mask-conic-from":I()}],"mask-image-conic-to-pos":[{"mask-conic-to":I()}],"mask-image-conic-from-color":[{"mask-conic-from":E()}],"mask-image-conic-to-color":[{"mask-conic-to":E()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:T()}],"mask-repeat":[{mask:["no-repeat",{repeat:["","x","y","space","round"]}]}],"mask-size":[{mask:R()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",En,kn]}],filter:[{filter:["","none",En,kn]}],blur:[{blur:M()}],brightness:[{brightness:[dn,En,kn]}],contrast:[{contrast:[dn,En,kn]}],"drop-shadow":[{"drop-shadow":["","none",m,In,Nn]}],"drop-shadow-color":[{"drop-shadow":E()}],grayscale:[{grayscale:["",dn,En,kn]}],"hue-rotate":[{"hue-rotate":[dn,En,kn]}],invert:[{invert:["",dn,En,kn]}],saturate:[{saturate:[dn,En,kn]}],sepia:[{sepia:["",dn,En,kn]}],"backdrop-filter":[{"backdrop-filter":["","none",En,kn]}],"backdrop-blur":[{"backdrop-blur":M()}],"backdrop-brightness":[{"backdrop-brightness":[dn,En,kn]}],"backdrop-contrast":[{"backdrop-contrast":[dn,En,kn]}],"backdrop-grayscale":[{"backdrop-grayscale":["",dn,En,kn]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[dn,En,kn]}],"backdrop-invert":[{"backdrop-invert":["",dn,En,kn]}],"backdrop-opacity":[{"backdrop-opacity":[dn,En,kn]}],"backdrop-saturate":[{"backdrop-saturate":[dn,En,kn]}],"backdrop-sepia":[{"backdrop-sepia":["",dn,En,kn]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":v()}],"border-spacing-x":[{"border-spacing-x":v()}],"border-spacing-y":[{"border-spacing-y":v()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",En,kn]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[dn,"initial",En,kn]}],ease:[{ease:["linear","initial",b,En,kn]}],delay:[{delay:[dn,En,kn]}],animate:[{animate:["none",y,En,kn]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[g,En,kn]}],"perspective-origin":[{"perspective-origin":x()}],rotate:[{rotate:L()}],"rotate-x":[{"rotate-x":L()}],"rotate-y":[{"rotate-y":L()}],"rotate-z":[{"rotate-z":L()}],scale:[{scale:O()}],"scale-x":[{"scale-x":O()}],"scale-y":[{"scale-y":O()}],"scale-z":[{"scale-z":O()}],"scale-3d":["scale-3d"],skew:[{skew:P()}],"skew-x":[{"skew-x":P()}],"skew-y":[{"skew-y":P()}],transform:[{transform:[En,kn,"","none","gpu","cpu"]}],"transform-origin":[{origin:x()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:B()}],"translate-x":[{"translate-x":B()}],"translate-y":[{"translate-y":B()}],"translate-z":[{"translate-z":B()}],"translate-none":["translate-none"],accent:[{accent:E()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:E()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",En,kn]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":v()}],"scroll-mx":[{"scroll-mx":v()}],"scroll-my":[{"scroll-my":v()}],"scroll-ms":[{"scroll-ms":v()}],"scroll-me":[{"scroll-me":v()}],"scroll-mt":[{"scroll-mt":v()}],"scroll-mr":[{"scroll-mr":v()}],"scroll-mb":[{"scroll-mb":v()}],"scroll-ml":[{"scroll-ml":v()}],"scroll-p":[{"scroll-p":v()}],"scroll-px":[{"scroll-px":v()}],"scroll-py":[{"scroll-py":v()}],"scroll-ps":[{"scroll-ps":v()}],"scroll-pe":[{"scroll-pe":v()}],"scroll-pt":[{"scroll-pt":v()}],"scroll-pr":[{"scroll-pr":v()}],"scroll-pb":[{"scroll-pb":v()}],"scroll-pl":[{"scroll-pl":v()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",En,kn]}],fill:[{fill:["none",...E()]}],"stroke-w":[{stroke:[dn,Tn,wn,jn]}],stroke:[{stroke:["none",...E()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}}));function Vn(...e){return Hn(Cr(e))}const Gn=Tr("rp-inline-flex rp-items-center rp-justify-center rp-gap-2 rp-whitespace-nowrap rp-rounded-md rp-text-sm rp-font-medium rp-transition-colors focus-visible:rp-outline-none focus-visible:rp-ring-2 focus-visible:rp-ring-ring focus-visible:rp-ring-offset-2 disabled:rp-pointer-events-none disabled:rp-opacity-50",{variants:{variant:{default:"",destructive:"rp-bg-destructive rp-text-destructive-foreground hover:rp-bg-destructive/90",outline:"",secondary:"rp-bg-secondary rp-text-secondary-foreground hover:rp-bg-secondary/80",ghost:"hover:rp-bg-accent hover:rp-text-accent-foreground",link:"rp-text-primary rp-underline-offset-4 hover:rp-underline"},size:{default:"rp-h-10 rp-px-4 rp-py-2",sm:"rp-h-9 rp-rounded-md rp-px-3",lg:"rp-h-11 rp-rounded-md rp-px-8",icon:"rp-h-10 rp-w-10"}},defaultVariants:{variant:"default",size:"default"}}),Kn=(0,e.forwardRef)(({className:e,variant:t,size:r,asChild:n=!1,style:o,...a},i)=>{const l=n?kr:"button",s={default:{backgroundColor:"#1d71b8",color:"#ffffff",border:"none",borderRadius:"0.375rem"},outline:{backgroundColor:"transparent",color:"#1d71b8",border:"1px solid #1d71b8",borderRadius:"0.375rem"},ghost:{backgroundColor:"transparent",color:"#374151",border:"none",borderRadius:"0.375rem"}},c={default:{backgroundColor:"#36a9e1"},outline:{backgroundColor:"#f0f7fc"},ghost:{backgroundColor:"#f3f4f6"}},d=s[t]||s.default;return(0,lr.jsx)(l,{className:Vn(Gn({variant:t,size:r,className:e})),ref:i,style:{...d,...o},onMouseEnter:e=>{const r=c[t]||c.default;Object.assign(e.currentTarget.style,r)},onMouseLeave:e=>{const r=s[t]||s.default;Object.assign(e.currentTarget.style,r)},...a})});function Xn({size:e="1rem"}){return(0,lr.jsx)("div",{style:{width:e,height:e,border:"2px solid #e5e7eb",borderTopColor:"#1d71b8",borderRadius:"50%",animation:"spin 0.8s linear infinite"}})}function qn({title:e,children:t,onClose:r}){return(0,lr.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e5,padding:"1rem"},onClick:r,children:(0,lr.jsxs)("div",{style:{backgroundColor:"#fff",borderRadius:"0.5rem",boxShadow:"0 4px 20px rgba(0, 0, 0, 0.15)",maxWidth:"500px",width:"100%",maxHeight:"90vh",overflow:"auto"},onClick:e=>e.stopPropagation(),children:[(0,lr.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"1rem 1.5rem",borderBottom:"1px solid #e5e7eb"},children:[(0,lr.jsx)("h3",{style:{margin:0,fontSize:"1rem",fontWeight:600,color:"#1f2937"},children:e}),(0,lr.jsx)("button",{type:"button",onClick:r,style:{display:"flex",alignItems:"center",justifyContent:"center",width:"2rem",height:"2rem",background:"none",border:"none",borderRadius:"0.375rem",cursor:"pointer",color:"#6b7280"},children:(0,lr.jsx)(mr,{style:{width:"1.25rem",height:"1.25rem"}})})]}),t]})})}function Yn({candidateId:r,inPool:n=!1,onStatusChange:o}){const[a,i]=(0,e.useState)(!1),[l,s]=(0,e.useState)(""),[c,d]=(0,e.useState)(""),[u,p]=(0,e.useState)(!1),{isInPool:m,loading:h,error:g,addToPool:f,removeFromPool:b}=function(t,r=!1){const[n,o]=(0,e.useState)(r),[a,i]=(0,e.useState)(null),[l,s]=(0,e.useState)(!1),[c,d]=(0,e.useState)(null),u=(0,e.useCallback)(async()=>{if(t)try{s(!0),d(null);const e=await ir()({path:`/recruiting/v1/candidates/${t}/talent-pool`});o(e.in_pool),i(e.entry)}catch(e){console.error("Error fetching talent pool status:",e),d(e.message||window.rpApplicant?.i18n?.errorLoadingTalentPool||"Fehler beim Laden des Talent-Pool Status")}finally{s(!1)}},[t]);(0,e.useEffect)(()=>{t&&void 0===r&&u()},[t,r,u]);const p=(0,e.useCallback)(async(e="",r="",n=null)=>{if(!t)return!1;try{s(!0),d(null);const a={candidate_id:t,reason:e,tags:r};n&&(a.expires_at=n);const l=await ir()({path:"/recruiting/v1/talent-pool",method:"POST",data:a});return o(!0),i(l),!0}catch(e){return console.error("Error adding to talent pool:",e),"already_exists"===e.code?(o(!0),d(null),!0):(d(e.message||window.rpApplicant?.i18n?.errorAddingToTalentPool||"Fehler beim Hinzufgen zum Talent-Pool"),!1)}finally{s(!1)}},[t]),m=(0,e.useCallback)(async()=>{if(!t)return!1;const e=n,r=a;try{return s(!0),d(null),o(!1),i(null),await ir()({path:`/recruiting/v1/talent-pool/${t}`,method:"DELETE"}),!0}catch(t){return console.error("Error removing from talent pool:",t),o(e),i(r),d(t.message||window.rpApplicant?.i18n?.errorRemovingFromTalentPool||"Fehler beim Entfernen aus dem Talent-Pool"),!1}finally{s(!1)}},[t,n,a]),h=(0,e.useCallback)(async e=>{if(!t||!n)return!1;try{s(!0),d(null);const r=await ir()({path:`/recruiting/v1/talent-pool/${t}`,method:"PATCH",data:e});return i(r),!0}catch(e){return console.error("Error updating talent pool entry:",e),d(e.message||window.rpApplicant?.i18n?.errorUpdatingTalentPool||"Fehler beim Aktualisieren des Talent-Pool Eintrags"),!1}finally{s(!1)}},[t,n]);return{isInPool:n,entry:a,loading:l,error:c,addToPool:p,removeFromPool:m,updateEntry:h,refetch:u}}(r,n);return m?(0,lr.jsxs)(lr.Fragment,{children:[(0,lr.jsxs)(Kn,{variant:"outline",onClick:()=>p(!0),disabled:h,style:{backgroundColor:"#e6f3ff",borderColor:"#1d71b8",color:"#1d71b8"},children:[(0,lr.jsx)(nr,{style:{width:"1rem",height:"1rem"}}),(0,t.__)("Im Talent-Pool","recruiting-playbook"),h&&(0,lr.jsx)(Xn,{size:"0.875rem"})]}),u&&(0,lr.jsxs)(qn,{title:(0,t.__)("Aus Talent-Pool entfernen","recruiting-playbook"),onClose:()=>p(!1),children:[(0,lr.jsxs)("div",{style:{padding:"1.5rem"},children:[(0,lr.jsx)("p",{style:{margin:"0 0 1rem 0",color:"#374151"},children:(0,t.__)("Kandidat wirklich aus dem Talent-Pool entfernen?","recruiting-playbook")}),g&&(0,lr.jsx)("div",{style:{padding:"0.75rem",backgroundColor:"#fee2e2",color:"#dc2626",borderRadius:"0.375rem",marginBottom:"1rem",fontSize:"0.875rem"},children:g})]}),(0,lr.jsxs)("div",{style:{display:"flex",justifyContent:"flex-end",gap:"0.5rem",padding:"1rem 1.5rem",borderTop:"1px solid #e5e7eb",backgroundColor:"#f9fafb"},children:[(0,lr.jsx)(Kn,{variant:"outline",onClick:()=>p(!1),disabled:h,children:(0,t.__)("Abbrechen","recruiting-playbook")}),(0,lr.jsx)(Kn,{onClick:async()=>{await b()&&(p(!1),o&&o(!1))},disabled:h,style:{backgroundColor:"#d63638"},children:h?(0,lr.jsx)(Xn,{size:"0.875rem"}):(0,t.__)("Entfernen","recruiting-playbook")})]})]}),(0,lr.jsx)("style",{children:"@keyframes spin { to { transform: rotate(360deg); } }"})]}):(0,lr.jsxs)(lr.Fragment,{children:[(0,lr.jsxs)(Kn,{variant:"outline",onClick:()=>i(!0),disabled:h,children:[(0,lr.jsx)(hr,{style:{width:"1rem",height:"1rem"}}),(0,t.__)("Talent-Pool","recruiting-playbook")]}),a&&(0,lr.jsxs)(qn,{title:(0,t.__)("Zum Talent-Pool hinzufgen","recruiting-playbook"),onClose:()=>i(!1),children:[(0,lr.jsxs)("div",{style:{padding:"1.5rem"},children:[g&&(0,lr.jsx)("div",{style:{padding:"0.75rem",backgroundColor:"#fee2e2",color:"#dc2626",borderRadius:"0.375rem",marginBottom:"1rem",fontSize:"0.875rem"},children:g}),(0,lr.jsxs)("div",{style:{marginBottom:"1rem"},children:[(0,lr.jsx)("label",{htmlFor:"rp-talent-reason",style:{display:"block",marginBottom:"0.375rem",fontSize:"0.875rem",fontWeight:500,color:"#374151"},children:(0,t.__)("Grund fr Aufnahme","recruiting-playbook")}),(0,lr.jsx)("textarea",{id:"rp-talent-reason",value:l,onChange:e=>s(e.target.value),placeholder:(0,t.__)("z.B. Sehr guter Kandidat, aber aktuell keine passende Stelle...","recruiting-playbook"),rows:3,disabled:h,style:{width:"100%",padding:"0.5rem 0.75rem",border:"1px solid #e5e7eb",borderRadius:"0.375rem",fontSize:"0.875rem",resize:"vertical",fontFamily:"inherit"}})]}),(0,lr.jsxs)("div",{style:{marginBottom:"1rem"},children:[(0,lr.jsx)("label",{htmlFor:"rp-talent-tags",style:{display:"block",marginBottom:"0.375rem",fontSize:"0.875rem",fontWeight:500,color:"#374151"},children:(0,t.__)("Tags (komma-separiert)","recruiting-playbook")}),(0,lr.jsx)("input",{type:"text",id:"rp-talent-tags",value:c,onChange:e=>d(e.target.value),placeholder:(0,t.__)("z.B. php, react, senior, remote","recruiting-playbook"),disabled:h,style:{width:"100%",padding:"0.5rem 0.75rem",border:"1px solid #e5e7eb",borderRadius:"0.375rem",fontSize:"0.875rem"}}),(0,lr.jsx)("p",{style:{margin:"0.375rem 0 0 0",fontSize:"0.75rem",color:"#6b7280"},children:(0,t.__)("Tags helfen, Kandidaten spter schneller zu finden.","recruiting-playbook")})]}),(0,lr.jsxs)("div",{style:{display:"flex",alignItems:"flex-start",gap:"0.5rem",padding:"0.75rem",backgroundColor:"#fef3c7",borderRadius:"0.375rem",fontSize:"0.75rem",color:"#92400e"},children:[(0,lr.jsx)(gr,{style:{width:"1rem",height:"1rem",flexShrink:0,marginTop:"0.125rem"}}),(0,lr.jsx)("span",{children:(0,t.__)("Der Eintrag wird nach 24 Monaten automatisch gelscht (DSGVO).","recruiting-playbook")})]})]}),(0,lr.jsxs)("div",{style:{display:"flex",justifyContent:"flex-end",gap:"0.5rem",padding:"1rem 1.5rem",borderTop:"1px solid #e5e7eb",backgroundColor:"#f9fafb"},children:[(0,lr.jsx)(Kn,{variant:"outline",onClick:()=>i(!1),disabled:h,children:(0,t.__)("Abbrechen","recruiting-playbook")}),(0,lr.jsx)(Kn,{onClick:async()=>{await f(l,c)&&(i(!1),s(""),d(""),o&&o(!0))},disabled:h,children:h?(0,lr.jsxs)(lr.Fragment,{children:[(0,lr.jsx)(Xn,{size:"0.875rem"}),(0,t.__)("Hinzufgen...","recruiting-playbook")]}):(0,t.__)("Hinzufgen","recruiting-playbook")})]})]}),(0,lr.jsx)("style",{children:"@keyframes spin { to { transform: rotate(360deg); } }"})]})}function Zn({inPool:e}){return e?(0,lr.jsx)("span",{style:{display:"inline-flex",alignItems:"center",justifyContent:"center",width:"1.5rem",height:"1.5rem",backgroundColor:"#e6f3ff",borderRadius:"50%",color:"#1d71b8"},title:(0,t.__)("Im Talent-Pool","recruiting-playbook"),children:(0,lr.jsx)(nr,{style:{width:"0.875rem",height:"0.875rem"}})}):null}function Jn({application:e,isDragging:r=!1,index:n=0,totalInColumn:o=1,columnLabel:a=""}){const{attributes:i,listeners:l,setNodeRef:s,transform:c,transition:d,isDragging:u}=Ht({id:e.id,data:{type:"card",status:e.status,application:e}}),p={transform:E.Transform.toString(c),transition:d,opacity:u?.5:1},m=`${e.first_name||""} ${e.last_name||""}`.trim()||(0,t.__)("Unbekannt","recruiting-playbook"),h=(j=e.first_name,_=e.last_name,`${(j||"").charAt(0).toUpperCase()}${(_||"").charAt(0).toUpperCase()}`||"?"),g=function(e){if(!e)return 0;const t=new Date(e),r=new Date,n=Math.abs(r-t);return Math.floor(n/864e5)}(e.created_at),f=window.rpKanban?.i18n||{},b=window.rpKanban?.detailUrl||"",y=e.job_title||(0,t.__)("Keine Stelle","recruiting-playbook"),x=function(e,r){if(0===e)return r.today||(0,t.__)("Heute","recruiting-playbook");if(1===e)return r.yesterday||(0,t.__)("Gestern","recruiting-playbook");return(r.daysAgo||(0,t.__)("vor %d Tagen","recruiting-playbook")).replace("%d",e)}(g,f),v=`${n+1} von ${o}`,k=`${m}, ${y}, ${x}${e.documents_count>0?`, ${e.documents_count} ${1===e.documents_count?"Dokument":"Dokumente"}`:""}. Position ${v} in ${a}. Drcke Leertaste zum Ziehen.`,w=t=>{u||r||t.defaultPrevented||b&&(window.location.href=`${b}${e.id}`)};var j,_;return(0,lr.jsxs)("article",{ref:s,style:p,className:"rp-kanban-card "+(u||r?"is-dragging":""),...i,...l,onClick:w,onKeyDown:e=>{"Enter"!==e.key||u||e.defaultPrevented||w(e)},role:"listitem",tabIndex:0,"aria-label":k,"aria-grabbed":u||r,"data-application-id":e.id,children:[(0,lr.jsxs)("div",{className:"rp-kanban-card-header",children:[(0,lr.jsx)("div",{className:"rp-kanban-card-avatar",style:{backgroundColor:Qn(e.id)},"aria-hidden":"true",children:h}),(0,lr.jsxs)("div",{className:"rp-kanban-card-info",children:[(0,lr.jsx)("div",{className:"rp-kanban-card-name",children:m}),(0,lr.jsx)("div",{className:"rp-kanban-card-email",children:e.email||""})]})]}),(0,lr.jsxs)("div",{className:"rp-kanban-card-meta",children:[(0,lr.jsxs)("span",{className:"rp-kanban-card-job",title:e.job_title,children:[(0,lr.jsx)("span",{className:"dashicons dashicons-businessman","aria-hidden":"true"}),y]}),(0,lr.jsxs)("span",{className:"rp-kanban-card-date",children:[(0,lr.jsx)("span",{className:"dashicons dashicons-calendar-alt","aria-hidden":"true"}),x]})]}),(0,lr.jsxs)("div",{className:"rp-kanban-card-footer",children:[e.documents_count>0&&(0,lr.jsxs)("span",{className:"rp-kanban-card-badge",title:`${e.documents_count} Dokumente`,children:[(0,lr.jsx)("span",{className:"dashicons dashicons-media-document","aria-hidden":"true"}),e.documents_count]}),e.notes_count>0&&(0,lr.jsxs)("span",{className:"rp-kanban-card-badge",title:`${e.notes_count} Notizen`,children:[(0,lr.jsx)("span",{className:"dashicons dashicons-edit","aria-hidden":"true"}),e.notes_count]}),(0,lr.jsx)("span",{className:"rp-kanban-card-spacer"}),(0,lr.jsx)(Zn,{inPool:e.in_talent_pool}),(0,lr.jsx)(pr,{average:e.average_rating,count:e.ratings_count})]})]})}function Qn(e){const t=["#2271b1","#00a32a","#dba617","#9b59b6","#e74c3c","#1abc9c","#3498db","#e67e22"];return t[e%t.length]}function eo({status:r,label:n,color:o,collapsed:a=!1,applications:i,columnIndex:l=0,totalColumns:s=1}){const[c,d]=(0,e.useState)(a),{setNodeRef:u,isOver:p}=bt({id:r,data:{type:"column",status:r}}),m=i.length,h=window.rpKanban?.i18n||{},g=`${n}, ${m} ${1===m?(0,t.__)("Bewerbung","recruiting-playbook"):(0,t.__)("Bewerbungen","recruiting-playbook")}, Spalte ${l+1} von ${s}`;return(0,lr.jsxs)("section",{className:`rp-kanban-column ${c?"is-collapsed":""} ${p?"is-over":""}`,style:{"--column-color":o},"aria-label":g,children:[(0,lr.jsxs)("div",{className:"rp-kanban-column-header",onClick:()=>d(!c),role:"button",tabIndex:0,onKeyDown:e=>{"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),d(!c))},"aria-expanded":!c,"aria-controls":`rp-kanban-column-content-${r}`,children:[(0,lr.jsx)("span",{className:"rp-kanban-column-color",style:{backgroundColor:o},"aria-hidden":"true"}),(0,lr.jsx)("h3",{className:"rp-kanban-column-title",id:`rp-kanban-column-title-${r}`,children:n}),(0,lr.jsx)("span",{className:"rp-kanban-column-count","aria-label":`${m} Bewerbungen`,children:m}),(0,lr.jsx)("button",{type:"button",className:"rp-kanban-collapse-btn","aria-label":c?h.expand||(0,t.__)("Aufklappen","recruiting-playbook"):h.collapse||(0,t.__)("Zuklappen","recruiting-playbook"),onClick:e=>{e.stopPropagation(),d(!c)},children:(0,lr.jsx)("span",{className:`dashicons dashicons-arrow-${c?"down":"up"}-alt2`,"aria-hidden":"true"})})]}),!c&&(0,lr.jsx)("div",{ref:u,className:"rp-kanban-column-content",id:`rp-kanban-column-content-${r}`,role:"list","aria-labelledby":`rp-kanban-column-title-${r}`,children:(0,lr.jsx)(Ot,{items:i.map(e=>e.id),strategy:It,children:0===i.length?(0,lr.jsx)("div",{className:"rp-kanban-empty",role:"listitem",children:h.noApplications||(0,t.__)("Keine Bewerbungen","recruiting-playbook")}):i.map((e,t)=>(0,lr.jsx)(Jn,{application:e,index:t,totalInColumn:i.length,columnLabel:n},e.id))})})]})}function to(e,t="info"){document.querySelectorAll(".rp-kanban-notice").forEach(e=>e.remove());const r=["success","error","warning","info"].includes(t)?t:"info",n=document.createElement("div");n.className=`notice notice-${r} is-dismissible rp-kanban-notice`,n.style.cssText="position: fixed; top: 50px; right: 20px; z-index: 99999; max-width: 300px;",n.innerHTML=`\n\t\t<p>${function(e){const t=document.createElement("div");return t.textContent=e,t.innerHTML}(e)}</p>\n\t\t<button type="button" class="notice-dismiss">\n\t\t\t<span class="screen-reader-text">Dismiss this notice.</span>\n\t\t</button>\n\t`,document.body.appendChild(n),n.querySelector(".notice-dismiss").addEventListener("click",()=>{n.remove()}),setTimeout(()=>{n.parentNode&&n.remove()},3e3)}function ro(e){const t=(e=>{let{droppableContainers:t,droppableRects:r,pointerCoordinates:n}=e;if(!n)return[];const o=[];for(const e of t){const{id:t}=e,a=r.get(t);if(a&&Y(n,a)){const r=G(a).reduce((e,t)=>e+W(n,t),0),i=Number((r/4).toFixed(4));o.push({id:t,data:{droppableContainer:e,value:i}})}}return o.sort(H)})(e);return t.length>0?t:q(e)}function no(){const{applications:n,loading:o,error:a,updateStatus:i,reorderInColumn:l,moveToColumn:s,refetch:c}=function(){const[t,r]=(0,e.useState)([]),[n,o]=(0,e.useState)(!0),[a,i]=(0,e.useState)(null),l=(0,e.useRef)(null),s=(0,e.useCallback)(async()=>{try{o(!0),i(null);const e=await ir()({path:"/recruiting/v1/applications?per_page=200&context=kanban"}),t=e.items||e;r(Array.isArray(t)?t:[])}catch(e){console.error("Error fetching applications:",e),i(e.message||window.rpKanban?.i18n?.error||"Fehler beim Laden")}finally{o(!1)}},[]);(0,e.useEffect)(()=>{s()},[s]),(0,e.useEffect)(()=>{const e=setInterval(()=>{"visible"===document.visibilityState&&s()},6e4);return()=>clearInterval(e)},[s]);const c=(0,e.useCallback)(async(e,n,o=0)=>{l.current=[...t],r(t=>t.map(t=>t.id===e?{...t,status:n,kanban_position:o}:t));try{await ir()({path:`/recruiting/v1/applications/${e}/status`,method:"PATCH",data:{status:n,kanban_position:o,note:"Status via Kanban-Board gendert"}}),to((window.rpKanban?.i18n||{}).statusChanged||"Status gendert","success"),l.current=null}catch(e){console.error("Error updating status:",e),l.current&&(r(l.current),l.current=null),to((window.rpKanban?.i18n||{}).updateFailed||"Aktualisierung fehlgeschlagen","error")}},[t]),d=(0,e.useCallback)(async(e,n,o,a)=>{const i=a.findIndex(e=>e.id===n),s=a.findIndex(e=>e.id===o);if(-1===i||-1===s||i===s)return;l.current=[...t];const c=[...a],[d]=c.splice(i,1);c.splice(s,0,d);const u=c.map((e,t)=>({id:e.id,kanban_position:10*(t+1)}));r(e=>e.map(e=>{const t=u.find(t=>t.id===e.id);return t?{...e,kanban_position:t.kanban_position}:e}));try{await ir()({path:"/recruiting/v1/applications/reorder",method:"POST",data:{status:e,positions:u}}),l.current=null}catch(e){console.error("Error reordering:",e),l.current&&(r(l.current),l.current=null),to((window.rpKanban?.i18n||{}).reorderFailed||"Sortierung fehlgeschlagen","error")}},[t]),u=(0,e.useCallback)(async(e,n,o,a)=>{const i=[...a],s=t.find(t=>t.id===e);if(!s)return;l.current=[...t],i.splice(o,0,{...s,status:n});const c=i.map((e,t)=>({id:e.id,kanban_position:10*(t+1)})),d=c.find(t=>t.id===e)?.kanban_position||10;r(t=>t.map(t=>{if(t.id===e)return{...t,status:n,kanban_position:d};const r=c.find(e=>e.id===t.id);return r&&t.status===n?{...t,kanban_position:r.kanban_position}:t}));try{await ir()({path:`/recruiting/v1/applications/${e}/status`,method:"PATCH",data:{status:n,kanban_position:d,note:"Status via Kanban-Board gendert"}}),a.length>0&&await ir()({path:"/recruiting/v1/applications/reorder",method:"POST",data:{status:n,positions:c.filter(t=>t.id!==e)}}),to((window.rpKanban?.i18n||{}).statusChanged||"Status gendert","success"),l.current=null}catch(e){console.error("Error moving application:",e),l.current&&(r(l.current),l.current=null),to((window.rpKanban?.i18n||{}).updateFailed||"Verschieben fehlgeschlagen","error")}},[t]);return{applications:t,setApplications:r,loading:n,error:a,updateStatus:c,reorderInColumn:d,moveToColumn:u,refetch:s}}(),[d,u]=(0,e.useState)(""),[p,m]=(0,e.useState)(""),[h,g]=(0,e.useState)(null),f=(0,e.useRef)(null),b=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,r.useMemo)(()=>[...t].filter(e=>null!=e),[...t])}($(ze,{activationConstraint:{distance:8}}),$(Ee,{coordinateGetter:Kt})),y=(0,e.useCallback)(e=>{f.current&&(f.current.textContent=e,setTimeout(()=>{f.current&&(f.current.textContent="")},1e3))},[]),x=(0,e.useMemo)(()=>function(){let e;return function(...t){clearTimeout(e),e=setTimeout(()=>{clearTimeout(e),(e=>{m(e)})(...t)},300)}}(),[]);(0,e.useEffect)(()=>{const e=document.getElementById("rp-kanban-job-filter"),t=document.getElementById("rp-kanban-search"),r=document.getElementById("rp-kanban-refresh"),n=e=>u(e.target.value),o=e=>x(e.target.value),a=()=>c();return e&&e.addEventListener("change",n),t&&t.addEventListener("input",o),r&&r.addEventListener("click",a),()=>{e&&e.removeEventListener("change",n),t&&t.removeEventListener("input",o),r&&r.removeEventListener("click",a)}},[c,x]);const v=n.filter(e=>{if(d&&e.job_id!==parseInt(d,10))return!1;if(p){const t=p.toLowerCase(),r=`${e.first_name} ${e.last_name}`.toLowerCase(),n=(e.email||"").toLowerCase();if(!r.includes(t)&&!n.includes(t))return!1}return!0}),k=window.rpKanban?.statuses||[],w=(0,e.useMemo)(()=>k.map(e=>({...e,applications:v.filter(t=>t.status===e.id).sort((e,t)=>(e.kanban_position||0)-(t.kanban_position||0))})),[k,v]),j=(0,e.useCallback)(e=>{for(const t of w)if(t.applications.some(t=>t.id===e))return t;return null},[w]),_=h?n.find(e=>e.id===h):null,S=(0,e.useCallback)((e,r,n)=>{const o=`${e.first_name} ${e.last_name}`.trim(),a=r?.label||"";y(n?(0,t.__)(`${o} neu sortiert in ${a}.`,"recruiting-playbook"):(0,t.__)(`${o} verschoben nach ${a}.`,"recruiting-playbook"))},[y]),C=(0,e.useCallback)(e=>{const{active:r}=e;g(r.id);const o=n.find(e=>e.id===r.id);if(o){const e=`${o.first_name} ${o.last_name}`.trim(),r=w.find(e=>e.id===o.status),n=r?.label||o.status;y((0,t.__)(`${e} aufgenommen aus ${n}. Nutze Pfeiltasten zum Verschieben.`,"recruiting-playbook"))}},[n,w,y]),N=(0,e.useCallback)(async e=>{const{active:t,over:r}=e;if(g(null),!r)return;const o=t.id,a=r.id,i=n.find(e=>e.id===o);if(!i)return;const c=j(o);if(!c)return;let d=null,u=null,p=!1;if("column"===r.data?.current?.type?(d=r.data.current.status,u=w.find(e=>e.id===d)):"card"===r.data?.current?.type?(d=r.data.current.status,u=w.find(e=>e.id===d),p=!0):k.map(e=>e.id).includes(a)&&(d=a,u=w.find(e=>e.id===d)),!d||!u)return;const m=i.status;if(m===d&&p&&o!==a)return await l(m,o,a,c.applications),void S(i,u,!0);if(m!==d){let e=0;if(p){const t=u.applications.findIndex(e=>e.id===a);e=t>=0?t:u.applications.length}else e=u.applications.length;await s(o,d,e,u.applications),S(i,u,!1)}},[n,w,k,j,l,s,S]),E=(0,e.useCallback)(()=>{g(null),y((0,t.__)("Verschieben abgebrochen.","recruiting-playbook"))},[y]);return o?(0,lr.jsxs)("div",{className:"rp-kanban-loading",role:"status","aria-live":"polite","aria-busy":"true",children:[(0,lr.jsx)("span",{className:"spinner is-active","aria-hidden":"true"}),window.rpKanban?.i18n?.loading||(0,t.__)("Lade Bewerbungen...","recruiting-playbook")]}):a?(0,lr.jsxs)("div",{className:"rp-kanban-error notice notice-error",role:"alert","aria-live":"assertive",children:[(0,lr.jsx)("p",{children:a}),(0,lr.jsx)("button",{onClick:c,className:"button",children:window.rpKanban?.i18n?.retry||(0,t.__)("Erneut versuchen","recruiting-playbook")})]}):(0,lr.jsxs)(lr.Fragment,{children:[(0,lr.jsx)("div",{ref:f,role:"status","aria-live":"polite","aria-atomic":"true",className:"screen-reader-text"}),(0,lr.jsxs)(pt,{sensors:b,collisionDetection:ro,onDragStart:C,onDragEnd:N,onDragCancel:E,children:[(0,lr.jsx)("div",{className:"rp-kanban-board",role:"region","aria-label":(0,t.__)("Kanban-Board fr Bewerbungen","recruiting-playbook"),children:w.map((e,t)=>(0,lr.jsx)(eo,{status:e.id,label:e.label,color:e.color,collapsed:e.collapsed,applications:e.applications,columnIndex:t,totalColumns:w.length},e.id))}),(0,lr.jsx)(Et,{children:_?(0,lr.jsx)(Jn,{application:_,isDragging:!0}):null})]})]})}Kn.displayName="Button";const oo=er("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),ao=er("mail",[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]]),io=er("phone",[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]]),lo=er("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]),so=er("file-text",[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]),co=er("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),uo=er("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]]),po=er("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),mo=(0,e.forwardRef)(({className:e,...t},r)=>(0,lr.jsx)("div",{ref:r,className:Vn("rp-rounded-lg rp-border rp-bg-card rp-text-card-foreground rp-shadow-sm",e),style:{backgroundColor:"#fff",border:"1px solid hsl(214.3, 31.8%, 91.4%)",borderRadius:"0.5rem",boxShadow:"0 1px 3px 0 rgb(0 0 0 / 0.1), 0 1px 2px -1px rgb(0 0 0 / 0.1)"},...t}));mo.displayName="Card";const ho=(0,e.forwardRef)(({className:e,...t},r)=>(0,lr.jsx)("div",{ref:r,className:Vn("rp-flex rp-flex-col rp-space-y-1.5 rp-p-6",e),style:{padding:"1.5rem",paddingBottom:"0.75rem"},...t}));ho.displayName="CardHeader";const go=(0,e.forwardRef)(({className:e,...t},r)=>(0,lr.jsx)("h3",{ref:r,className:Vn("rp-text-lg rp-font-semibold rp-leading-none rp-tracking-tight",e),style:{fontSize:"1.125rem",fontWeight:600,lineHeight:1.2},...t}));go.displayName="CardTitle";const fo=(0,e.forwardRef)(({className:e,...t},r)=>(0,lr.jsx)("p",{ref:r,className:Vn("rp-text-sm rp-text-muted-foreground",e),style:{fontSize:"0.875rem",color:"hsl(215.4, 16.3%, 46.9%)",marginTop:"0.25rem"},...t}));fo.displayName="CardDescription";const bo=(0,e.forwardRef)(({className:e,...t},r)=>(0,lr.jsx)("div",{ref:r,className:Vn("rp-p-6 rp-pt-0",e),style:{padding:"1.5rem",paddingTop:"0.75rem"},...t}));bo.displayName="CardContent",(0,e.forwardRef)(({className:e,...t},r)=>(0,lr.jsx)("div",{ref:r,className:Vn("rp-flex rp-items-center rp-p-6 rp-pt-0",e),...t})).displayName="CardFooter";const yo=er("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),xo=er("pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]),vo=er("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]);function ko({size:e="1rem"}){return(0,lr.jsx)("div",{style:{width:e,height:e,border:"2px solid #e5e7eb",borderTopColor:"#1d71b8",borderRadius:"50%",animation:"spin 0.8s linear infinite"}})}function wo(e){const r=new Date(e),n=new Date-r,o=Math.floor(n/6e4),a=Math.floor(n/36e5),i=Math.floor(n/864e5);return o<1?(0,t.__)("Gerade eben","recruiting-playbook"):o<60?`vor ${o} ${1===o?"Minute":"Minuten"}`:a<24?`vor ${a} ${1===a?"Stunde":"Stunden"}`:i<7?`vor ${i} ${1===i?"Tag":"Tagen"}`:r.toLocaleDateString("de-DE",{day:"2-digit",month:"2-digit",year:"numeric"})}function jo({initialContent:r="",onSave:n,onCancel:o,saving:a,saveLabel:i,showPrivate:l=!0}){const[s,c]=(0,e.useState)(r),[d,u]=(0,e.useState)(!1),p=(0,e.useRef)(null);(0,e.useEffect)(()=>{p.current&&p.current.focus()},[]);const m=()=>{s.trim()&&!a&&n(s,d)};return(0,lr.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"0.75rem"},children:[(0,lr.jsx)("textarea",{ref:p,value:s,onChange:e=>c(e.target.value),onKeyDown:e=>{(e.metaKey||e.ctrlKey)&&"Enter"===e.key&&(e.preventDefault(),m()),"Escape"===e.key&&o&&(e.preventDefault(),o())},placeholder:(0,t.__)("Notiz eingeben...","recruiting-playbook"),rows:4,disabled:a,style:{width:"100%",padding:"0.75rem",border:"1px solid #e5e7eb",borderRadius:"0.375rem",fontSize:"0.875rem",resize:"vertical",fontFamily:"inherit"}}),(0,lr.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",flexWrap:"wrap",gap:"0.75rem"},children:[l&&(0,lr.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem",fontSize:"0.875rem",color:"#6b7280",cursor:"pointer"},children:[(0,lr.jsx)("input",{type:"checkbox",checked:d,onChange:e=>u(e.target.checked),disabled:a}),(0,lr.jsx)(yo,{style:{width:"0.875rem",height:"0.875rem"}}),(0,t.__)("Nur fr mich sichtbar","recruiting-playbook")]}),(0,lr.jsxs)("div",{style:{display:"flex",gap:"0.5rem",marginLeft:"auto"},children:[o&&(0,lr.jsx)(Kn,{variant:"outline",onClick:o,disabled:a,children:(0,t.__)("Abbrechen","recruiting-playbook")}),(0,lr.jsx)(Kn,{onClick:m,disabled:!s.trim()||a,children:a?(0,lr.jsxs)(lr.Fragment,{children:[(0,lr.jsx)(ko,{size:"0.875rem"}),(0,t.__)("Speichern...","recruiting-playbook")]}):i||(0,t.__)("Speichern","recruiting-playbook")})]})]}),(0,lr.jsxs)("div",{style:{fontSize:"0.75rem",color:"#9ca3af"},children:[(0,lr.jsx)("kbd",{style:{padding:"0.125rem 0.375rem",backgroundColor:"#f3f4f6",border:"1px solid #e5e7eb",borderRadius:"0.25rem",fontSize:"0.6875rem"},children:"Ctrl"})," + ",(0,lr.jsx)("kbd",{style:{padding:"0.125rem 0.375rem",backgroundColor:"#f3f4f6",border:"1px solid #e5e7eb",borderRadius:"0.25rem",fontSize:"0.6875rem"},children:"Enter"})," ",(0,t.__)("zum Speichern","recruiting-playbook")]})]})}function _o({note:r,onUpdate:n,onDelete:o,saving:a}){const[i,l]=(0,e.useState)(!1),[s,c]=(0,e.useState)(!1);return i?(0,lr.jsx)("div",{style:{padding:"1rem",backgroundColor:"#fff",border:"1px solid #1d71b8",borderRadius:"0.375rem"},children:(0,lr.jsx)(jo,{initialContent:r.content,onSave:async e=>{await n(r.id,e)&&l(!1)},onCancel:()=>l(!1),saving:a,showPrivate:!1,saveLabel:(0,t.__)("nderungen speichern","recruiting-playbook")})}):(0,lr.jsxs)("div",{style:{padding:"1rem",backgroundColor:r.is_private?"#fef3c7":"#f9fafb",borderLeft:"3px solid "+(r.is_private?"#f59e0b":"#1d71b8"),borderRadius:"0.375rem"},children:[(0,lr.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"0.75rem"},children:[r.author?.avatar&&(0,lr.jsx)("img",{src:r.author.avatar,alt:r.author.name,style:{width:"1.5rem",height:"1.5rem",borderRadius:"50%"}}),(0,lr.jsx)("span",{style:{fontWeight:600,fontSize:"0.875rem",color:"#1f2937"},children:r.author?.name||(0,t.__)("Unbekannt","recruiting-playbook")}),r.is_private&&(0,lr.jsxs)("span",{style:{display:"inline-flex",alignItems:"center",gap:"0.25rem",padding:"0.125rem 0.5rem",backgroundColor:"#f59e0b",color:"#fff",borderRadius:"0.25rem",fontSize:"0.6875rem",fontWeight:500},children:[(0,lr.jsx)(yo,{style:{width:"0.625rem",height:"0.625rem"}}),(0,t.__)("Privat","recruiting-playbook")]}),(0,lr.jsxs)("span",{style:{marginLeft:"auto",fontSize:"0.75rem",color:"#6b7280"},children:[wo(r.created_at),r.updated_at!==r.created_at&&(0,lr.jsxs)("span",{style:{marginLeft:"0.25rem"},children:["(",(0,t.__)("bearbeitet","recruiting-playbook"),")"]})]})]}),(0,lr.jsx)("div",{style:{fontSize:"0.875rem",color:"#374151",lineHeight:1.6},dangerouslySetInnerHTML:{__html:r.content}}),(r.can_edit||r.can_delete)&&(0,lr.jsxs)("div",{style:{display:"flex",gap:"0.75rem",marginTop:"0.75rem",paddingTop:"0.75rem",borderTop:"1px solid rgba(0,0,0,0.05)"},children:[r.can_edit&&(0,lr.jsxs)("button",{type:"button",onClick:()=>l(!0),disabled:a,style:{display:"inline-flex",alignItems:"center",gap:"0.25rem",background:"none",border:"none",padding:0,color:"#1d71b8",fontSize:"0.75rem",cursor:"pointer"},children:[(0,lr.jsx)(xo,{style:{width:"0.75rem",height:"0.75rem"}}),(0,t.__)("Bearbeiten","recruiting-playbook")]}),r.can_delete&&(0,lr.jsx)(lr.Fragment,{children:s?(0,lr.jsxs)("span",{style:{display:"flex",alignItems:"center",gap:"0.5rem",fontSize:"0.75rem"},children:[(0,lr.jsx)("span",{children:(0,t.__)("Wirklich lschen?","recruiting-playbook")}),(0,lr.jsx)("button",{type:"button",onClick:async()=>{await o(r.id),c(!1)},disabled:a,style:{background:"none",border:"none",padding:0,color:"#d63638",cursor:"pointer",fontWeight:600},children:(0,t.__)("Ja","recruiting-playbook")}),(0,lr.jsx)("button",{type:"button",onClick:()=>c(!1),disabled:a,style:{background:"none",border:"none",padding:0,color:"#6b7280",cursor:"pointer"},children:(0,t.__)("Nein","recruiting-playbook")})]}):(0,lr.jsxs)("button",{type:"button",onClick:()=>c(!0),disabled:a,style:{display:"inline-flex",alignItems:"center",gap:"0.25rem",background:"none",border:"none",padding:0,color:"#d63638",fontSize:"0.75rem",cursor:"pointer"},children:[(0,lr.jsx)(vo,{style:{width:"0.75rem",height:"0.75rem"}}),(0,t.__)("Lschen","recruiting-playbook")]})})]})]})}function So({applicationId:r}){const[n,o]=(0,e.useState)(!1),{notes:a,loading:i,error:l,saving:s,fetchNotes:c,createNote:d,updateNote:u,deleteNote:p}=function(t){const[r,n]=(0,e.useState)([]),[o,a]=(0,e.useState)(!0),[i,l]=(0,e.useState)(null),[s,c]=(0,e.useState)(!1),d=(0,e.useCallback)(async()=>{if(t)try{a(!0),l(null);const e=await ir()({path:`/recruiting/v1/applications/${t}/notes`});n(Array.isArray(e)?e:[])}catch(e){console.error("Error fetching notes:",e),l(e.message||window.rpApplicant?.i18n?.errorLoadingNotes||"Fehler beim Laden der Notizen")}finally{a(!1)}else a(!1)},[t]),u=(0,e.useCallback)(async(e,r=!1)=>{if(!t||!e.trim())return null;try{c(!0),l(null);const o=await ir()({path:`/recruiting/v1/applications/${t}/notes`,method:"POST",data:{content:e,is_private:r}});return n(e=>[o,...e]),o}catch(e){return console.error("Error creating note:",e),l(e.message||window.rpApplicant?.i18n?.errorCreatingNote||"Fehler beim Erstellen der Notiz"),null}finally{c(!1)}},[t]),p=(0,e.useCallback)(async(e,t)=>{if(!e||!t.trim())return null;try{c(!0),l(null);const r=await ir()({path:`/recruiting/v1/notes/${e}`,method:"PATCH",data:{content:t}});return n(t=>t.map(t=>t.id===e?r:t)),r}catch(e){return console.error("Error updating note:",e),l(e.message||window.rpApplicant?.i18n?.errorUpdatingNote||"Fehler beim Aktualisieren der Notiz"),null}finally{c(!1)}},[]),m=(0,e.useCallback)(async e=>{if(!e)return!1;const t=[...r];try{return c(!0),l(null),n(t=>t.filter(t=>t.id!==e)),await ir()({path:`/recruiting/v1/notes/${e}`,method:"DELETE"}),!0}catch(e){return console.error("Error deleting note:",e),n(t),l(e.message||window.rpApplicant?.i18n?.errorDeletingNote||"Fehler beim Lschen der Notiz"),!1}finally{c(!1)}},[r]);return{notes:r,loading:o,error:i,saving:s,fetchNotes:d,createNote:u,updateNote:p,deleteNote:m,refetch:d}}(r);return(0,e.useEffect)(()=>{c()},[c]),i?(0,lr.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",padding:"2rem",gap:"0.5rem",color:"#6b7280"},children:[(0,lr.jsx)(ko,{}),(0,t.__)("Laden...","recruiting-playbook")]}):(0,lr.jsxs)("div",{children:[(0,lr.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"1rem"},children:[(0,lr.jsxs)("h3",{style:{margin:0,fontSize:"1rem",fontWeight:600,color:"#1f2937",display:"flex",alignItems:"center",gap:"0.5rem"},children:[(0,t.__)("Notizen","recruiting-playbook"),a.length>0&&(0,lr.jsx)("span",{style:{backgroundColor:"#e5e7eb",color:"#6b7280",padding:"0.125rem 0.5rem",borderRadius:"9999px",fontSize:"0.75rem",fontWeight:500},children:a.length})]}),!n&&(0,lr.jsxs)(Kn,{size:"sm",onClick:()=>o(!0),children:[(0,lr.jsx)(hr,{style:{width:"1rem",height:"1rem"}}),(0,t.__)("Notiz hinzufgen","recruiting-playbook")]})]}),l&&(0,lr.jsx)("div",{style:{padding:"0.75rem",backgroundColor:"#fee2e2",color:"#dc2626",borderRadius:"0.375rem",marginBottom:"1rem",fontSize:"0.875rem"},children:l}),n&&(0,lr.jsx)("div",{style:{marginBottom:"1.5rem",paddingBottom:"1.5rem",borderBottom:"1px solid #e5e7eb"},children:(0,lr.jsx)(jo,{onSave:async(e,t)=>{await d(e,t)&&o(!1)},onCancel:()=>o(!1),saving:s,saveLabel:(0,t.__)("Notiz hinzufgen","recruiting-playbook")})}),(0,lr.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:"0.75rem"},children:0===a.length?(0,lr.jsxs)("div",{style:{textAlign:"center",padding:"2rem",color:"#6b7280"},children:[(0,lr.jsx)(xo,{style:{width:"2.5rem",height:"2.5rem",marginBottom:"0.75rem",opacity:.3}}),(0,lr.jsx)("p",{style:{margin:"0 0 1rem 0"},children:(0,t.__)("Noch keine Notizen vorhanden.","recruiting-playbook")}),!n&&(0,lr.jsx)(Kn,{variant:"outline",onClick:()=>o(!0),children:(0,t.__)("Erste Notiz hinzufgen","recruiting-playbook")})]}):a.map(e=>(0,lr.jsx)(_o,{note:e,onUpdate:u,onDelete:p,saving:s},e.id))}),(0,lr.jsx)("style",{children:"@keyframes spin { to { transform: rotate(360deg); } }"})]})}const Co=er("user-check",[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]),No=er("message-square",[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]]),Eo=er("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),To=[{id:"all",label:"Alle"},{id:"status",label:"Status"},{id:"note",label:"Notizen"},{id:"rating",label:"Bewertungen"},{id:"email",label:"E-Mails"},{id:"document",label:"Dokumente"}],Ro={status_changed:Co,note_added:No,note_updated:No,rating_added:tr,rating_updated:tr,email_sent:ao,document_uploaded:so,created:po},Ao={status_changed:"#1d71b8",note_added:"#6b7280",note_updated:"#6b7280",rating_added:"#f59e0b",rating_updated:"#f59e0b",email_sent:"#2fac66",document_uploaded:"#8b5cf6",created:"#1d71b8"};function Do({size:e="1rem"}){return(0,lr.jsx)("div",{style:{width:e,height:e,border:"2px solid #e5e7eb",borderTopColor:"#1d71b8",borderRadius:"50%",animation:"spin 0.8s linear infinite"}})}function zo(e){const r=new Date(e),n=new Date,o=new Date(n);o.setDate(o.getDate()-1);const a=n.toISOString().split("T")[0],i=o.toISOString().split("T")[0];return e===a?(0,t.__)("Heute","recruiting-playbook"):e===i?(0,t.__)("Gestern","recruiting-playbook"):r.toLocaleDateString("de-DE",{weekday:"long",day:"numeric",month:"long",year:"numeric"})}function Io({item:e}){const t=Ro[e.action]||po,r=Ao[e.action]||"#6b7280";return(0,lr.jsxs)("div",{style:{display:"flex",gap:"0.75rem",padding:"0.75rem",backgroundColor:"#f9fafb",borderRadius:"0.375rem",borderLeft:`3px solid ${r}`},children:[(0,lr.jsx)("div",{style:{width:"1.75rem",height:"1.75rem",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:r,color:"#fff",borderRadius:"50%",flexShrink:0},children:(0,lr.jsx)(t,{style:{width:"0.875rem",height:"0.875rem"}})}),(0,lr.jsxs)("div",{style:{flex:1,minWidth:0},children:[(0,lr.jsxs)("div",{style:{display:"flex",alignItems:"flex-start",gap:"0.5rem",flexWrap:"wrap"},children:[e.user?.avatar&&(0,lr.jsx)("img",{src:e.user.avatar,alt:e.user.name,style:{width:"1.25rem",height:"1.25rem",borderRadius:"50%"}}),(0,lr.jsx)("span",{style:{flex:1,fontSize:"0.8125rem",color:"#374151",lineHeight:1.4},children:e.message}),(0,lr.jsx)("span",{style:{fontSize:"0.6875rem",color:"#9ca3af",whiteSpace:"nowrap"},children:(n=e.created_at,new Date(n).toLocaleTimeString("de-DE",{hour:"2-digit",minute:"2-digit"}))})]}),e.detail&&(0,lr.jsx)("div",{style:{marginTop:"0.5rem",padding:"0.5rem",backgroundColor:"rgba(255,255,255,0.5)",borderRadius:"0.25rem",fontSize:"0.75rem",color:"#6b7280"},children:e.detail})]})]});var n}function Mo({applicationId:r,compact:n=!1}){const[o,a]=(0,e.useState)("all"),{items:i,loading:l,error:s,hasMore:c,loadMore:d,refresh:u}=function(t,r="all"){const[n,o]=(0,e.useState)([]),[a,i]=(0,e.useState)(!0),[l,s]=(0,e.useState)(null),[c,d]=(0,e.useState)(1),[u,p]=(0,e.useState)(0),[m,h]=(0,e.useState)(0),g=(0,e.useCallback)(async(e=1,n=!1)=>{if(t)try{i(!0),s(null);const a=(e=>{const t={status:["status_changed","application_received"],note:["note_added","note_updated","note_deleted"],rating:["rating_added","rating_updated"],email:["email_sent"],document:["document_viewed","document_downloaded"],talent_pool:["talent_pool_added","talent_pool_removed"]};return"all"!==e&&t[e]?t[e]:[]})(r);let l=`/recruiting/v1/applications/${t}/timeline?page=${e}&per_page=20`;a.length>0&&(l+=`&types=${encodeURIComponent(JSON.stringify(a))}`);const c=await ir()({path:l,parse:!1}),u=await c.json(),m=parseInt(c.headers.get("X-WP-Total")||"0",10),g=parseInt(c.headers.get("X-WP-TotalPages")||"0",10);h(m),p(g),d(e),o(n?e=>[...e,...Array.isArray(u)?u:[]]:Array.isArray(u)?u:[])}catch(e){console.error("Error fetching timeline:",e),s(e.message||window.rpApplicant?.i18n?.errorLoadingTimeline||"Fehler beim Laden der Timeline")}finally{i(!1)}else i(!1)},[t,r]);(0,e.useEffect)(()=>{o([]),d(1),g(1,!1)},[g]);const f=(0,e.useCallback)(async()=>{c<u&&!a&&await g(c+1,!0)},[c,u,a,g]),b=(0,e.useCallback)(async()=>{o([]),d(1),await g(1,!1)},[g]);return{items:n,loading:a,error:l,total:m,page:c,totalPages:u,hasMore:c<u,loadMore:f,refresh:b,refetch:b}}(r,o),p=function(e){return e.reduce((e,t)=>{const r=t.created_at.split("T")[0];return e[r]||(e[r]=[]),e[r].push(t),e},{})}(i);return l&&0===i.length?(0,lr.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",padding:"2rem",gap:"0.5rem",color:"#6b7280"},children:[(0,lr.jsx)(Do,{}),(0,t.__)("Laden...","recruiting-playbook")]}):(0,lr.jsxs)("div",{children:[!n&&(0,lr.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"1rem"},children:[(0,lr.jsx)("h3",{style:{margin:0,fontSize:"1rem",fontWeight:600,color:"#1f2937"},children:(0,t.__)("Verlauf","recruiting-playbook")}),(0,lr.jsx)("button",{type:"button",onClick:u,disabled:l,title:(0,t.__)("Aktualisieren","recruiting-playbook"),style:{display:"flex",alignItems:"center",justifyContent:"center",width:"2rem",height:"2rem",background:"none",border:"1px solid #e5e7eb",borderRadius:"0.375rem",cursor:"pointer",color:l?"#9ca3af":"#6b7280"},children:(0,lr.jsx)(Eo,{style:{width:"1rem",height:"1rem",animation:l?"spin 1s linear infinite":"none"}})})]}),!n&&(0,lr.jsx)("div",{style:{display:"flex",flexWrap:"wrap",gap:"0.25rem",marginBottom:"1rem"},children:To.map(e=>(0,lr.jsx)("button",{type:"button",onClick:()=>a(e.id),style:{padding:"0.375rem 0.75rem",backgroundColor:o===e.id?"#1d71b8":"#f3f4f6",color:o===e.id?"#fff":"#6b7280",border:"none",borderRadius:"9999px",fontSize:"0.75rem",fontWeight:500,cursor:"pointer",transition:"all 0.15s ease"},children:e.label},e.id))}),s&&(0,lr.jsx)("div",{style:{padding:"0.75rem",backgroundColor:"#fee2e2",color:"#dc2626",borderRadius:"0.375rem",marginBottom:"1rem",fontSize:"0.875rem"},children:s}),(0,lr.jsxs)("div",{children:[0===Object.keys(p).length?(0,lr.jsxs)("div",{style:{textAlign:"center",padding:"2rem",color:"#6b7280"},children:[(0,lr.jsx)(po,{style:{width:"2.5rem",height:"2.5rem",marginBottom:"0.75rem",opacity:.3}}),(0,lr.jsx)("p",{style:{margin:0},children:(0,t.__)("Noch keine Aktivitten","recruiting-playbook")})]}):Object.entries(p).map(([e,t])=>(0,lr.jsxs)("div",{style:{marginBottom:"1.5rem"},children:[!n&&(0,lr.jsx)("div",{style:{fontSize:"0.75rem",fontWeight:600,color:"#6b7280",textTransform:"uppercase",letterSpacing:"0.05em",marginBottom:"0.75rem",paddingBottom:"0.5rem",borderBottom:"1px solid #e5e7eb"},children:zo(e)}),(0,lr.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:t.slice(0,n?5:void 0).map(e=>(0,lr.jsx)(Io,{item:e},e.id))})]},e)),c&&!n&&(0,lr.jsx)("div",{style:{textAlign:"center",marginTop:"1rem"},children:(0,lr.jsx)(Kn,{variant:"outline",onClick:d,disabled:l,children:l?(0,lr.jsxs)(lr.Fragment,{children:[(0,lr.jsx)(Do,{size:"0.875rem"}),(0,t.__)("Laden...","recruiting-playbook")]}):(0,t.__)("Mehr laden","recruiting-playbook")})})]}),(0,lr.jsx)("style",{children:"@keyframes spin { to { transform: rotate(360deg); } }"})]})}var Lo=o(556),Oo=o.n(Lo);const Po=window.wp.components,Bo=window.wp.primitives;Bo.SVG,Bo.Path,Bo.SVG,Bo.Path,Bo.SVG,Bo.Path,Bo.SVG,Bo.Path,Oo().arrayOf(Oo().shape({id:Oo().number.isRequired,name:Oo().string,subject:Oo().string,category:Oo().string,is_system:Oo().bool,is_default:Oo().bool,is_active:Oo().bool})),Oo().bool,Oo().string,Oo().func,Oo().func,Oo().func,Oo().func,Oo().func;const $o=(0,lr.jsx)(Bo.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,lr.jsx)(Bo.Path,{d:"M11 12.5V17.5H12.5V12.5H17.5V11H12.5V6H11V11H6V12.5H11Z"})});function Fo({placeholders:t={},onSelect:r,buttonLabel:n,compact:o=!1,showSearch:a=!1}){const[i,l]=(0,e.useState)(!1),[s,c]=(0,e.useState)(""),d=window.rpEmailData?.i18n||{},u=(0,e.useMemo)(()=>{if(!s)return t;const e=s.toLowerCase(),r={};return Object.entries(t).forEach(([t,n])=>{if(!n.items)return;const o={};Object.entries(n.items).forEach(([t,r])=>{const n=t.toLowerCase().includes(e),a=r.label?.toLowerCase().includes(e),i=r.description?.toLowerCase().includes(e);(n||a||i)&&(o[t]=r)}),Object.keys(o).length>0&&(r[t]={...n,items:o})}),r},[t,s]),p=e=>{r&&r(e),o&&l(!1)};return o?(0,lr.jsxs)(lr.Fragment,{children:[(0,lr.jsx)(Po.Button,{icon:$o,variant:"secondary",onClick:()=>l(!i),className:"rp-placeholder-picker__trigger",children:n||d.insertPlaceholder||"Platzhalter einfgen"}),i&&(0,lr.jsx)(Po.Popover,{onClose:()=>l(!1),placement:"bottom-start",className:"rp-placeholder-picker__popover",children:(0,lr.jsxs)("div",{className:"rp-placeholder-picker__popover-content",children:[a&&(0,lr.jsx)(Po.SearchControl,{value:s,onChange:c,placeholder:d.searchPlaceholders||"Suchen..."}),(0,lr.jsxs)("div",{className:"rp-placeholder-picker__groups",children:[Object.entries(u).map(([e,t])=>(0,lr.jsxs)("div",{className:"rp-placeholder-picker__group",children:[(0,lr.jsx)("h4",{className:"rp-placeholder-picker__group-title",children:t.label||e}),(0,lr.jsx)("ul",{className:"rp-placeholder-picker__items",children:Object.entries(t.items||{}).map(([e,t])=>(0,lr.jsx)("li",{className:"rp-placeholder-picker__item",children:(0,lr.jsxs)("button",{type:"button",className:"rp-placeholder-picker__button",onClick:()=>p(e),title:t.description||"",children:[(0,lr.jsx)("code",{className:"rp-placeholder-picker__code",children:`{${e}}`}),(0,lr.jsx)("span",{className:"rp-placeholder-picker__label",children:t.label||e})]})},e))})]},e)),0===Object.keys(u).length&&(0,lr.jsx)("p",{className:"rp-placeholder-picker__empty",children:d.noPlaceholdersFound||"Keine Platzhalter gefunden."})]})]})})]}):(0,lr.jsxs)(Po.Card,{className:"rp-placeholder-picker",children:[(0,lr.jsx)(Po.CardHeader,{children:(0,lr.jsx)("h3",{children:d.placeholders||"Platzhalter"})}),(0,lr.jsxs)(Po.CardBody,{children:[a&&(0,lr.jsx)(Po.SearchControl,{value:s,onChange:c,placeholder:d.searchPlaceholders||"Suchen..."}),(0,lr.jsxs)("div",{className:"rp-placeholder-picker__groups",children:[Object.entries(u).map(([e,t])=>(0,lr.jsxs)("div",{className:"rp-placeholder-picker__group",children:[(0,lr.jsx)("h4",{className:"rp-placeholder-picker__group-title",children:t.label||e}),(0,lr.jsx)("ul",{className:"rp-placeholder-picker__items",children:Object.entries(t.items||{}).map(([e,t])=>(0,lr.jsx)("li",{className:"rp-placeholder-picker__item",children:(0,lr.jsxs)("button",{type:"button",className:"rp-placeholder-picker__button",onClick:()=>p(e),title:t.description||"",children:[(0,lr.jsx)("code",{className:"rp-placeholder-picker__code",children:`{${e}}`}),(0,lr.jsx)("span",{className:"rp-placeholder-picker__label",children:t.label||e})]})},e))})]},e)),0===Object.keys(u).length&&(0,lr.jsx)("p",{className:"rp-placeholder-picker__empty",children:d.noPlaceholdersFound||"Keine Platzhalter gefunden."})]})]})]})}Fo.propTypes={placeholders:Oo().objectOf(Oo().shape({label:Oo().string,items:Oo().objectOf(Oo().shape({label:Oo().string,description:Oo().string}))})),onSelect:Oo().func,buttonLabel:Oo().string,compact:Oo().bool,showSearch:Oo().bool};const{entries:Wo,setPrototypeOf:Uo,isFrozen:Ho,getPrototypeOf:Vo,getOwnPropertyDescriptor:Go}=Object;let{freeze:Ko,seal:Xo,create:qo}=Object,{apply:Yo,construct:Zo}="undefined"!=typeof Reflect&&Reflect;Ko||(Ko=function(e){return e}),Xo||(Xo=function(e){return e}),Yo||(Yo=function(e,t){for(var r=arguments.length,n=new Array(r>2?r-2:0),o=2;o<r;o++)n[o-2]=arguments[o];return e.apply(t,n)}),Zo||(Zo=function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return new e(...r)});const Jo=ma(Array.prototype.forEach),Qo=ma(Array.prototype.lastIndexOf),ea=ma(Array.prototype.pop),ta=ma(Array.prototype.push),ra=ma(Array.prototype.splice),na=ma(String.prototype.toLowerCase),oa=ma(String.prototype.toString),aa=ma(String.prototype.match),ia=ma(String.prototype.replace),la=ma(String.prototype.indexOf),sa=ma(String.prototype.trim),ca=ma(Object.prototype.hasOwnProperty),da=ma(RegExp.prototype.test),ua=(pa=TypeError,function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return Zo(pa,t)});var pa;function ma(e){return function(t){t instanceof RegExp&&(t.lastIndex=0);for(var r=arguments.length,n=new Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];return Yo(e,t,n)}}function ha(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:na;Uo&&Uo(e,null);let n=t.length;for(;n--;){let o=t[n];if("string"==typeof o){const e=r(o);e!==o&&(Ho(t)||(t[n]=e),o=e)}e[o]=!0}return e}function ga(e){for(let t=0;t<e.length;t++)ca(e,t)||(e[t]=null);return e}function fa(e){const t=qo(null);for(const[r,n]of Wo(e))ca(e,r)&&(Array.isArray(n)?t[r]=ga(n):n&&"object"==typeof n&&n.constructor===Object?t[r]=fa(n):t[r]=n);return t}function ba(e,t){for(;null!==e;){const r=Go(e,t);if(r){if(r.get)return ma(r.get);if("function"==typeof r.value)return ma(r.value)}e=Vo(e)}return function(){return null}}const ya=Ko(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","search","section","select","shadow","slot","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),xa=Ko(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","enterkeyhint","exportparts","filter","font","g","glyph","glyphref","hkern","image","inputmode","line","lineargradient","marker","mask","metadata","mpath","part","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),va=Ko(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),ka=Ko(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),wa=Ko(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),ja=Ko(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),_a=Ko(["#text"]),Sa=Ko(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","exportparts","face","for","headers","height","hidden","high","href","hreflang","id","inert","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","part","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","slot","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),Ca=Ko(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","mask-type","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Na=Ko(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Ea=Ko(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),Ta=Xo(/\{\{[\w\W]*|[\w\W]*\}\}/gm),Ra=Xo(/<%[\w\W]*|[\w\W]*%>/gm),Aa=Xo(/\$\{[\w\W]*/gm),Da=Xo(/^data-[\-\w.\u00B7-\uFFFF]+$/),za=Xo(/^aria-[\-\w]+$/),Ia=Xo(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),Ma=Xo(/^(?:\w+script|data):/i),La=Xo(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Oa=Xo(/^html$/i),Pa=Xo(/^[a-z][.\w]*(-[.\w]+)+$/i);var Ba=Object.freeze({__proto__:null,ARIA_ATTR:za,ATTR_WHITESPACE:La,CUSTOM_ELEMENT:Pa,DATA_ATTR:Da,DOCTYPE_NAME:Oa,ERB_EXPR:Ra,IS_ALLOWED_URI:Ia,IS_SCRIPT_OR_DATA:Ma,MUSTACHE_EXPR:Ta,TMPLIT_EXPR:Aa});const $a=function(){return"undefined"==typeof window?null:window};var Fa=function e(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$a();const r=t=>e(t);if(r.version="3.3.1",r.removed=[],!t||!t.document||9!==t.document.nodeType||!t.Element)return r.isSupported=!1,r;let{document:n}=t;const o=n,a=o.currentScript,{DocumentFragment:i,HTMLTemplateElement:l,Node:s,Element:c,NodeFilter:d,NamedNodeMap:u=t.NamedNodeMap||t.MozNamedAttrMap,HTMLFormElement:p,DOMParser:m,trustedTypes:h}=t,g=c.prototype,f=ba(g,"cloneNode"),b=ba(g,"remove"),y=ba(g,"nextSibling"),x=ba(g,"childNodes"),v=ba(g,"parentNode");if("function"==typeof l){const e=n.createElement("template");e.content&&e.content.ownerDocument&&(n=e.content.ownerDocument)}let k,w="";const{implementation:j,createNodeIterator:_,createDocumentFragment:S,getElementsByTagName:C}=n,{importNode:N}=o;let E={afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]};r.isSupported="function"==typeof Wo&&"function"==typeof v&&j&&void 0!==j.createHTMLDocument;const{MUSTACHE_EXPR:T,ERB_EXPR:R,TMPLIT_EXPR:A,DATA_ATTR:D,ARIA_ATTR:z,IS_SCRIPT_OR_DATA:I,ATTR_WHITESPACE:M,CUSTOM_ELEMENT:L}=Ba;let{IS_ALLOWED_URI:O}=Ba,P=null;const B=ha({},[...ya,...xa,...va,...wa,..._a]);let $=null;const F=ha({},[...Sa,...Ca,...Na,...Ea]);let W=Object.seal(qo(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),U=null,H=null;const V=Object.seal(qo(null,{tagCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeCheck:{writable:!0,configurable:!1,enumerable:!0,value:null}}));let G=!0,K=!0,X=!1,q=!0,Y=!1,Z=!0,J=!1,Q=!1,ee=!1,te=!1,re=!1,ne=!1,oe=!0,ae=!1,ie=!0,le=!1,se={},ce=null;const de=ha({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let ue=null;const pe=ha({},["audio","video","img","source","image","track"]);let me=null;const he=ha({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),ge="http://www.w3.org/1998/Math/MathML",fe="http://www.w3.org/2000/svg",be="http://www.w3.org/1999/xhtml";let ye=be,xe=!1,ve=null;const ke=ha({},[ge,fe,be],oa);let we=ha({},["mi","mo","mn","ms","mtext"]),je=ha({},["annotation-xml"]);const _e=ha({},["title","style","font","a","script"]);let Se=null;const Ce=["application/xhtml+xml","text/html"];let Ne=null,Ee=null;const Te=n.createElement("form"),Re=function(e){return e instanceof RegExp||e instanceof Function},Ae=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!Ee||Ee!==e){if(e&&"object"==typeof e||(e={}),e=fa(e),Se=-1===Ce.indexOf(e.PARSER_MEDIA_TYPE)?"text/html":e.PARSER_MEDIA_TYPE,Ne="application/xhtml+xml"===Se?oa:na,P=ca(e,"ALLOWED_TAGS")?ha({},e.ALLOWED_TAGS,Ne):B,$=ca(e,"ALLOWED_ATTR")?ha({},e.ALLOWED_ATTR,Ne):F,ve=ca(e,"ALLOWED_NAMESPACES")?ha({},e.ALLOWED_NAMESPACES,oa):ke,me=ca(e,"ADD_URI_SAFE_ATTR")?ha(fa(he),e.ADD_URI_SAFE_ATTR,Ne):he,ue=ca(e,"ADD_DATA_URI_TAGS")?ha(fa(pe),e.ADD_DATA_URI_TAGS,Ne):pe,ce=ca(e,"FORBID_CONTENTS")?ha({},e.FORBID_CONTENTS,Ne):de,U=ca(e,"FORBID_TAGS")?ha({},e.FORBID_TAGS,Ne):fa({}),H=ca(e,"FORBID_ATTR")?ha({},e.FORBID_ATTR,Ne):fa({}),se=!!ca(e,"USE_PROFILES")&&e.USE_PROFILES,G=!1!==e.ALLOW_ARIA_ATTR,K=!1!==e.ALLOW_DATA_ATTR,X=e.ALLOW_UNKNOWN_PROTOCOLS||!1,q=!1!==e.ALLOW_SELF_CLOSE_IN_ATTR,Y=e.SAFE_FOR_TEMPLATES||!1,Z=!1!==e.SAFE_FOR_XML,J=e.WHOLE_DOCUMENT||!1,te=e.RETURN_DOM||!1,re=e.RETURN_DOM_FRAGMENT||!1,ne=e.RETURN_TRUSTED_TYPE||!1,ee=e.FORCE_BODY||!1,oe=!1!==e.SANITIZE_DOM,ae=e.SANITIZE_NAMED_PROPS||!1,ie=!1!==e.KEEP_CONTENT,le=e.IN_PLACE||!1,O=e.ALLOWED_URI_REGEXP||Ia,ye=e.NAMESPACE||be,we=e.MATHML_TEXT_INTEGRATION_POINTS||we,je=e.HTML_INTEGRATION_POINTS||je,W=e.CUSTOM_ELEMENT_HANDLING||{},e.CUSTOM_ELEMENT_HANDLING&&Re(e.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(W.tagNameCheck=e.CUSTOM_ELEMENT_HANDLING.tagNameCheck),e.CUSTOM_ELEMENT_HANDLING&&Re(e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(W.attributeNameCheck=e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),e.CUSTOM_ELEMENT_HANDLING&&"boolean"==typeof e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&(W.allowCustomizedBuiltInElements=e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Y&&(K=!1),re&&(te=!0),se&&(P=ha({},_a),$=[],!0===se.html&&(ha(P,ya),ha($,Sa)),!0===se.svg&&(ha(P,xa),ha($,Ca),ha($,Ea)),!0===se.svgFilters&&(ha(P,va),ha($,Ca),ha($,Ea)),!0===se.mathMl&&(ha(P,wa),ha($,Na),ha($,Ea))),e.ADD_TAGS&&("function"==typeof e.ADD_TAGS?V.tagCheck=e.ADD_TAGS:(P===B&&(P=fa(P)),ha(P,e.ADD_TAGS,Ne))),e.ADD_ATTR&&("function"==typeof e.ADD_ATTR?V.attributeCheck=e.ADD_ATTR:($===F&&($=fa($)),ha($,e.ADD_ATTR,Ne))),e.ADD_URI_SAFE_ATTR&&ha(me,e.ADD_URI_SAFE_ATTR,Ne),e.FORBID_CONTENTS&&(ce===de&&(ce=fa(ce)),ha(ce,e.FORBID_CONTENTS,Ne)),e.ADD_FORBID_CONTENTS&&(ce===de&&(ce=fa(ce)),ha(ce,e.ADD_FORBID_CONTENTS,Ne)),ie&&(P["#text"]=!0),J&&ha(P,["html","head","body"]),P.table&&(ha(P,["tbody"]),delete U.tbody),e.TRUSTED_TYPES_POLICY){if("function"!=typeof e.TRUSTED_TYPES_POLICY.createHTML)throw ua('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if("function"!=typeof e.TRUSTED_TYPES_POLICY.createScriptURL)throw ua('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');k=e.TRUSTED_TYPES_POLICY,w=k.createHTML("")}else void 0===k&&(k=function(e,t){if("object"!=typeof e||"function"!=typeof e.createPolicy)return null;let r=null;const n="data-tt-policy-suffix";t&&t.hasAttribute(n)&&(r=t.getAttribute(n));const o="dompurify"+(r?"#"+r:"");try{return e.createPolicy(o,{createHTML:e=>e,createScriptURL:e=>e})}catch(e){return console.warn("TrustedTypes policy "+o+" could not be created."),null}}(h,a)),null!==k&&"string"==typeof w&&(w=k.createHTML(""));Ko&&Ko(e),Ee=e}},De=ha({},[...xa,...va,...ka]),ze=ha({},[...wa,...ja]),Ie=function(e){ta(r.removed,{element:e});try{v(e).removeChild(e)}catch(t){b(e)}},Me=function(e,t){try{ta(r.removed,{attribute:t.getAttributeNode(e),from:t})}catch(e){ta(r.removed,{attribute:null,from:t})}if(t.removeAttribute(e),"is"===e)if(te||re)try{Ie(t)}catch(e){}else try{t.setAttribute(e,"")}catch(e){}},Le=function(e){let t=null,r=null;if(ee)e="<remove></remove>"+e;else{const t=aa(e,/^[\r\n\t ]+/);r=t&&t[0]}"application/xhtml+xml"===Se&&ye===be&&(e='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+e+"</body></html>");const o=k?k.createHTML(e):e;if(ye===be)try{t=(new m).parseFromString(o,Se)}catch(e){}if(!t||!t.documentElement){t=j.createDocument(ye,"template",null);try{t.documentElement.innerHTML=xe?w:o}catch(e){}}const a=t.body||t.documentElement;return e&&r&&a.insertBefore(n.createTextNode(r),a.childNodes[0]||null),ye===be?C.call(t,J?"html":"body")[0]:J?t.documentElement:a},Oe=function(e){return _.call(e.ownerDocument||e,e,d.SHOW_ELEMENT|d.SHOW_COMMENT|d.SHOW_TEXT|d.SHOW_PROCESSING_INSTRUCTION|d.SHOW_CDATA_SECTION,null)},Pe=function(e){return e instanceof p&&("string"!=typeof e.nodeName||"string"!=typeof e.textContent||"function"!=typeof e.removeChild||!(e.attributes instanceof u)||"function"!=typeof e.removeAttribute||"function"!=typeof e.setAttribute||"string"!=typeof e.namespaceURI||"function"!=typeof e.insertBefore||"function"!=typeof e.hasChildNodes)},Be=function(e){return"function"==typeof s&&e instanceof s};function $e(e,t,n){Jo(e,e=>{e.call(r,t,n,Ee)})}const Fe=function(e){let t=null;if($e(E.beforeSanitizeElements,e,null),Pe(e))return Ie(e),!0;const n=Ne(e.nodeName);if($e(E.uponSanitizeElement,e,{tagName:n,allowedTags:P}),Z&&e.hasChildNodes()&&!Be(e.firstElementChild)&&da(/<[/\w!]/g,e.innerHTML)&&da(/<[/\w!]/g,e.textContent))return Ie(e),!0;if(7===e.nodeType)return Ie(e),!0;if(Z&&8===e.nodeType&&da(/<[/\w]/g,e.data))return Ie(e),!0;if(!(V.tagCheck instanceof Function&&V.tagCheck(n))&&(!P[n]||U[n])){if(!U[n]&&Ue(n)){if(W.tagNameCheck instanceof RegExp&&da(W.tagNameCheck,n))return!1;if(W.tagNameCheck instanceof Function&&W.tagNameCheck(n))return!1}if(ie&&!ce[n]){const t=v(e)||e.parentNode,r=x(e)||e.childNodes;if(r&&t)for(let n=r.length-1;n>=0;--n){const o=f(r[n],!0);o.__removalCount=(e.__removalCount||0)+1,t.insertBefore(o,y(e))}}return Ie(e),!0}return e instanceof c&&!function(e){let t=v(e);t&&t.tagName||(t={namespaceURI:ye,tagName:"template"});const r=na(e.tagName),n=na(t.tagName);return!!ve[e.namespaceURI]&&(e.namespaceURI===fe?t.namespaceURI===be?"svg"===r:t.namespaceURI===ge?"svg"===r&&("annotation-xml"===n||we[n]):Boolean(De[r]):e.namespaceURI===ge?t.namespaceURI===be?"math"===r:t.namespaceURI===fe?"math"===r&&je[n]:Boolean(ze[r]):e.namespaceURI===be?!(t.namespaceURI===fe&&!je[n])&&!(t.namespaceURI===ge&&!we[n])&&!ze[r]&&(_e[r]||!De[r]):!("application/xhtml+xml"!==Se||!ve[e.namespaceURI]))}(e)?(Ie(e),!0):"noscript"!==n&&"noembed"!==n&&"noframes"!==n||!da(/<\/no(script|embed|frames)/i,e.innerHTML)?(Y&&3===e.nodeType&&(t=e.textContent,Jo([T,R,A],e=>{t=ia(t,e," ")}),e.textContent!==t&&(ta(r.removed,{element:e.cloneNode()}),e.textContent=t)),$e(E.afterSanitizeElements,e,null),!1):(Ie(e),!0)},We=function(e,t,r){if(oe&&("id"===t||"name"===t)&&(r in n||r in Te))return!1;if(K&&!H[t]&&da(D,t));else if(G&&da(z,t));else if(V.attributeCheck instanceof Function&&V.attributeCheck(t,e));else if(!$[t]||H[t]){if(!(Ue(e)&&(W.tagNameCheck instanceof RegExp&&da(W.tagNameCheck,e)||W.tagNameCheck instanceof Function&&W.tagNameCheck(e))&&(W.attributeNameCheck instanceof RegExp&&da(W.attributeNameCheck,t)||W.attributeNameCheck instanceof Function&&W.attributeNameCheck(t,e))||"is"===t&&W.allowCustomizedBuiltInElements&&(W.tagNameCheck instanceof RegExp&&da(W.tagNameCheck,r)||W.tagNameCheck instanceof Function&&W.tagNameCheck(r))))return!1}else if(me[t]);else if(da(O,ia(r,M,"")));else if("src"!==t&&"xlink:href"!==t&&"href"!==t||"script"===e||0!==la(r,"data:")||!ue[e])if(X&&!da(I,ia(r,M,"")));else if(r)return!1;return!0},Ue=function(e){return"annotation-xml"!==e&&aa(e,L)},He=function(e){$e(E.beforeSanitizeAttributes,e,null);const{attributes:t}=e;if(!t||Pe(e))return;const n={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:$,forceKeepAttr:void 0};let o=t.length;for(;o--;){const a=t[o],{name:i,namespaceURI:l,value:s}=a,c=Ne(i),d=s;let u="value"===i?d:sa(d);if(n.attrName=c,n.attrValue=u,n.keepAttr=!0,n.forceKeepAttr=void 0,$e(E.uponSanitizeAttribute,e,n),u=n.attrValue,!ae||"id"!==c&&"name"!==c||(Me(i,e),u="user-content-"+u),Z&&da(/((--!?|])>)|<\/(style|title|textarea)/i,u)){Me(i,e);continue}if("attributename"===c&&aa(u,"href")){Me(i,e);continue}if(n.forceKeepAttr)continue;if(!n.keepAttr){Me(i,e);continue}if(!q&&da(/\/>/i,u)){Me(i,e);continue}Y&&Jo([T,R,A],e=>{u=ia(u,e," ")});const p=Ne(e.nodeName);if(We(p,c,u)){if(k&&"object"==typeof h&&"function"==typeof h.getAttributeType)if(l);else switch(h.getAttributeType(p,c)){case"TrustedHTML":u=k.createHTML(u);break;case"TrustedScriptURL":u=k.createScriptURL(u)}if(u!==d)try{l?e.setAttributeNS(l,i,u):e.setAttribute(i,u),Pe(e)?Ie(e):ea(r.removed)}catch(t){Me(i,e)}}else Me(i,e)}$e(E.afterSanitizeAttributes,e,null)},Ve=function e(t){let r=null;const n=Oe(t);for($e(E.beforeSanitizeShadowDOM,t,null);r=n.nextNode();)$e(E.uponSanitizeShadowNode,r,null),Fe(r),He(r),r.content instanceof i&&e(r.content);$e(E.afterSanitizeShadowDOM,t,null)};return r.sanitize=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=null,a=null,l=null,c=null;if(xe=!e,xe&&(e="\x3c!--\x3e"),"string"!=typeof e&&!Be(e)){if("function"!=typeof e.toString)throw ua("toString is not a function");if("string"!=typeof(e=e.toString()))throw ua("dirty is not a string, aborting")}if(!r.isSupported)return e;if(Q||Ae(t),r.removed=[],"string"==typeof e&&(le=!1),le){if(e.nodeName){const t=Ne(e.nodeName);if(!P[t]||U[t])throw ua("root node is forbidden and cannot be sanitized in-place")}}else if(e instanceof s)n=Le("\x3c!----\x3e"),a=n.ownerDocument.importNode(e,!0),1===a.nodeType&&"BODY"===a.nodeName||"HTML"===a.nodeName?n=a:n.appendChild(a);else{if(!te&&!Y&&!J&&-1===e.indexOf("<"))return k&&ne?k.createHTML(e):e;if(n=Le(e),!n)return te?null:ne?w:""}n&&ee&&Ie(n.firstChild);const d=Oe(le?e:n);for(;l=d.nextNode();)Fe(l),He(l),l.content instanceof i&&Ve(l.content);if(le)return e;if(te){if(re)for(c=S.call(n.ownerDocument);n.firstChild;)c.appendChild(n.firstChild);else c=n;return($.shadowroot||$.shadowrootmode)&&(c=N.call(o,c,!0)),c}let u=J?n.outerHTML:n.innerHTML;return J&&P["!doctype"]&&n.ownerDocument&&n.ownerDocument.doctype&&n.ownerDocument.doctype.name&&da(Oa,n.ownerDocument.doctype.name)&&(u="<!DOCTYPE "+n.ownerDocument.doctype.name+">\n"+u),Y&&Jo([T,R,A],e=>{u=ia(u,e," ")}),k&&ne?k.createHTML(u):u},r.setConfig=function(){Ae(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),Q=!0},r.clearConfig=function(){Ee=null,Q=!1},r.isValidAttribute=function(e,t,r){Ee||Ae({});const n=Ne(e),o=Ne(t);return We(n,o,r)},r.addHook=function(e,t){"function"==typeof t&&ta(E[e],t)},r.removeHook=function(e,t){if(void 0!==t){const r=Qo(E[e],t);return-1===r?void 0:ra(E[e],r,1)[0]}return ea(E[e])},r.removeHooks=function(e){E[e]=[]},r.removeAllHooks=function(){E={afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}},r}();const Wa={ALLOWED_TAGS:["p","br","strong","em","a","ul","ol","li"],ALLOWED_ATTR:["href","target","rel"]};function Ua({subject:e="",body:t="",recipient:r=""}){const n=window.rpEmailData?.i18n||{};return(0,lr.jsx)("div",{className:"rp-email-preview",children:(0,lr.jsxs)(Po.Card,{children:[(0,lr.jsx)(Po.CardHeader,{children:(0,lr.jsx)("h3",{children:n.preview||"Vorschau"})}),(0,lr.jsxs)(Po.CardBody,{children:[(0,lr.jsxs)("div",{className:"rp-email-preview__envelope",children:[r&&(0,lr.jsxs)("div",{className:"rp-email-preview__to",children:[(0,lr.jsxs)("span",{className:"rp-email-preview__label",children:[n.to||"An",":"]}),(0,lr.jsx)("span",{className:"rp-email-preview__value",children:r})]}),(0,lr.jsxs)("div",{className:"rp-email-preview__subject",children:[(0,lr.jsxs)("span",{className:"rp-email-preview__label",children:[n.subject||"Betreff",":"]}),(0,lr.jsx)("span",{className:"rp-email-preview__value",children:e||(0,lr.jsx)("em",{className:"rp-email-preview__placeholder",children:n.noSubject||"(Kein Betreff)"})})]})]}),(0,lr.jsx)("div",{className:"rp-email-preview__body",children:t?(0,lr.jsx)("div",{className:"rp-email-preview__content",dangerouslySetInnerHTML:{__html:(e=>{if(!e)return"";let t=e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\*\*(.+?)\*\*/g,"<strong>$1</strong>").replace(/\*(.+?)\*/g,"<em>$1</em>").replace(/\[([^\]]+)\]\(([^)]+)\)/g,(e,t,r)=>{const n=t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;");return`<a href="${/^https?:\/\//.test(r)?r:"#"}" target="_blank" rel="noopener noreferrer">${n}</a>`}).replace(/\n\n/g,"</p><p>").replace(/\n/g,"<br>");return Fa.sanitize(`<p>${t}</p>`,Wa)})(t)}}):(0,lr.jsx)("p",{className:"rp-email-preview__placeholder",children:n.noContent||"(Kein Inhalt)"})})]})]})})}function Ha(e,t,r={}){const{escape:n=!0}=r;if(!e)return"";if(!t||"object"!=typeof t)return e;let o=e;return Object.entries(t).forEach(([e,t])=>{const r=e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),a=new RegExp(`\\{${r}\\}`,"g"),i=n?null==(l=t)?"":String(l).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;"):String(t);var l;o=o.replace(a,i)}),o}Ua.propTypes={subject:Oo().string,body:Oo().string,recipient:Oo().string},Oo().shape({id:Oo().number,name:Oo().string,subject:Oo().string,body:Oo().string,category:Oo().string,is_active:Oo().bool,is_system:Oo().bool}),Oo().object,Oo().object,Oo().bool,Oo().string,Oo().func.isRequired,Oo().func.isRequired;const Va=(0,lr.jsx)(Bo.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,lr.jsx)(Bo.Path,{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm.5 16c0 .3-.2.5-.5.5H5c-.3 0-.5-.2-.5-.5V7h15v12zM9 10H7v2h2v-2zm0 4H7v2h2v-2zm4-4h-2v2h2v-2zm4 0h-2v2h2v-2zm-4 4h-2v2h2v-2zm4 0h-2v2h2v-2z"})});function Ga({templates:t=[],placeholders:r={},previewValues:n={},recipient:o={},applicationId:a=null,sending:i=!1,error:l=null,onSend:s,onCancel:c}){const[d,u]=(0,e.useState)(""),[p,m]=(0,e.useState)({to:o.email||"",subject:"",body:""}),[h,g]=(0,e.useState)(!1),[f,b]=(0,e.useState)(null),[y,x]=(0,e.useState)(!1),[v,k]=(0,e.useState)("compose"),[w,j]=(0,e.useState)({}),_=window.rpEmailData?.i18n||{};(0,e.useEffect)(()=>{o.email&&m(e=>({...e,to:o.email}))},[o.email]);const S=_.selectTemplate||"-- Template auswhlen --",C=(0,e.useMemo)(()=>[{value:"",label:S},...t.map(e=>({value:String(e.id),label:e.name}))],[t,S]),N=(0,e.useCallback)(e=>{if(u(e),!e)return;const r=t.find(t=>String(t.id)===e);r&&m(e=>({...e,subject:r.subject||"",body:r.body||""}))},[t]),E=(0,e.useCallback)((e,t)=>{m(r=>({...r,[e]:t})),j(t=>{if(!t[e])return t;const r={...t};return delete r[e],r})},[]),T=(0,e.useCallback)((e,t="body")=>{const r=`{${e}}`;m(e=>{const n=e[t]||"";return{...e,[t]:n+r}})},[]),R=(0,e.useCallback)(e=>Ha(e,n),[n]),A=(0,e.useCallback)(()=>{const e={};if(p.to.trim()?/^[a-zA-Z0-9._%+-]{1,64}@[a-zA-Z0-9.-]{1,255}\.[a-zA-Z]{2,}$/.test(p.to.trim())||(e.to=_.invalidEmail||"Ungltige E-Mail-Adresse"):e.to=_.recipientRequired||"Empfnger ist erforderlich",p.subject.trim()?p.subject.length>255&&(e.subject=`${_.subjectTooLong||"Betreff zu lang"} (max. 255)`):e.subject=_.subjectRequired||"Betreff ist erforderlich",p.body.trim()?p.body.length>5e4&&(e.body=`${_.bodyTooLong||"Inhalt zu lang"} (max. 50000)`):e.body=_.bodyRequired||"Inhalt ist erforderlich",h)if(f){const t=new Date(f),r=new Date,n=new Date;n.setDate(n.getDate()+365),t<=r?e.scheduledAt=_.schedulePastError||"Sendezeitpunkt muss in der Zukunft liegen":t>n&&(e.scheduledAt=`${_.scheduleTooFar||"Sendezeitpunkt zu weit in der Zukunft"} (max. 365 Tage)`)}else e.scheduledAt=_.scheduleRequired||"Sendezeitpunkt ist erforderlich";return j(e),0===Object.keys(e).length},[p,h,f,_]),D=(0,e.useCallback)(()=>{if(!A())return;const e={to:p.to,subject:p.subject,body:p.body,template_id:d||null,application_id:a};h&&f&&(e.scheduled_at=f),s&&s(e)},[p,d,a,h,f,A,s]);return(0,lr.jsxs)("div",{className:"rp-email-composer",children:[l&&(0,lr.jsx)(Po.Notice,{status:"error",isDismissible:!1,children:l}),(0,lr.jsxs)(Po.Card,{children:[(0,lr.jsx)(Po.CardHeader,{children:(0,lr.jsxs)(Po.Flex,{children:[(0,lr.jsx)(Po.FlexItem,{children:(0,lr.jsx)("h2",{children:_.composeEmail||"E-Mail verfassen"})}),(0,lr.jsx)(Po.FlexItem,{children:(0,lr.jsxs)("div",{className:"rp-email-composer__tabs",children:[(0,lr.jsx)(Po.Button,{variant:"compose"===v?"primary":"secondary",onClick:()=>k("compose"),children:_.compose||"Verfassen"}),(0,lr.jsx)(Po.Button,{variant:"preview"===v?"primary":"secondary",onClick:()=>k("preview"),children:_.preview||"Vorschau"})]})})]})}),(0,lr.jsxs)(Po.CardBody,{children:["compose"===v?(0,lr.jsxs)("div",{className:"rp-email-composer__form",children:[(0,lr.jsxs)("div",{className:"rp-email-composer__main",children:[(0,lr.jsx)(Po.SelectControl,{label:_.template||"Template",value:d,options:C,onChange:N}),(0,lr.jsx)(Po.TextControl,{label:_.recipient||"Empfnger",type:"email",value:p.to,onChange:e=>E("to",e),help:w.to,className:w.to?"has-error":""}),(0,lr.jsxs)("div",{className:"rp-email-composer__subject-row",children:[(0,lr.jsx)(Po.TextControl,{label:_.subject||"Betreff",value:p.subject,onChange:e=>E("subject",e),help:w.subject,className:w.subject?"has-error":""}),(0,lr.jsx)(Fo,{placeholders:r,onSelect:e=>T(e,"subject"),buttonLabel:_.insertPlaceholder||"Platzhalter",compact:!0})]}),(0,lr.jsx)("div",{className:"rp-email-composer__body-row",children:(0,lr.jsx)(Po.TextareaControl,{label:_.message||"Nachricht",value:p.body,onChange:e=>E("body",e),rows:12,help:w.body,className:w.body?"has-error":""})}),(0,lr.jsxs)("div",{className:"rp-email-composer__schedule",children:[(0,lr.jsx)(Po.ToggleControl,{label:_.scheduleEmail||"E-Mail zeitversetzt senden",checked:h,onChange:g}),h&&(0,lr.jsxs)("div",{className:"rp-email-composer__schedule-picker",children:[(0,lr.jsx)(Po.Button,{icon:Va,variant:"secondary",onClick:()=>x(!y),children:f?(z=f,z?new Date(z).toLocaleString("de-DE",{dateStyle:"medium",timeStyle:"short"}):""):_.selectDateTime||"Zeitpunkt whlen"}),y&&(0,lr.jsx)(Po.Popover,{onClose:()=>x(!1),placement:"bottom-start",children:(0,lr.jsx)(Po.DateTimePicker,{currentDate:f,onChange:e=>{b(e),x(!1)},is12Hour:!1})}),w.scheduledAt&&(0,lr.jsx)("p",{className:"rp-email-composer__error",children:w.scheduledAt})]})]})]}),(0,lr.jsx)("div",{className:"rp-email-composer__sidebar",children:(0,lr.jsx)(Fo,{placeholders:r,onSelect:e=>T(e,"body"),showSearch:!0})})]}):(0,lr.jsx)(Ua,{subject:R(p.subject),body:R(p.body),recipient:p.to}),(0,lr.jsxs)("div",{className:"rp-email-composer__actions",children:[(0,lr.jsx)(Po.Button,{variant:"secondary",onClick:c,disabled:i,children:_.cancel||"Abbrechen"}),(0,lr.jsx)(Po.Button,{variant:"primary",onClick:D,disabled:i,children:i?(0,lr.jsxs)(lr.Fragment,{children:[(0,lr.jsx)(Po.Spinner,{}),_.sending||"Senden..."]}):h?_.scheduleEmail||"Planen":_.send||"Senden"})]})]})]})]});var z}Ga.propTypes={templates:Oo().arrayOf(Oo().shape({id:Oo().number.isRequired,name:Oo().string,subject:Oo().string,body:Oo().string})),placeholders:Oo().object,previewValues:Oo().object,recipient:Oo().shape({email:Oo().string,name:Oo().string}),applicationId:Oo().number,sending:Oo().bool,error:Oo().string,onSend:Oo().func.isRequired,onCancel:Oo().func.isRequired};const Ka=er("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),Xa=er("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),qa=er("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),Ya=Tr("rp-inline-flex rp-items-center rp-rounded-full rp-border rp-px-2.5 rp-py-0.5 rp-text-xs rp-font-semibold rp-transition-colors focus:rp-outline-none focus:rp-ring-2 focus:rp-ring-ring focus:rp-ring-offset-2",{variants:{variant:{default:"rp-border-transparent rp-bg-primary rp-text-primary-foreground hover:rp-bg-primary/80",secondary:"rp-border-transparent rp-bg-secondary rp-text-secondary-foreground hover:rp-bg-secondary/80",destructive:"rp-border-transparent rp-bg-destructive rp-text-destructive-foreground hover:rp-bg-destructive/80",outline:"rp-text-foreground",success:"rp-border-transparent rp-bg-green-100 rp-text-green-700",warning:"rp-border-transparent rp-bg-yellow-100 rp-text-yellow-700",info:"rp-border-transparent rp-bg-blue-100 rp-text-blue-700",purple:"rp-border-transparent rp-bg-purple-100 rp-text-purple-700"}},defaultVariants:{variant:"default"}});function Za({className:e,variant:t,...r}){return(0,lr.jsx)("div",{className:Vn(Ya({variant:t}),e),...r})}const Ja=(0,e.forwardRef)(({className:e,...t},r)=>(0,lr.jsx)("div",{className:"rp-relative rp-w-full rp-overflow-auto",children:(0,lr.jsx)("table",{ref:r,className:Vn("rp-w-full rp-caption-bottom rp-text-sm",e),...t})}));Ja.displayName="Table";const Qa=(0,e.forwardRef)(({className:e,...t},r)=>(0,lr.jsx)("thead",{ref:r,className:Vn("[&_tr]:rp-border-b",e),...t}));Qa.displayName="TableHeader";const ei=(0,e.forwardRef)(({className:e,...t},r)=>(0,lr.jsx)("tbody",{ref:r,className:Vn("[&_tr:last-child]:rp-border-0",e),...t}));ei.displayName="TableBody",(0,e.forwardRef)(({className:e,...t},r)=>(0,lr.jsx)("tfoot",{ref:r,className:Vn("rp-border-t rp-bg-muted/50 rp-font-medium [&>tr]:last:rp-border-b-0",e),...t})).displayName="TableFooter";const ti=(0,e.forwardRef)(({className:e,...t},r)=>(0,lr.jsx)("tr",{ref:r,className:Vn("rp-border-b rp-transition-colors hover:rp-bg-muted/50 data-[state=selected]:rp-bg-muted",e),...t}));ti.displayName="TableRow";const ri=(0,e.forwardRef)(({className:e,...t},r)=>(0,lr.jsx)("th",{ref:r,className:Vn("rp-h-12 rp-px-4 rp-text-left rp-align-middle rp-font-medium rp-text-muted-foreground [&:has([role=checkbox])]:rp-pr-0",e),style:{padding:"0.75rem 1rem",fontWeight:500,color:"hsl(215.4, 16.3%, 46.9%)"},...t}));ri.displayName="TableHead";const ni=(0,e.forwardRef)(({className:e,...t},r)=>(0,lr.jsx)("td",{ref:r,className:Vn("rp-p-4 rp-align-middle [&:has([role=checkbox])]:rp-pr-0",e),style:{padding:"0.75rem 1rem"},...t}));ni.displayName="TableCell",(0,e.forwardRef)(({className:e,...t},r)=>(0,lr.jsx)("caption",{ref:r,className:Vn("rp-mt-4 rp-text-sm rp-text-muted-foreground",e),...t})).displayName="TableCaption";const oi={ALLOWED_TAGS:["p","br","strong","em","b","i","a","ul","ol","li","h1","h2","h3","h4","div","span"],ALLOWED_ATTR:["href","target","rel","class","style"],FORBID_TAGS:["script","iframe","object","embed","form","input"]};function ai({status:e}){const r={sent:{label:(0,t.__)("Gesendet","recruiting-playbook"),color:"#2fac66",bg:"#e6f5ec"},failed:{label:(0,t.__)("Fehlgeschlagen","recruiting-playbook"),color:"#d63638",bg:"#ffe6e6"},pending:{label:(0,t.__)("Ausstehend","recruiting-playbook"),color:"#dba617",bg:"#fff8e6"},scheduled:{label:(0,t.__)("Geplant","recruiting-playbook"),color:"#2271b1",bg:"#e6f3ff"},cancelled:{label:(0,t.__)("Storniert","recruiting-playbook"),color:"#787c82",bg:"#f0f0f0"}},n=r[e]||r.pending;return(0,lr.jsx)("span",{style:{display:"inline-flex",alignItems:"center",padding:"0.25rem 0.625rem",borderRadius:"9999px",fontSize:"0.75rem",fontWeight:500,backgroundColor:n.bg,color:n.color},children:n.label})}function ii({title:e,children:t,onClose:r}){return(0,lr.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e5,padding:"1rem"},onClick:r,children:(0,lr.jsxs)("div",{style:{backgroundColor:"#fff",borderRadius:"0.5rem",boxShadow:"0 4px 20px rgba(0, 0, 0, 0.15)",maxWidth:"700px",width:"100%",maxHeight:"90vh",overflow:"auto"},onClick:e=>e.stopPropagation(),children:[(0,lr.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"1rem 1.5rem",borderBottom:"1px solid #e5e7eb"},children:[(0,lr.jsx)("h3",{style:{margin:0,fontSize:"1rem",fontWeight:600,color:"#1f2937"},children:e}),(0,lr.jsx)("button",{type:"button",onClick:r,style:{display:"flex",alignItems:"center",justifyContent:"center",width:"2rem",height:"2rem",background:"none",border:"none",borderRadius:"0.375rem",cursor:"pointer",color:"#6b7280"},children:(0,lr.jsx)(mr,{style:{width:"1.25rem",height:"1.25rem"}})})]}),t]})})}function li({title:e,message:r,onConfirm:n,onCancel:o,confirmLabel:a,isDestructive:i}){return(0,lr.jsxs)(ii,{title:e,onClose:o,children:[(0,lr.jsx)("div",{style:{padding:"1.5rem"},children:(0,lr.jsx)("p",{style:{margin:0,color:"#374151"},children:r})}),(0,lr.jsxs)("div",{style:{display:"flex",justifyContent:"flex-end",gap:"0.5rem",padding:"1rem 1.5rem",borderTop:"1px solid #e5e7eb",backgroundColor:"#f9fafb"},children:[(0,lr.jsx)(Kn,{variant:"outline",onClick:o,children:(0,t.__)("Abbrechen","recruiting-playbook")}),(0,lr.jsx)(Kn,{onClick:n,style:i?{backgroundColor:"#d63638"}:{},children:a})]})]})}function si(){return(0,lr.jsxs)(lr.Fragment,{children:[(0,lr.jsx)("div",{style:{width:"1.5rem",height:"1.5rem",border:"2px solid #e5e7eb",borderTopColor:"#1d71b8",borderRadius:"50%",animation:"spin 0.8s linear infinite"}}),(0,lr.jsx)("style",{children:"@keyframes spin { to { transform: rotate(360deg); } }"})]})}function ci({emails:r=[],loading:n=!1,error:o=null,pagination:a={},onResend:i,onCancel:l,onPageChange:s}){const[c,d]=(0,e.useState)(""),[u,p]=(0,e.useState)(null),[m,h]=(0,e.useState)(!1),[g,f]=(0,e.useState)(null),[b,y]=(0,e.useState)(null),x=(0,e.useCallback)(async e=>{h(!0),p(e);try{const t=await ir()({path:`/recruiting/v1/emails/log/${e.id}`});p(t)}catch(e){console.error("Error fetching email details:",e)}finally{h(!1)}},[]),v=(0,e.useMemo)(()=>c?r.filter(e=>e.status===c):r,[r,c]),k=[{value:"",label:(0,t.__)("Alle Status","recruiting-playbook")},{value:"sent",label:(0,t.__)("Gesendet","recruiting-playbook")},{value:"failed",label:(0,t.__)("Fehlgeschlagen","recruiting-playbook")},{value:"pending",label:(0,t.__)("Ausstehend","recruiting-playbook")},{value:"scheduled",label:(0,t.__)("Geplant","recruiting-playbook")},{value:"cancelled",label:(0,t.__)("Storniert","recruiting-playbook")}],w=e=>e?new Date(e).toLocaleString("de-DE",{dateStyle:"medium",timeStyle:"short"}):"-";return n?(0,lr.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",padding:"3rem",gap:"0.75rem",color:"#6b7280"},children:[(0,lr.jsx)(si,{}),(0,lr.jsx)("span",{children:(0,t.__)("Lade E-Mail-Verlauf...","recruiting-playbook")})]}):(0,lr.jsxs)("div",{children:[o&&(0,lr.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",padding:"0.75rem 1rem",backgroundColor:"#ffe6e6",borderLeft:"4px solid #d63638",borderRadius:"0.375rem",marginBottom:"1rem",color:"#d63638",fontSize:"0.875rem"},children:[(0,lr.jsx)(Ka,{style:{width:"1rem",height:"1rem",flexShrink:0}}),o]}),(0,lr.jsxs)(mo,{children:[(0,lr.jsx)(ho,{children:(0,lr.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",flexWrap:"wrap",gap:"1rem"},children:[(0,lr.jsxs)(go,{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[(0,t.__)("E-Mails","recruiting-playbook"),r.length>0&&(0,lr.jsx)(Za,{variant:"secondary",children:r.length})]}),(0,lr.jsx)("select",{value:c,onChange:e=>d(e.target.value),style:{padding:"0.5rem 2rem 0.5rem 0.75rem",border:"1px solid #e5e7eb",borderRadius:"0.375rem",fontSize:"0.875rem",backgroundColor:"#fff",cursor:"pointer"},children:k.map(e=>(0,lr.jsx)("option",{value:e.value,children:e.label},e.value))})]})}),(0,lr.jsx)(bo,{children:0===v.length?(0,lr.jsxs)("div",{style:{textAlign:"center",padding:"2rem",color:"#6b7280"},children:[(0,lr.jsx)(ao,{style:{width:"3rem",height:"3rem",marginBottom:"0.75rem",opacity:.5}}),(0,lr.jsx)("p",{children:(0,t.__)("Keine E-Mails gefunden.","recruiting-playbook")})]}):(0,lr.jsxs)(lr.Fragment,{children:[(0,lr.jsxs)(Ja,{children:[(0,lr.jsx)(Qa,{children:(0,lr.jsxs)(ti,{children:[(0,lr.jsx)(ri,{children:(0,t.__)("Datum","recruiting-playbook")}),(0,lr.jsx)(ri,{children:(0,t.__)("Empfnger","recruiting-playbook")}),(0,lr.jsx)(ri,{children:(0,t.__)("Betreff","recruiting-playbook")}),(0,lr.jsx)(ri,{children:(0,t.__)("Status","recruiting-playbook")}),(0,lr.jsx)(ri,{style:{textAlign:"right"},children:(0,t.__)("Aktionen","recruiting-playbook")})]})}),(0,lr.jsx)(ei,{children:v.map(e=>(0,lr.jsxs)(ti,{children:[(0,lr.jsx)(ni,{style:{whiteSpace:"nowrap"},children:"scheduled"===e.status?w(e.scheduled_at):w(e.sent_at||e.created_at)}),(0,lr.jsx)(ni,{children:e.recipient?.email||e.recipient_email}),(0,lr.jsx)(ni,{children:(0,lr.jsx)("button",{type:"button",onClick:()=>x(e),style:{background:"none",border:"none",padding:0,color:"#1d71b8",cursor:"pointer",textDecoration:"none",fontSize:"inherit",textAlign:"left"},children:e.subject})}),(0,lr.jsx)(ni,{children:(0,lr.jsx)(ai,{status:e.status})}),(0,lr.jsx)(ni,{children:(0,lr.jsxs)("div",{style:{display:"flex",justifyContent:"flex-end",gap:"0.25rem"},children:[(0,lr.jsx)(Kn,{variant:"ghost",size:"icon",onClick:()=>x(e),title:(0,t.__)("Anzeigen","recruiting-playbook"),children:(0,lr.jsx)(co,{style:{width:"1rem",height:"1rem"}})}),"failed"===e.status&&(0,lr.jsx)(Kn,{variant:"ghost",size:"icon",onClick:()=>f(e),title:(0,t.__)("Erneut senden","recruiting-playbook"),children:(0,lr.jsx)(Eo,{style:{width:"1rem",height:"1rem"}})}),e.can_cancel&&(0,lr.jsx)(Kn,{variant:"ghost",size:"icon",onClick:()=>y(e),title:(0,t.__)("Stornieren","recruiting-playbook"),style:{color:"#d63638"},children:(0,lr.jsx)(mr,{style:{width:"1rem",height:"1rem"}})})]})})]},e.id))})]}),a.pages>1&&(0,lr.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"0.75rem 0",marginTop:"1rem",borderTop:"1px solid #e5e7eb"},children:[(0,lr.jsxs)("span",{style:{fontSize:"0.875rem",color:"#6b7280"},children:[(0,t.__)("Seite","recruiting-playbook")," ",a.page," ",(0,t.__)("von","recruiting-playbook")," ",a.pages]}),(0,lr.jsxs)("div",{style:{display:"flex",gap:"0.5rem"},children:[(0,lr.jsx)(Kn,{variant:"outline",size:"sm",disabled:a.page<=1,onClick:()=>s&&s(a.page-1),children:(0,lr.jsx)(Xa,{style:{width:"1rem",height:"1rem"}})}),(0,lr.jsx)(Kn,{variant:"outline",size:"sm",disabled:a.page>=a.pages,onClick:()=>s&&s(a.page+1),children:(0,lr.jsx)(qa,{style:{width:"1rem",height:"1rem"}})})]})]})]})})]}),u&&(0,lr.jsx)(ii,{title:u.subject,onClose:()=>p(null),children:(0,lr.jsxs)("div",{style:{padding:"1.5rem"},children:[(0,lr.jsxs)("div",{style:{marginBottom:"1rem",display:"flex",flexDirection:"column",gap:"0.5rem"},children:[(0,lr.jsxs)("div",{style:{display:"flex",gap:"0.5rem",fontSize:"0.875rem"},children:[(0,lr.jsxs)("strong",{style:{color:"#6b7280",minWidth:"80px"},children:[(0,t.__)("Empfnger","recruiting-playbook"),":"]}),(0,lr.jsx)("span",{style:{color:"#1f2937"},children:u.recipient?.email||u.recipient_email})]}),(0,lr.jsxs)("div",{style:{display:"flex",gap:"0.5rem",fontSize:"0.875rem"},children:[(0,lr.jsxs)("strong",{style:{color:"#6b7280",minWidth:"80px"},children:[(0,t.__)("Datum","recruiting-playbook"),":"]}),(0,lr.jsx)("span",{style:{color:"#1f2937"},children:w(u.sent_at||u.created_at)})]}),(0,lr.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",fontSize:"0.875rem"},children:[(0,lr.jsxs)("strong",{style:{color:"#6b7280",minWidth:"80px"},children:[(0,t.__)("Status","recruiting-playbook"),":"]}),(0,lr.jsx)(ai,{status:u.status})]}),u.error_message&&(0,lr.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",padding:"0.5rem 0.75rem",backgroundColor:"#ffe6e6",borderRadius:"0.375rem",marginTop:"0.5rem",color:"#d63638",fontSize:"0.875rem"},children:[(0,lr.jsx)(Ka,{style:{width:"1rem",height:"1rem",flexShrink:0}}),u.error_message]})]}),(0,lr.jsxs)("div",{style:{borderTop:"1px solid #e5e7eb",paddingTop:"1rem"},children:[(0,lr.jsx)("h4",{style:{margin:"0 0 0.75rem 0",fontSize:"0.875rem",fontWeight:600,color:"#374151"},children:(0,t.__)("Nachricht","recruiting-playbook")}),m?(0,lr.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",padding:"2rem",color:"#6b7280"},children:[(0,lr.jsx)(si,{}),(0,lr.jsx)("span",{style:{marginLeft:"0.5rem"},children:(0,t.__)("Lade...","recruiting-playbook")})]}):(0,lr.jsx)("div",{style:{padding:"1rem",backgroundColor:"#f9fafb",borderRadius:"0.375rem",fontSize:"0.875rem",lineHeight:1.6},dangerouslySetInnerHTML:{__html:Fa.sanitize(u.body_html||u.body||"",oi)}})]})]})}),g&&(0,lr.jsx)(li,{title:(0,t.__)("E-Mail erneut senden","recruiting-playbook"),message:(0,t.__)("Mchten Sie diese E-Mail erneut senden?","recruiting-playbook"),confirmLabel:(0,t.__)("Erneut senden","recruiting-playbook"),onConfirm:()=>{g&&i&&i(g.id),f(null)},onCancel:()=>f(null)}),b&&(0,lr.jsx)(li,{title:(0,t.__)("E-Mail stornieren","recruiting-playbook"),message:(0,t.__)("Mchten Sie diese geplante E-Mail stornieren?","recruiting-playbook"),confirmLabel:(0,t.__)("Stornieren","recruiting-playbook"),isDestructive:!0,onConfirm:()=>{b&&l&&l(b.id),y(null)},onCancel:()=>y(null)})]})}function di(e,t,r="Ein Fehler ist aufgetreten"){return"AbortError"===e?.name||(function(e){return"rest_cookie_invalid_nonce"===e?.code||"rest_forbidden"===e?.code||401===e?.data?.status||403===e?.data?.status}(e)?(console.warn("Authentication error, reloading page..."),window.location.reload(),!0):(t&&t(e?.message||r),!1))}function ui({applicationId:t,recipient:r={}}){const[n,o]=(0,e.useState)("history"),[a,i]=(0,e.useState)(null),l=window.rpApplicant?.i18n||window.rpEmailData?.i18n||{},{templates:s,loading:c}=function(t={}){const[r,n]=(0,e.useState)([]),[o,a]=(0,e.useState)(!0),[i,l]=(0,e.useState)(null),[s,c]=(0,e.useState)(!1),d=t?.category,u=window.rpEmailData?.i18n||{},p=u.errorLoading||"Fehler beim Laden der Templates",m=u.errorSaving||"Fehler beim Speichern",h=u.errorDeleting||"Fehler beim Lschen",g=(0,e.useRef)(null),f=(0,e.useRef)(!0),b=(0,e.useCallback)(async()=>{g.current&&g.current.abort(),g.current=new AbortController;try{a(!0),l(null);let e="/recruiting/v1/email-templates";const t=new URLSearchParams;d&&t.append("category",d),t.toString()&&(e+="?"+t.toString());const r=await ir()({path:e,signal:g.current.signal});f.current&&n(r.items||r||[])}catch(e){if("AbortError"===e?.name)return;f.current&&!di(e,l,p)&&console.error("Error fetching templates:",e)}finally{f.current&&a(!1)}},[d,p]);(0,e.useEffect)(()=>(f.current=!0,b(),()=>{f.current=!1,g.current&&g.current.abort()}),[b]);const y=(0,e.useCallback)(async e=>{try{c(!0),l(null);const t=await ir()({path:"/recruiting/v1/email-templates",method:"POST",data:e});if(!f.current)return null;const r=t.template||t;return n(e=>[r,...e]),r}catch(e){return f.current?(di(e,l,m)||console.error("Error creating template:",e),null):null}finally{f.current&&c(!1)}},[m]),x=(0,e.useCallback)(async(e,t)=>{try{c(!0),l(null);const r=await ir()({path:`/recruiting/v1/email-templates/${e}`,method:"PATCH",data:t});if(!f.current)return null;const o=r.template||r;return n(t=>t.map(t=>t.id===e?o:t)),o}catch(e){return f.current?(di(e,l,m)||console.error("Error updating template:",e),null):null}finally{f.current&&c(!1)}},[m]),v=(0,e.useCallback)(async e=>{const t=[...r];try{return c(!0),l(null),n(t=>t.filter(t=>t.id!==e)),await ir()({path:`/recruiting/v1/email-templates/${e}`,method:"DELETE"}),!0}catch(e){return!!f.current&&(n(t),di(e,l,h)||console.error("Error deleting template:",e),!1)}finally{f.current&&c(!1)}},[r,h]),k=(0,e.useCallback)(async(e,t="")=>{try{c(!0),l(null);const r=await ir()({path:`/recruiting/v1/email-templates/${e}/duplicate`,method:"POST",data:{name:t}});if(!f.current)return null;const o=r.template||r;return n(e=>[o,...e]),o}catch(e){return f.current?(di(e,l,m)||console.error("Error duplicating template:",e),null):null}finally{f.current&&c(!1)}},[m]),w=(0,e.useCallback)(async e=>{try{c(!0),l(null);const t=await ir()({path:`/recruiting/v1/email-templates/${e}/reset`,method:"POST"});if(!f.current)return null;const r=t.template||t;return n(t=>t.map(t=>t.id===e?r:t)),r}catch(e){return f.current?(di(e,l,m)||console.error("Error resetting template:",e),null):null}finally{f.current&&c(!1)}},[m]);return{templates:r,loading:o,error:i,saving:s,fetchTemplates:b,createTemplate:y,updateTemplate:x,deleteTemplate:v,duplicateTemplate:k,resetTemplate:w,refetch:b}}(),{emails:d,loading:u,error:p,sending:m,pagination:h,sendEmail:g,resendEmail:f,cancelEmail:b,goToPage:y,refetch:x}=function(t={}){const[r,n]=(0,e.useState)([]),[o,a]=(0,e.useState)(!0),[i,l]=(0,e.useState)(null),[s,c]=(0,e.useState)(!1),[d,u]=(0,e.useState)({total:0,pages:1,page:1,perPage:20}),p=t?.applicationId,m=t?.candidateId,h=d.perPage,g=window.rpEmailData?.i18n||window.rpApplicant?.i18n||{},f=g.errorLoading||"Fehler beim Laden der E-Mails",b=g.errorSending||"Fehler beim Senden",y=g.errorCancelling||"Fehler beim Stornieren",x=g.errorPreview||"Fehler bei der Vorschau",v=(0,e.useRef)(null),k=(0,e.useRef)(!0),w=(0,e.useCallback)(async(e=1)=>{if(!p&&!m)return n([]),void a(!1);v.current&&v.current.abort(),v.current=new AbortController;try{let t;a(!0),l(null),t=p?`/recruiting/v1/applications/${p}/emails`:m?`/recruiting/v1/candidates/${m}/emails`:"/recruiting/v1/emails/log";const r=new URLSearchParams;r.append("page",e.toString()),r.append("per_page",h.toString()),t+="?"+r.toString();const o=await ir()({path:t,signal:v.current.signal});k.current&&(n(o.items||[]),u({total:o.total||0,pages:o.pages||1,page:e,perPage:h}))}catch(e){if("AbortError"===e?.name)return;k.current&&!di(e,l,f)&&console.error("Error fetching emails:",e)}finally{k.current&&a(!1)}},[p,m,h,f]);(0,e.useEffect)(()=>(k.current=!0,w(),()=>{k.current=!1,v.current&&v.current.abort()}),[w]);const j=(0,e.useCallback)(async e=>{try{c(!0),l(null);const t=await ir()({path:"/recruiting/v1/emails/send",method:"POST",data:{application_id:p,...e}});return k.current?(await w(),t):null}catch(e){return k.current?(di(e,l,b)||console.error("Error sending email:",e),null):null}finally{k.current&&c(!1)}},[p,w,b]),_=(0,e.useCallback)(async e=>{try{return c(!0),l(null),await ir()({path:`/recruiting/v1/emails/log/${e}/resend`,method:"POST"}),!!k.current&&(await w(),!0)}catch(e){return!!k.current&&(di(e,l,b)||console.error("Error resending email:",e),!1)}finally{k.current&&c(!1)}},[w,b]),S=(0,e.useCallback)(async e=>{try{return c(!0),l(null),await ir()({path:`/recruiting/v1/emails/${e}/cancel`,method:"POST"}),!!k.current&&(n(t=>t.map(t=>t.id===e?{...t,status:"cancelled",can_cancel:!1}:t)),!0)}catch(e){return!!k.current&&(di(e,l,y)||console.error("Error cancelling email:",e),!1)}finally{k.current&&c(!1)}},[y]),C=(0,e.useCallback)(async e=>{try{return l(null),await ir()({path:"/recruiting/v1/emails/preview",method:"POST",data:{application_id:p,...e}})}catch(e){return k.current?(di(e,l,x)||console.error("Error previewing email:",e),null):null}},[p,x]),N=(0,e.useCallback)(e=>{w(e)},[w]);return{emails:r,loading:o,error:i,sending:s,pagination:d,fetchEmails:w,sendEmail:j,resendEmail:_,cancelEmail:S,previewEmail:C,goToPage:N,refetch:()=>w(d.page)}}({applicationId:t}),{placeholders:v,previewValues:k,loading:w}=function(){const[t,r]=(0,e.useState)({}),[n,o]=(0,e.useState)({}),[a,i]=(0,e.useState)(!0),[l,s]=(0,e.useState)(null),c=(window.rpEmailData?.i18n||{}).errorLoading||"Fehler beim Laden der Platzhalter",d=(0,e.useRef)(null),u=(0,e.useRef)(!0),p=(0,e.useCallback)(async()=>{d.current&&d.current.abort(),d.current=new AbortController;try{i(!0),s(null);const e=await ir()({path:"/recruiting/v1/email-templates/placeholders",signal:d.current.signal});u.current&&(r(e.groups||{}),o(e.preview_values||{}))}catch(e){if("AbortError"===e?.name)return;u.current&&!di(e,s,c)&&console.error("Error fetching placeholders:",e)}finally{u.current&&i(!1)}},[c]);(0,e.useEffect)(()=>(u.current=!0,p(),()=>{u.current=!1,d.current&&d.current.abort()}),[p]);const m=(0,e.useCallback)(e=>Ha(e,n),[n]),h=(0,e.useCallback)(()=>{const e=[];return Object.values(t).forEach(t=>{t.items&&Object.keys(t.items).forEach(t=>e.push(t))}),e},[t]);return{placeholders:t,previewValues:n,loading:a,error:l,fetchPlaceholders:p,replacePlaceholders:m,getAllPlaceholderKeys:h,refetch:p}}(),j=(0,e.useCallback)((e,t="success")=>{i({message:e,type:t}),setTimeout(()=>i(null),3e3)},[]),_=(0,e.useCallback)(async e=>{await g(e)&&(j(l.emailSent||"E-Mail wurde gesendet."),o("history"))},[g,j,l.emailSent]),S=(0,e.useCallback)(async e=>{await f(e)&&j(l.emailResent||"E-Mail wurde erneut gesendet.")},[f,j,l.emailResent]),C=(0,e.useCallback)(async e=>{await b(e)&&j(l.emailCancelled||"E-Mail wurde storniert.")},[b,j,l.emailCancelled]);return(c||u||w)&&"history"===n&&0===d.length?(0,lr.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",padding:"3rem",color:"#6b7280"},children:[(0,lr.jsx)("div",{style:{width:"1.5rem",height:"1.5rem",border:"2px solid #e5e7eb",borderTopColor:"#1d71b8",borderRadius:"50%",animation:"spin 0.8s linear infinite"}}),(0,lr.jsx)("style",{children:"@keyframes spin { to { transform: rotate(360deg); } }"})]}):(0,lr.jsxs)("div",{children:[a&&(0,lr.jsx)("div",{style:{padding:"0.75rem 1rem",marginBottom:"1rem",borderRadius:"0.375rem",backgroundColor:"success"===a.type?"#e6f5ec":"#ffe6e6",color:"success"===a.type?"#2fac66":"#d63638",fontSize:"0.875rem"},children:a.message}),"history"===n?(0,lr.jsxs)(lr.Fragment,{children:[(0,lr.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"1rem"},children:[(0,lr.jsx)("h3",{style:{margin:0,fontSize:"1.125rem",fontWeight:600,color:"#1f2937"},children:l.emailHistory||"E-Mail-Verlauf"}),(0,lr.jsxs)(Kn,{onClick:()=>o("compose"),children:[(0,lr.jsx)(hr,{style:{width:"1rem",height:"1rem",marginRight:"0.375rem"}}),l.newEmail||"Neue E-Mail"]})]}),(0,lr.jsx)(ci,{emails:d,loading:u,error:p,pagination:h,onResend:S,onCancel:C,onPageChange:y})]}):(0,lr.jsx)(Ga,{templates:s,placeholders:v,previewValues:k,recipient:r,applicationId:t,sending:m,onSend:_,onCancel:()=>o("history")})]})}ci.propTypes={emails:Oo().arrayOf(Oo().shape({id:Oo().number.isRequired,recipient_email:Oo().string,subject:Oo().string,status:Oo().string,sent_at:Oo().string,created_at:Oo().string,scheduled_at:Oo().string,can_cancel:Oo().bool,body:Oo().string,body_html:Oo().string,error_message:Oo().string})),loading:Oo().bool,error:Oo().string,pagination:Oo().shape({total:Oo().number,pages:Oo().number,page:Oo().number,perPage:Oo().number}),onResend:Oo().func,onCancel:Oo().func,onPageChange:Oo().func},e.Component,Oo().oneOf(["sent","failed","pending","scheduled","cancelled"]);const pi={new:{label:"Neu",color:"#2271b1",bg:"#e6f3ff"},screening:{label:"In Prfung",color:"#dba617",bg:"#fff8e6"},interview:{label:"Interview",color:"#9b59b6",bg:"#f5e6ff"},offer:{label:"Angebot",color:"#1e8cbe",bg:"#e6f5ff"},hired:{label:"Eingestellt",color:"#2fac66",bg:"#e6f5ec"},rejected:{label:"Abgelehnt",color:"#d63638",bg:"#ffe6e6"},withdrawn:{label:"Zurckgezogen",color:"#787c82",bg:"#f0f0f0"}},mi=Object.entries(pi).map(([e,t])=>({value:e,label:t.label,color:t.color}));function hi(e){return e?new Date(e).toLocaleDateString("de-DE",{day:"2-digit",month:"2-digit",year:"numeric"}):"-"}function gi({active:e,onClick:t,children:r,count:n}){return(0,lr.jsxs)("button",{type:"button",onClick:t,style:{padding:"0.5rem 1rem",fontSize:"0.875rem",fontWeight:500,color:e?"#1f2937":"#6b7280",backgroundColor:e?"#fff":"transparent",border:"1px solid",borderColor:e?"#e5e7eb":"transparent",borderBottomColor:e?"#fff":"transparent",borderRadius:e?"0.375rem 0.375rem 0 0":"0.375rem",marginBottom:e?"-1px":"0",cursor:"pointer",display:"inline-flex",alignItems:"center",gap:"0.5rem",transition:"all 0.15s ease"},children:[r,void 0!==n&&n>0&&(0,lr.jsx)("span",{style:{backgroundColor:e?"#1d71b8":"#e5e7eb",color:e?"#fff":"#6b7280",padding:"0.125rem 0.5rem",borderRadius:"9999px",fontSize:"0.75rem",fontWeight:500,minWidth:"1.25rem",textAlign:"center"},children:n})]})}function fi({size:e="1.5rem"}){return(0,lr.jsxs)(lr.Fragment,{children:[(0,lr.jsx)("div",{style:{width:e,height:e,border:"2px solid #e5e7eb",borderTopColor:"#1d71b8",borderRadius:"50%",animation:"spin 0.8s linear infinite"}}),(0,lr.jsx)("style",{children:"@keyframes spin { to { transform: rotate(360deg); } }"})]})}function bi({applicationId:r}){const[n,o]=(0,e.useState)(null),[a,i]=(0,e.useState)(!0),[l,s]=(0,e.useState)(null),[c,d]=(0,e.useState)(!1),[u,p]=(0,e.useState)("details"),m=window.rpApplicant||{},h=!1!==m.canSendEmails,g=m.logoUrl,f=(0,e.useCallback)(async()=>{if(r)try{i(!0),s(null);const e=await ir()({path:`/recruiting/v1/applications/${r}`}),t=e.candidate||{},n={...e,first_name:t.first_name||"",last_name:t.last_name||"",email:t.email||"",phone:t.phone||"",salutation:t.salutation||"",job_title:e.job?.title||""};o(n)}catch(e){console.error("Error loading application:",e),s(e.message||(0,t.__)("Fehler beim Laden der Bewerbung","recruiting-playbook"))}finally{i(!1)}},[r]);if((0,e.useEffect)(()=>{f()},[f]),a)return(0,lr.jsx)("div",{className:"rp-admin",style:{padding:"20px 0"},children:(0,lr.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",minHeight:"300px",gap:"0.75rem",color:"#6b7280"},children:[(0,lr.jsx)(fi,{}),(0,lr.jsx)("span",{children:(0,t.__)("Lade Bewerbung...","recruiting-playbook")})]})});if(l)return(0,lr.jsx)("div",{className:"rp-admin",style:{padding:"20px 0"},children:(0,lr.jsx)(mo,{children:(0,lr.jsxs)(bo,{style:{padding:"3rem",textAlign:"center"},children:[(0,lr.jsx)("p",{style:{color:"#d63638",marginBottom:"1.5rem"},children:l}),(0,lr.jsx)(Kn,{onClick:f,children:(0,t.__)("Erneut versuchen","recruiting-playbook")})]})})});if(!n)return(0,lr.jsx)("div",{className:"rp-admin",style:{padding:"20px 0"},children:(0,lr.jsx)(mo,{children:(0,lr.jsx)(bo,{style:{padding:"3rem",textAlign:"center",color:"#6b7280"},children:(0,t.__)("Bewerbung nicht gefunden.","recruiting-playbook")})})});const b=pi[n.status],y=n.documents?.length||0;return(0,lr.jsxs)("div",{className:"rp-admin",style:{padding:"20px 0"},children:[(0,lr.jsxs)("div",{style:{maxWidth:"1400px"},children:[g&&(0,lr.jsx)("div",{style:{marginBottom:"1.5rem"},children:(0,lr.jsx)("img",{src:g,alt:"Recruiting Playbook",style:{width:"150px",height:"auto"}})}),(0,lr.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"1rem",marginBottom:"1.5rem",flexWrap:"wrap"},children:[(0,lr.jsxs)("a",{href:m.listUrl||"#",style:{display:"inline-flex",alignItems:"center",gap:"0.25rem",color:"#1d71b8",textDecoration:"none",fontSize:"0.875rem"},children:[(0,lr.jsx)(oo,{style:{width:"1rem",height:"1rem"}}),(0,t.__)("Zurck zur Liste","recruiting-playbook")]}),(0,lr.jsxs)("h1",{style:{flex:1,margin:0,fontSize:"1.5rem",fontWeight:700,color:"#1f2937"},children:[(0,t.__)("Bewerbung","recruiting-playbook")," #",r]}),(0,lr.jsx)(Yn,{candidateId:n.candidate_id,inPool:n.in_talent_pool,onStatusChange:e=>{o(t=>({...t,in_talent_pool:e}))}})]}),(0,lr.jsxs)("div",{style:{display:"flex",gap:"0.25rem",borderBottom:"1px solid #e5e7eb",marginBottom:"1.5rem"},children:[(0,lr.jsx)(gi,{active:"details"===u,onClick:()=>p("details"),children:(0,t.__)("Details","recruiting-playbook")}),(0,lr.jsx)(gi,{active:"documents"===u,onClick:()=>p("documents"),count:y,children:(0,t.__)("Dokumente","recruiting-playbook")}),(0,lr.jsx)(gi,{active:"notes"===u,onClick:()=>p("notes"),children:(0,t.__)("Notizen","recruiting-playbook")}),(0,lr.jsx)(gi,{active:"timeline"===u,onClick:()=>p("timeline"),children:(0,t.__)("Verlauf","recruiting-playbook")}),h&&(0,lr.jsx)(gi,{active:"email"===u,onClick:()=>p("email"),children:(0,t.__)("E-Mail","recruiting-playbook")})]}),(0,lr.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 380px",gap:"1.5rem"},children:[(0,lr.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"1.5rem"},children:[(0,lr.jsx)(mo,{children:(0,lr.jsxs)(bo,{style:{padding:"1.5rem"},children:[(0,lr.jsxs)("div",{style:{display:"flex",gap:"1rem",marginBottom:"1.5rem"},children:[(0,lr.jsx)("div",{style:{width:"64px",height:"64px",borderRadius:"50%",backgroundColor:"#1d71b8",color:"#fff",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"1.5rem",fontWeight:500,flexShrink:0},children:(x=n.first_name,v=n.last_name,`${x?.charAt(0)?.toUpperCase()||""}${v?.charAt(0)?.toUpperCase()||""}`||"?")}),(0,lr.jsxs)("div",{style:{flex:1},children:[(0,lr.jsxs)("h2",{style:{margin:"0 0 0.5rem 0",fontSize:"1.25rem",fontWeight:600,color:"#1f2937"},children:[n.first_name," ",n.last_name]}),(0,lr.jsxs)("div",{style:{display:"flex",flexWrap:"wrap",gap:"1rem"},children:[n.email&&(0,lr.jsxs)("a",{href:`mailto:${n.email}`,style:{display:"inline-flex",alignItems:"center",gap:"0.25rem",color:"#1d71b8",textDecoration:"none",fontSize:"0.875rem"},children:[(0,lr.jsx)(ao,{style:{width:"1rem",height:"1rem"}}),n.email]}),n.phone&&(0,lr.jsxs)("a",{href:`tel:${n.phone}`,style:{display:"inline-flex",alignItems:"center",gap:"0.25rem",color:"#1d71b8",textDecoration:"none",fontSize:"0.875rem"},children:[(0,lr.jsx)(io,{style:{width:"1rem",height:"1rem"}}),n.phone]})]})]})]}),(0,lr.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"1rem",padding:"1rem 0",borderTop:"1px solid #e5e7eb",borderBottom:"1px solid #e5e7eb",marginBottom:"1rem"},children:[(0,lr.jsxs)("label",{htmlFor:"rp-status-select",style:{fontWeight:600,color:"#1f2937"},children:[(0,t.__)("Status","recruiting-playbook"),":"]}),(0,lr.jsx)("select",{id:"rp-status-select",value:n.status,onChange:e=>(async e=>{if(!n||c)return;const a=n.status;try{d(!0),o(t=>({...t,status:e})),await ir()({path:`/recruiting/v1/applications/${r}/status`,method:"PATCH",data:{status:e}})}catch(e){console.error("Error changing status:",e),o(e=>({...e,status:a})),alert(e.message||(0,t.__)("Fehler beim ndern des Status","recruiting-playbook"))}finally{d(!1)}})(e.target.value),disabled:c,style:{padding:"0.5rem 2rem 0.5rem 0.75rem",border:`2px solid ${b?.color||"#e5e7eb"}`,borderRadius:"0.375rem",fontSize:"0.875rem",backgroundColor:"#fff",cursor:c?"not-allowed":"pointer",minWidth:"180px"},children:mi.map(e=>(0,lr.jsx)("option",{value:e.value,children:e.label},e.value))}),c&&(0,lr.jsx)(fi,{size:"1rem"})]}),(0,lr.jsxs)("div",{style:{display:"flex",flexWrap:"wrap",gap:"1.5rem"},children:[n.job_title&&(0,lr.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",color:"#6b7280",fontSize:"0.875rem"},children:[(0,lr.jsx)(rr,{style:{width:"1rem",height:"1rem"}}),(0,lr.jsx)("span",{children:n.job_title})]}),(0,lr.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",color:"#6b7280",fontSize:"0.875rem"},children:[(0,lr.jsx)(lo,{style:{width:"1rem",height:"1rem"}}),(0,lr.jsxs)("span",{children:[(0,t.__)("Beworben am","recruiting-playbook"),": ",hi(n.created_at)]})]})]})]})}),"details"===u&&(0,lr.jsxs)(lr.Fragment,{children:[(0,lr.jsxs)(mo,{children:[(0,lr.jsx)(ho,{children:(0,lr.jsx)(go,{children:(0,t.__)("Kandidaten-Details","recruiting-playbook")})}),(0,lr.jsxs)(bo,{children:[(0,lr.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"1rem"},children:[n.salutation&&(0,lr.jsxs)("div",{children:[(0,lr.jsx)("div",{style:{fontSize:"0.75rem",color:"#6b7280",marginBottom:"0.25rem"},children:(0,t.__)("Anrede","recruiting-playbook")}),(0,lr.jsx)("div",{style:{fontSize:"0.875rem",color:"#1f2937"},children:n.salutation})]}),(0,lr.jsxs)("div",{children:[(0,lr.jsx)("div",{style:{fontSize:"0.75rem",color:"#6b7280",marginBottom:"0.25rem"},children:(0,t.__)("Vorname","recruiting-playbook")}),(0,lr.jsx)("div",{style:{fontSize:"0.875rem",color:"#1f2937"},children:n.first_name||"-"})]}),(0,lr.jsxs)("div",{children:[(0,lr.jsx)("div",{style:{fontSize:"0.75rem",color:"#6b7280",marginBottom:"0.25rem"},children:(0,t.__)("Nachname","recruiting-playbook")}),(0,lr.jsx)("div",{style:{fontSize:"0.875rem",color:"#1f2937"},children:n.last_name||"-"})]}),(0,lr.jsxs)("div",{children:[(0,lr.jsx)("div",{style:{fontSize:"0.75rem",color:"#6b7280",marginBottom:"0.25rem"},children:(0,t.__)("E-Mail","recruiting-playbook")}),(0,lr.jsx)("div",{style:{fontSize:"0.875rem",color:"#1f2937"},children:n.email?(0,lr.jsx)("a",{href:`mailto:${n.email}`,style:{color:"#1d71b8",textDecoration:"none"},children:n.email}):"-"})]}),(0,lr.jsxs)("div",{children:[(0,lr.jsx)("div",{style:{fontSize:"0.75rem",color:"#6b7280",marginBottom:"0.25rem"},children:(0,t.__)("Telefon","recruiting-playbook")}),(0,lr.jsx)("div",{style:{fontSize:"0.875rem",color:"#1f2937"},children:n.phone?(0,lr.jsx)("a",{href:`tel:${n.phone}`,style:{color:"#1d71b8",textDecoration:"none"},children:n.phone}):"-"})]}),(0,lr.jsxs)("div",{children:[(0,lr.jsx)("div",{style:{fontSize:"0.75rem",color:"#6b7280",marginBottom:"0.25rem"},children:(0,t.__)("Stelle","recruiting-playbook")}),(0,lr.jsx)("div",{style:{fontSize:"0.875rem",color:"#1f2937"},children:n.job_title||"-"})]}),(0,lr.jsxs)("div",{children:[(0,lr.jsx)("div",{style:{fontSize:"0.75rem",color:"#6b7280",marginBottom:"0.25rem"},children:(0,t.__)("Beworben am","recruiting-playbook")}),(0,lr.jsx)("div",{style:{fontSize:"0.875rem",color:"#1f2937"},children:hi(n.created_at)})]}),(0,lr.jsxs)("div",{children:[(0,lr.jsx)("div",{style:{fontSize:"0.75rem",color:"#6b7280",marginBottom:"0.25rem"},children:(0,t.__)("Quelle","recruiting-playbook")}),(0,lr.jsx)("div",{style:{fontSize:"0.875rem",color:"#1f2937"},children:n.source||"Website"})]})]}),n.cover_letter&&(0,lr.jsxs)("div",{style:{marginTop:"1.5rem",paddingTop:"1.5rem",borderTop:"1px solid #e5e7eb"},children:[(0,lr.jsx)("div",{style:{fontSize:"0.75rem",color:"#6b7280",marginBottom:"0.5rem"},children:(0,t.__)("Anschreiben","recruiting-playbook")}),(0,lr.jsx)("div",{style:{fontSize:"0.875rem",color:"#1f2937",lineHeight:1.6,whiteSpace:"pre-wrap",padding:"1rem",backgroundColor:"#f9fafb",borderRadius:"0.375rem"},dangerouslySetInnerHTML:{__html:n.cover_letter}})]})]})]}),(0,lr.jsxs)(mo,{children:[(0,lr.jsx)(ho,{children:(0,lr.jsx)(go,{children:(0,t.__)("Bewertung","recruiting-playbook")})}),(0,lr.jsx)(bo,{children:(0,lr.jsx)(ur,{applicationId:r,showDistribution:!0})})]})]}),"documents"===u&&(0,lr.jsxs)(mo,{children:[(0,lr.jsx)(ho,{children:(0,lr.jsxs)(go,{children:[(0,t.__)("Dokumente","recruiting-playbook")," (",y,")"]})}),(0,lr.jsx)(bo,{children:0===y?(0,lr.jsxs)("div",{style:{textAlign:"center",padding:"2rem",color:"#6b7280"},children:[(0,lr.jsx)(so,{style:{width:"3rem",height:"3rem",marginBottom:"0.75rem",opacity:.5}}),(0,lr.jsx)("p",{children:(0,t.__)("Keine Dokumente vorhanden","recruiting-playbook")})]}):(0,lr.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:n.documents.map(e=>(0,lr.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem",padding:"0.75rem 1rem",backgroundColor:"#f9fafb",borderRadius:"0.375rem"},children:[(0,lr.jsx)(so,{style:{width:"1.25rem",height:"1.25rem",color:"#6b7280",flexShrink:0}}),(0,lr.jsx)("span",{style:{flex:1,fontSize:"0.875rem",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:e.filename}),(0,lr.jsxs)("div",{style:{display:"flex",gap:"0.5rem"},children:[e.view_url&&(0,lr.jsx)(Kn,{variant:"outline",size:"sm",asChild:!0,children:(0,lr.jsxs)("a",{href:e.view_url,target:"_blank",rel:"noopener noreferrer",children:[(0,lr.jsx)(co,{style:{width:"0.875rem",height:"0.875rem",marginRight:"0.25rem"}}),(0,t.__)("Ansehen","recruiting-playbook")]})}),e.download_url&&(0,lr.jsx)(Kn,{size:"sm",asChild:!0,children:(0,lr.jsxs)("a",{href:e.download_url,download:!0,children:[(0,lr.jsx)(uo,{style:{width:"0.875rem",height:"0.875rem",marginRight:"0.25rem"}}),(0,t.__)("Download","recruiting-playbook")]})})]})]},e.id))})})]}),"notes"===u&&(0,lr.jsx)(mo,{children:(0,lr.jsx)(bo,{style:{padding:"1.5rem"},children:(0,lr.jsx)(So,{applicationId:r})})}),"timeline"===u&&(0,lr.jsx)(mo,{children:(0,lr.jsx)(bo,{style:{padding:"1.5rem"},children:(0,lr.jsx)(Mo,{applicationId:r})})}),"email"===u&&h&&(0,lr.jsx)(mo,{children:(0,lr.jsx)(bo,{style:{padding:"1.5rem"},children:(0,lr.jsx)(ui,{applicationId:r,recipient:{email:n.email,name:`${n.first_name} ${n.last_name}`}})})})]}),(0,lr.jsx)("div",{children:(0,lr.jsxs)(mo,{children:[(0,lr.jsx)(ho,{children:(0,lr.jsxs)(go,{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[(0,lr.jsx)(po,{style:{width:"1rem",height:"1rem"}}),(0,t.__)("Aktivitt","recruiting-playbook")]})}),(0,lr.jsx)(bo,{children:(0,lr.jsx)(Mo,{applicationId:r,compact:!0})})]})})]})]}),(0,lr.jsx)("style",{children:'\n\t\t\t\t@media (max-width: 1200px) {\n\t\t\t\t\t.rp-admin [style*="grid-template-columns: 1fr 380px"] {\n\t\t\t\t\t\tgrid-template-columns: 1fr !important;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t'})]});var x,v}function yi(e){return e?new Date(e).toLocaleDateString("de-DE",{day:"2-digit",month:"2-digit",year:"numeric"}):"-"}function xi({entry:t,onRemoved:r}){const[n,o]=(0,e.useState)(!1),[a,i]=(0,e.useState)(!1),[l,s]=(0,e.useState)(!1),[c,d]=(0,e.useState)(null),[u,p]=(0,e.useState)(t.reason||""),[m,h]=(0,e.useState)(t.tags||""),g=window.rpTalentPool||{},f=g.i18n||{},b=function(e){if(!e)return null;const t=new Date,r=new Date(e)-t;return Math.ceil(r/864e5)}(t.expires_at),y=(x=t.tags)?x.split(",").map(e=>e.trim()).filter(Boolean):[];var x;const v=null===b?"":b<=0?"expired":b<=30?"expires-soon":"";return(0,lr.jsxs)("div",{className:"rp-talent-card "+(v?`rp-talent-card--${v}`:""),children:[(0,lr.jsxs)("div",{className:"rp-talent-card__header",children:[(0,lr.jsx)("div",{className:"rp-talent-card__avatar",children:(k=t.first_name,w=t.last_name,`${k?.charAt(0)?.toUpperCase()||""}${w?.charAt(0)?.toUpperCase()||""}`||"?")}),(0,lr.jsxs)("div",{className:"rp-talent-card__info",children:[(0,lr.jsxs)("h3",{className:"rp-talent-card__name",children:[t.first_name," ",t.last_name]}),t.email&&(0,lr.jsx)("a",{href:`mailto:${t.email}`,className:"rp-talent-card__email",children:t.email})]}),(0,lr.jsxs)("div",{className:"rp-talent-card__actions",children:[!n&&(0,lr.jsx)("button",{type:"button",className:"rp-talent-card__action-btn",onClick:()=>o(!0),title:f.edit||"Bearbeiten",children:(0,lr.jsx)("span",{className:"dashicons dashicons-edit"})}),(0,lr.jsx)("button",{type:"button",className:"rp-talent-card__action-btn rp-talent-card__action-btn--delete",onClick:()=>i(!0),title:f.removeFromPool||"Aus Pool entfernen",children:(0,lr.jsx)("span",{className:"dashicons dashicons-trash"})})]})]}),v&&(0,lr.jsxs)("div",{className:`rp-talent-card__expiry-badge rp-talent-card__expiry-badge--${v}`,children:[(0,lr.jsx)("span",{className:"dashicons dashicons-warning"}),null===b?"":b<=0?f.expired||"Abgelaufen":b<=30?f.expiresSoon||"Luft bald ab":""]}),(0,lr.jsxs)("div",{className:"rp-talent-card__content",children:[c&&(0,lr.jsx)("div",{className:"notice notice-error notice-alt",children:(0,lr.jsx)("p",{children:c})}),n?(0,lr.jsxs)(lr.Fragment,{children:[(0,lr.jsxs)("div",{className:"rp-form-field",children:[(0,lr.jsx)("label",{htmlFor:`reason-${t.id}`,children:f.reason||"Begrndung"}),(0,lr.jsx)("textarea",{id:`reason-${t.id}`,value:u,onChange:e=>p(e.target.value),rows:3,disabled:l})]}),(0,lr.jsxs)("div",{className:"rp-form-field",children:[(0,lr.jsx)("label",{htmlFor:`tags-${t.id}`,children:f.tags||"Tags"}),(0,lr.jsx)("input",{type:"text",id:`tags-${t.id}`,value:m,onChange:e=>h(e.target.value),placeholder:"php, react, senior",disabled:l})]}),(0,lr.jsxs)("div",{className:"rp-talent-card__edit-actions",children:[(0,lr.jsx)("button",{type:"button",className:"button",onClick:()=>{p(t.reason||""),h(t.tags||""),o(!1),d(null)},disabled:l,children:f.cancel||"Abbrechen"}),(0,lr.jsx)("button",{type:"button",className:"button button-primary",onClick:async()=>{try{s(!0),d(null),await ir()({path:`/recruiting/v1/talent-pool/${t.candidate_id}`,method:"PATCH",data:{reason:u,tags:m}}),t.reason=u,t.tags=m,o(!1)}catch(e){console.error("Error saving:",e),d(e.message||f.errorSaving||"Fehler beim Speichern.")}finally{s(!1)}},disabled:l,children:l?(0,lr.jsx)("span",{className:"spinner is-active"}):f.save||"Speichern"})]})]}):(0,lr.jsxs)(lr.Fragment,{children:[t.reason&&(0,lr.jsxs)("div",{className:"rp-talent-card__reason",children:[(0,lr.jsx)("h4",{children:f.reason||"Begrndung"}),(0,lr.jsx)("p",{children:t.reason})]}),(0,lr.jsx)("div",{className:"rp-talent-card__tags",children:y.length>0?y.map(e=>(0,lr.jsx)("span",{className:"rp-talent-card__tag",children:e},e)):(0,lr.jsx)("span",{className:"rp-talent-card__no-tags",children:f.noTags||"Keine Tags"})})]})]}),(0,lr.jsxs)("div",{className:"rp-talent-card__footer",children:[(0,lr.jsxs)("div",{className:"rp-talent-card__dates",children:[(0,lr.jsxs)("div",{className:"rp-talent-card__date",children:[(0,lr.jsx)("span",{className:"dashicons dashicons-calendar-alt"}),(0,lr.jsxs)("span",{children:[f.addedOn||"Hinzugefgt am",": ",yi(t.created_at)]})]}),t.expires_at&&(0,lr.jsxs)("div",{className:"rp-talent-card__date "+(v?`rp-talent-card__date--${v}`:""),children:[(0,lr.jsx)("span",{className:"dashicons dashicons-clock"}),(0,lr.jsxs)("span",{children:[f.expiresOn||"Luft ab am",": ",yi(t.expires_at)]})]})]}),g.applicationUrl&&t.application_id&&(0,lr.jsxs)("a",{href:`${g.applicationUrl}${t.application_id}`,className:"button button-small",children:[(0,lr.jsx)("span",{className:"dashicons dashicons-visibility"}),f.viewApplication||"Bewerbung anzeigen"]})]}),a&&(0,lr.jsx)("div",{className:"rp-modal-overlay",onClick:()=>i(!1),children:(0,lr.jsxs)("div",{className:"rp-modal rp-modal--small",onClick:e=>e.stopPropagation(),children:[(0,lr.jsxs)("div",{className:"rp-modal__header",children:[(0,lr.jsx)("h3",{children:f.removeFromPool||"Aus Pool entfernen"}),(0,lr.jsx)("button",{type:"button",className:"rp-modal__close",onClick:()=>i(!1),children:(0,lr.jsx)("span",{className:"dashicons dashicons-no-alt"})})]}),(0,lr.jsxs)("div",{className:"rp-modal__body",children:[(0,lr.jsx)("p",{children:f.confirmRemove||"Kandidat wirklich aus dem Talent-Pool entfernen?"}),(0,lr.jsx)("p",{className:"rp-modal__candidate-name",children:(0,lr.jsxs)("strong",{children:[t.first_name," ",t.last_name]})}),c&&(0,lr.jsx)("div",{className:"notice notice-error",children:(0,lr.jsx)("p",{children:c})})]}),(0,lr.jsxs)("div",{className:"rp-modal__footer",children:[(0,lr.jsx)("button",{type:"button",className:"button",onClick:()=>i(!1),disabled:l,children:f.cancel||"Abbrechen"}),(0,lr.jsx)("button",{type:"button",className:"button button-primary button-link-delete",onClick:async()=>{try{s(!0),d(null),await ir()({path:`/recruiting/v1/talent-pool/${t.candidate_id}`,method:"DELETE"}),i(!1),r&&r(t.candidate_id)}catch(e){console.error("Error removing from pool:",e),d(e.message||f.errorRemoving||"Fehler beim Entfernen.")}finally{s(!1)}},disabled:l,children:l?(0,lr.jsx)("span",{className:"spinner is-active"}):f.removeFromPool||"Entfernen"})]})]})})]});var k,w}function vi(){const[t,r]=(0,e.useState)([]),[n,o]=(0,e.useState)(""),[a,i]=(0,e.useState)(""),l=window.rpTalentPool||{},s=l.i18n||{},{items:c,loading:d,error:u,total:p,totalPages:m,page:h,setSearch:g,setTags:f,setPage:b,refetch:y}=function(t={}){const[r,n]=(0,e.useState)([]),[o,a]=(0,e.useState)(!0),[i,l]=(0,e.useState)(null),[s,c]=(0,e.useState)(0),[d,u]=(0,e.useState)(0),[p,m]=(0,e.useState)({page:1,per_page:20,search:"",tags:"",orderby:"created_at",order:"DESC",...t}),h=(0,e.useCallback)(async()=>{try{a(!0),l(null);const e=new URLSearchParams;Object.entries(p).forEach(([t,r])=>{""!==r&&null!==r&&e.append(t,r)});const t=await ir()({path:`/recruiting/v1/talent-pool?${e.toString()}`,parse:!1}),r=await t.json();c(parseInt(t.headers.get("X-WP-Total")||"0",10)),u(parseInt(t.headers.get("X-WP-TotalPages")||"0",10)),n(Array.isArray(r)?r:[])}catch(e){console.error("Error fetching talent pool list:",e),l(e.message||window.rpApplicant?.i18n?.errorLoadingTalentPoolList||"Fehler beim Laden der Talent-Pool Liste")}finally{a(!1)}},[p]);(0,e.useEffect)(()=>{h()},[h]);const g=(0,e.useCallback)(e=>{m(t=>({...t,search:e,page:1}))},[]),f=(0,e.useCallback)(e=>{m(t=>({...t,tags:e,page:1}))},[]),b=(0,e.useCallback)(e=>{m(t=>({...t,page:e}))},[]),y=(0,e.useCallback)((e,t="DESC")=>{m(r=>({...r,orderby:e,order:t,page:1}))},[]);return{items:r,loading:o,error:i,total:s,totalPages:d,page:p.page,search:p.search,tags:p.tags,setSearch:g,setTags:f,setPage:b,setOrder:y,refetch:h}}(),x=(0,e.useCallback)(async()=>{try{const e=await fetch(`${l.apiUrl}talent-pool/tags`,{headers:{"X-WP-Nonce":l.nonce}});if(e.ok){const t=await e.json();r(t||[])}}catch(e){console.error("Error loading tags:",e)}},[l.apiUrl,l.nonce]);(0,e.useEffect)(()=>{x()},[x]),(0,e.useEffect)(()=>{const e=setTimeout(()=>{g(a)},300);return()=>clearTimeout(e)},[a,g]);const v=e=>{y(),x()};return d&&0===c.length?(0,lr.jsx)("div",{className:"rp-talent-pool rp-talent-pool--loading",children:(0,lr.jsxs)("div",{className:"rp-talent-pool__loading",children:[(0,lr.jsx)("span",{className:"spinner is-active"}),s.loading||"Lade Talent-Pool..."]})}):u&&0===c.length?(0,lr.jsxs)("div",{className:"rp-talent-pool rp-talent-pool--error",children:[(0,lr.jsx)("div",{className:"notice notice-error",children:(0,lr.jsx)("p",{children:u})}),(0,lr.jsx)("button",{type:"button",className:"button",onClick:y,children:s.retry||"Erneut versuchen"})]}):(0,lr.jsxs)("div",{className:"rp-talent-pool",children:[(0,lr.jsx)("div",{className:"rp-talent-pool__header",children:(0,lr.jsxs)("div",{className:"rp-talent-pool__title-section",children:[(0,lr.jsxs)("h1",{className:"rp-talent-pool__title",children:[(0,lr.jsx)("span",{className:"dashicons dashicons-groups"}),s.title||"Talent-Pool"]}),(0,lr.jsx)("p",{className:"rp-talent-pool__subtitle",children:s.subtitle||"Vielversprechende Kandidaten fr zuknftige Stellen"})]})}),(0,lr.jsxs)("div",{className:"rp-talent-pool__filters",children:[(0,lr.jsxs)("div",{className:"rp-talent-pool__search",children:[(0,lr.jsx)("span",{className:"dashicons dashicons-search"}),(0,lr.jsx)("input",{type:"text",placeholder:s.search||"Kandidaten suchen...",value:a,onChange:e=>i(e.target.value),className:"rp-talent-pool__search-input"}),a&&(0,lr.jsx)("button",{type:"button",className:"rp-talent-pool__search-clear",onClick:()=>i(""),"aria-label":"Clear search",children:(0,lr.jsx)("span",{className:"dashicons dashicons-no-alt"})})]}),(0,lr.jsxs)("div",{className:"rp-talent-pool__filter-group",children:[(0,lr.jsx)("label",{htmlFor:"rp-tag-filter",className:"screen-reader-text",children:s.filterByTags||"Nach Tags filtern"}),(0,lr.jsxs)("select",{id:"rp-tag-filter",value:n,onChange:e=>{const t=e.target.value;o(t),f(t)},className:"rp-talent-pool__tag-filter",children:[(0,lr.jsx)("option",{value:"",children:s.allTags||"Alle Tags"}),t.map(e=>(0,lr.jsx)("option",{value:e,children:e},e))]})]})]}),(0,lr.jsxs)("div",{className:"rp-talent-pool__gdpr-notice",children:[(0,lr.jsx)("span",{className:"dashicons dashicons-info-outline"}),s.gdprNotice||"DSGVO-Hinweis: Kandidaten werden nach Ablauf automatisch aus dem Pool entfernt."]}),0===c.length?(0,lr.jsxs)("div",{className:"rp-talent-pool__empty",children:[(0,lr.jsx)("div",{className:"rp-talent-pool__empty-icon",children:(0,lr.jsx)("span",{className:"dashicons dashicons-groups"})}),(0,lr.jsx)("h2",{children:s.emptyPool||"Der Talent-Pool ist noch leer."}),(0,lr.jsx)("p",{children:s.emptyPoolHint||"Fgen Sie vielversprechende Kandidaten aus der Bewerbungsdetailseite zum Talent-Pool hinzu."}),(0,lr.jsx)("a",{href:l.applicationsUrl||"#",className:"button button-primary",children:s.goToApplications||"Zu den Bewerbungen"})]}):(0,lr.jsxs)(lr.Fragment,{children:[(0,lr.jsx)("div",{className:"rp-talent-pool__grid",children:c.map(e=>(0,lr.jsx)(xi,{entry:e,onRemoved:v},e.id))}),m>1&&(0,lr.jsxs)("div",{className:"rp-talent-pool__pagination",children:[(0,lr.jsxs)("div",{className:"rp-talent-pool__pagination-info",children:[s.page||"Seite"," ",h," ",s.of||"von"," ",m," ","(",s.total||"Gesamt",": ",p,")"]}),(0,lr.jsxs)("div",{className:"rp-talent-pool__pagination-buttons",children:[(0,lr.jsxs)("button",{type:"button",className:"button",onClick:()=>b(h-1),disabled:h<=1||d,children:[(0,lr.jsx)("span",{className:"dashicons dashicons-arrow-left-alt2"}),s.previous||"Vorherige"]}),(0,lr.jsxs)("button",{type:"button",className:"button",onClick:()=>b(h+1),disabled:h>=m||d,children:[s.next||"Nchste",(0,lr.jsx)("span",{className:"dashicons dashicons-arrow-right-alt2"})]})]})]})]}),d&&c.length>0&&(0,lr.jsx)("div",{className:"rp-talent-pool__loading-overlay",children:(0,lr.jsx)("span",{className:"spinner is-active"})})]})}const ki=er("sparkles",[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]]),wi=er("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),ji=er("external-link",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]),_i=(0,e.forwardRef)(({className:e,type:t,...r},n)=>(0,lr.jsx)("input",{type:t,className:Vn("rp-flex rp-h-10 rp-w-full rp-rounded-md rp-border rp-border-input rp-bg-background rp-px-3 rp-py-2 rp-text-sm rp-ring-offset-background file:rp-border-0 file:rp-bg-transparent file:rp-text-sm file:rp-font-medium file:rp-text-foreground placeholder:rp-text-muted-foreground focus-visible:rp-outline-none focus-visible:rp-ring-2 focus-visible:rp-ring-ring focus-visible:rp-ring-offset-2 disabled:rp-cursor-not-allowed disabled:rp-opacity-50",e),ref:n,...r}));_i.displayName="Input";const Si=Tr("rp-relative rp-w-full rp-rounded-lg rp-border rp-p-4 [&>svg~*]:rp-pl-7 [&>svg+div]:rp-translate-y-[-3px] [&>svg]:rp-absolute [&>svg]:rp-left-4 [&>svg]:rp-top-4 [&>svg]:rp-text-foreground",{variants:{variant:{default:"rp-bg-background rp-text-foreground",success:"",destructive:"rp-border-destructive/50 rp-text-destructive rp-bg-destructive/10 [&>svg]:rp-text-destructive",warning:"rp-border-yellow-500/50 rp-text-yellow-700 rp-bg-yellow-50 [&>svg]:rp-text-yellow-600",info:"rp-border-blue-500/50 rp-text-blue-700 rp-bg-blue-50 [&>svg]:rp-text-blue-600"}},defaultVariants:{variant:"default"}}),Ci=(0,e.forwardRef)(({className:e,variant:t,style:r,...n},o)=>{const a={success:{backgroundColor:"#e6f5ec",borderLeft:"4px solid #2fac66",borderTop:"1px solid #c3e6d1",borderRight:"1px solid #c3e6d1",borderBottom:"1px solid #c3e6d1",color:"#2fac66"},info:{backgroundColor:"#edf4f9",borderLeft:"4px solid #1d71b8",borderTop:"1px solid #d1e3f0",borderRight:"1px solid #d1e3f0",borderBottom:"1px solid #d1e3f0",color:"#1d71b8"}}[t]||{};return(0,lr.jsx)("div",{ref:o,role:"alert",className:Vn(Si({variant:t}),e),style:{padding:"1rem 1rem 1rem 3rem",position:"relative",borderRadius:"0.375rem",...a,...r},...n})});Ci.displayName="Alert",(0,e.forwardRef)(({className:e,...t},r)=>(0,lr.jsx)("h5",{ref:r,className:Vn("rp-mb-1 rp-font-medium rp-leading-none rp-tracking-tight",e),style:{fontWeight:500,marginBottom:"0.25rem"},...t})).displayName="AlertTitle";const Ni=(0,e.forwardRef)(({className:e,...t},r)=>(0,lr.jsx)("div",{ref:r,className:Vn("rp-text-sm [&_p]:rp-leading-relaxed",e),style:{fontSize:"0.875rem"},...t}));function Ei({status:e,isOffline:t}){const r=e.is_active,n=r?"#2fac66":"#1d71b8",o={backgroundColor:r?"#e6f5ec":"#edf4f9",borderLeft:"4px solid "+(r?"#2fac66":"#1d71b8"),borderTop:"1px solid "+(r?"#c3e6d1":"#d1e3f0"),borderRight:"1px solid "+(r?"#c3e6d1":"#d1e3f0"),borderBottom:"1px solid "+(r?"#c3e6d1":"#d1e3f0"),borderRadius:"0.375rem",padding:"1rem 1.25rem",marginBottom:"1.5rem",display:"flex",alignItems:"center",justifyContent:"space-between",minHeight:"56px"},a={backgroundColor:r?"#2fac66":"#1d71b8",color:"#ffffff",padding:"0.25rem 0.75rem",borderRadius:"9999px",fontSize:"0.75rem",fontWeight:600};return(0,lr.jsxs)("div",{style:o,children:[(0,lr.jsx)("span",{style:{fontSize:"1rem",fontWeight:600,color:n},children:e.message}),(0,lr.jsx)("span",{style:a,children:e.tier})]})}function Ti({status:r,onActivate:n,onDeactivate:o,isLoading:a}){const[i,l]=(0,e.useState)("");return(0,lr.jsxs)("form",{onSubmit:e=>{e.preventDefault(),n(i)},children:[(0,lr.jsxs)("div",{style:{marginBottom:"1rem"},children:[(0,lr.jsx)("label",{htmlFor:"license-key",className:"rp-text-sm rp-font-medium rp-leading-none",style:{display:"block",marginBottom:"0.5rem"},children:(0,t.__)("Lizenzschlssel","recruiting-playbook")}),(0,lr.jsx)(_i,{id:"license-key",type:"text",placeholder:"RP-PRO-XXXX-XXXX-XXXX-XXXX-XXXX",value:i,onChange:e=>l(e.target.value.toUpperCase()),className:"rp-font-mono rp-uppercase",disabled:a}),(0,lr.jsx)("p",{className:"rp-text-sm rp-text-muted-foreground",style:{marginTop:"0.5rem"},children:(0,t.__)("Geben Sie Ihren Lizenzschlssel ein, um Pro-Features freizuschalten.","recruiting-playbook")})]}),(0,lr.jsxs)("div",{style:{display:"flex",gap:"0.75rem",marginTop:"1.5rem"},children:[(0,lr.jsx)(Kn,{type:"submit",disabled:a||!i,children:a?(0,t.__)("Wird aktiviert...","recruiting-playbook"):(0,t.__)("Lizenz aktivieren","recruiting-playbook")}),r.is_active&&(0,lr.jsx)(Kn,{type:"button",variant:"outline",onClick:o,disabled:a,children:(0,t.__)("Lizenz deaktivieren","recruiting-playbook")})]})]})}function Ri({upgradeUrl:e}){const r=[(0,t.__)("Kanban-Board fr Bewerbungsmanagement","recruiting-playbook"),(0,t.__)("REST API & Webhooks fr Integrationen","recruiting-playbook"),(0,t.__)("Anpassbare E-Mail-Templates","recruiting-playbook"),(0,t.__)("Erweiterte Statistiken & Reports","recruiting-playbook"),(0,t.__)("Design-Anpassungen & Custom Branding","recruiting-playbook"),(0,t.__)("Benutzerrollen & Berechtigungen","recruiting-playbook")];return(0,lr.jsxs)("div",{style:{marginTop:"1.5rem",borderRadius:"0.5rem",padding:"1.5rem",background:"linear-gradient(to bottom right, #2fac66, #36a9e1)",color:"#ffffff"},children:[(0,lr.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"0.75rem"},children:[(0,lr.jsx)(ki,{style:{width:"1.25rem",height:"1.25rem",color:"#ffffff"}}),(0,lr.jsx)("h3",{style:{fontSize:"1.125rem",fontWeight:600,color:"#ffffff",margin:0},children:(0,t.__)("Upgrade auf Pro","recruiting-playbook")})]}),(0,lr.jsx)("p",{style:{marginBottom:"1rem",color:"#ffffff"},children:(0,t.__)("Schalten Sie alle Features frei und nutzen Sie das volle Potenzial:","recruiting-playbook")}),(0,lr.jsx)("ul",{style:{marginBottom:"1.5rem",listStyle:"none",padding:0},children:r.map((e,t)=>(0,lr.jsxs)("li",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"0.5rem",color:"#ffffff"},children:[(0,lr.jsx)(wi,{style:{width:"1rem",height:"1rem",color:"#ffffff"}}),(0,lr.jsx)("span",{children:e})]},t))}),(0,lr.jsxs)("a",{href:e,target:"_blank",rel:"noopener noreferrer",style:{display:"inline-flex",alignItems:"center",gap:"0.5rem",padding:"0.5rem 1rem",backgroundColor:"#ffffff",color:"#1d71b8",borderRadius:"0.375rem",fontWeight:500,textDecoration:"none",fontSize:"0.875rem"},children:[(0,t.__)("Jetzt upgraden","recruiting-playbook"),(0,lr.jsx)(ji,{style:{width:"1rem",height:"1rem"}})]})]})}function Ai({features:e}){const r=[{key:"FREE",label:"Free"},{key:"PRO",label:"Pro"},{key:"AI_ADDON",label:"AI Addon"},{key:"BUNDLE",label:"Bundle"}],n={unlimited_jobs:(0,t.__)("Unbegrenzte Stellenanzeigen","recruiting-playbook"),application_list:(0,t.__)("Bewerberliste","recruiting-playbook"),kanban_board:(0,t.__)("Kanban-Board","recruiting-playbook"),advanced_applicant_management:(0,t.__)("Erweitertes Bewerbermanagement","recruiting-playbook"),email_templates:(0,t.__)("E-Mail-Templates","recruiting-playbook"),api_access:(0,t.__)("REST API Zugang","recruiting-playbook"),webhooks:(0,t.__)("Webhooks","recruiting-playbook"),design_settings:(0,t.__)("Design-Einstellungen","recruiting-playbook"),user_roles:(0,t.__)("Benutzerrollen","recruiting-playbook"),ai_job_generation:(0,t.__)("KI-Stellenanzeigen","recruiting-playbook"),ai_text_improvement:(0,t.__)("KI-Textverbesserung","recruiting-playbook")};return(0,lr.jsxs)(mo,{style:{marginTop:"2rem"},children:[(0,lr.jsxs)(ho,{children:[(0,lr.jsx)(go,{children:(0,t.__)("Feature-Vergleich","recruiting-playbook")}),(0,lr.jsx)(fo,{children:(0,t.__)("Vergleichen Sie die verfgbaren Features pro Lizenz-Stufe.","recruiting-playbook")})]}),(0,lr.jsx)(bo,{children:(0,lr.jsxs)(Ja,{children:[(0,lr.jsx)(Qa,{children:(0,lr.jsxs)(ti,{children:[(0,lr.jsx)(ri,{className:"rp-w-[300px]",children:(0,t.__)("Feature","recruiting-playbook")}),r.map(e=>(0,lr.jsx)(ri,{className:"rp-text-center",children:e.label},e.key))]})}),(0,lr.jsx)(ei,{children:Object.entries(n).map(([t,n])=>(0,lr.jsxs)(ti,{children:[(0,lr.jsx)(ni,{className:"rp-font-medium",children:n}),r.map(r=>{const n=e[r.key]?.[t];return(0,lr.jsx)(ni,{className:"rp-text-center",children:n?(0,lr.jsx)(wi,{className:"rp-mx-auto rp-h-5 rp-w-5",style:{color:"#2fac66"}}):(0,lr.jsx)(mr,{className:"rp-mx-auto rp-h-5 rp-w-5",style:{color:"#d1d5db"}})},r.key)})]},t))})]})})]})}function Di(){const r=window.rpLicenseData||{},[n,o]=(0,e.useState)(r.status||{}),[a,i]=(0,e.useState)(!1),[l,s]=(0,e.useState)(null),c=r.logoUrl;return(0,lr.jsx)("div",{className:"rp-admin",style:{padding:"20px 0"},children:(0,lr.jsxs)("div",{style:{maxWidth:"900px"},children:[c&&(0,lr.jsx)("div",{style:{marginBottom:"1.5rem"},children:(0,lr.jsx)("img",{src:c,alt:"Recruiting Playbook",style:{width:"150px",height:"auto"}})}),l&&(0,lr.jsx)(Ci,{variant:"success"===l.type?"success":"destructive",style:{marginBottom:"1.5rem"},children:(0,lr.jsx)(Ni,{children:l.text})}),(0,lr.jsxs)(mo,{children:[(0,lr.jsx)(ho,{children:(0,lr.jsx)(go,{children:(0,t.__)("Lizenzstatus","recruiting-playbook")})}),(0,lr.jsxs)(bo,{children:[(0,lr.jsx)(Ei,{status:n,isOffline:n.is_offline}),(0,lr.jsx)(Ti,{status:n,onActivate:async e=>{i(!0),s(null);try{const t=await ir()({path:"/recruiting/v1/license/activate",method:"POST",data:{license_key:e}});t.success?(o(t.status),s({type:"success",text:t.message})):s({type:"error",text:t.message})}catch(e){s({type:"error",text:e.message||(0,t.__)("Ein Fehler ist aufgetreten.","recruiting-playbook")})}finally{i(!1)}},onDeactivate:async()=>{i(!0),s(null);try{const e=await ir()({path:"/recruiting/v1/license/deactivate",method:"POST"});e.success?(o(e.status),s({type:"success",text:e.message})):s({type:"error",text:e.message})}catch(e){s({type:"error",text:e.message||(0,t.__)("Ein Fehler ist aufgetreten.","recruiting-playbook")})}finally{i(!1)}},isLoading:a}),"FREE"===n.tier&&(0,lr.jsx)(Ri,{upgradeUrl:n.upgrade_url})]})]}),(0,lr.jsx)(Ai,{features:r.features||{}})]})})}Ni.displayName="AlertDescription";const zi=er("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),Ii=er("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);function Mi({title:e,value:t,description:r,valueColor:n="#1f2937"}){return(0,lr.jsxs)(mo,{children:[(0,lr.jsx)(ho,{style:{padding:"1.5rem",paddingBottom:"0.5rem"},children:(0,lr.jsx)("span",{style:{fontSize:"0.875rem",fontWeight:500,color:"#6b7280"},children:e})}),(0,lr.jsxs)(bo,{style:{padding:"1.5rem",paddingTop:"0"},children:[(0,lr.jsx)("div",{style:{fontSize:"2rem",fontWeight:700,color:n,lineHeight:1.2},children:t}),r&&(0,lr.jsx)("p",{style:{fontSize:"0.75rem",color:"#6b7280",marginTop:"0.25rem"},children:r})]})]})}function Li({title:e,message:t,actionUrl:r,actionLabel:n}){return(0,lr.jsx)(Ci,{style:{backgroundColor:"#fef3c7",borderLeft:"4px solid #f59e0b",borderTop:"1px solid #fcd34d",borderRight:"1px solid #fcd34d",borderBottom:"1px solid #fcd34d",marginBottom:"1rem"},children:(0,lr.jsxs)("div",{children:[(0,lr.jsx)("div",{style:{fontWeight:600,color:"#92400e",marginBottom:"0.25rem"},children:e}),(0,lr.jsx)(Ni,{style:{color:"#a16207"},children:t}),r&&n&&(0,lr.jsx)("div",{style:{marginTop:"0.75rem"},children:(0,lr.jsx)("a",{href:r,target:"_blank",rel:"noopener noreferrer",style:{display:"inline-flex",alignItems:"center",padding:"0.375rem 0.75rem",backgroundColor:"#ffffff",color:"#92400e",border:"1px solid #fcd34d",borderRadius:"0.375rem",fontSize:"0.875rem",fontWeight:500,textDecoration:"none"},children:n})})]})})}function Oi({name:e,label:t,exists:r}){return(0,lr.jsxs)("tr",{children:[(0,lr.jsx)("td",{style:{padding:"0.75rem 1rem",borderBottom:"1px solid #e5e7eb"},children:(0,lr.jsx)("code",{style:{backgroundColor:"#f3f4f6",padding:"0.125rem 0.375rem",borderRadius:"0.25rem",fontSize:"0.8125rem"},children:e})}),(0,lr.jsx)("td",{style:{padding:"0.75rem 1rem",borderBottom:"1px solid #e5e7eb"},children:t}),(0,lr.jsx)("td",{style:{padding:"0.75rem 1rem",borderBottom:"1px solid #e5e7eb",textAlign:"center"},children:r?(0,lr.jsx)(zi,{style:{width:"1.25rem",height:"1.25rem",color:"#2fac66"}}):(0,lr.jsx)(Ii,{style:{width:"1.25rem",height:"1.25rem",color:"#ef4444"}})})]})}function Pi({label:e,value:t}){return(0,lr.jsxs)("tr",{children:[(0,lr.jsx)("td",{style:{padding:"0.75rem 1rem",borderBottom:"1px solid #e5e7eb",fontWeight:500},children:e}),(0,lr.jsx)("td",{style:{padding:"0.75rem 1rem",borderBottom:"1px solid #e5e7eb"},children:(0,lr.jsx)("code",{style:{backgroundColor:"#f3f4f6",padding:"0.125rem 0.375rem",borderRadius:"0.25rem",fontSize:"0.8125rem"},children:t})})]})}function Bi(){const e=window.rpDashboardData||{},r=e.stats||{},n=e.notices||[],o=e.tables||{},a=e.systemInfo||{},i=e.logoUrl,l=Object.values(o).every(e=>e.exists);return(0,lr.jsx)("div",{className:"rp-admin",style:{padding:"20px 0"},children:(0,lr.jsxs)("div",{style:{maxWidth:"1200px"},children:[i&&(0,lr.jsx)("div",{style:{marginBottom:"1.5rem"},children:(0,lr.jsx)("img",{src:i,alt:"Recruiting Playbook",style:{width:"150px",height:"auto"}})}),(0,lr.jsx)("h1",{style:{fontSize:"1.5rem",fontWeight:700,color:"#1f2937",marginBottom:"1.5rem"},children:(0,t.__)("Dashboard","recruiting-playbook")}),n.length>0&&(0,lr.jsx)("div",{style:{marginBottom:"1.5rem"},children:n.map((e,t)=>(0,lr.jsx)(Li,{title:e.title,message:e.message,actionUrl:e.actionUrl,actionLabel:e.actionLabel},t))}),(0,lr.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(240px, 1fr))",gap:"1.5rem",marginBottom:"2rem"},children:[(0,lr.jsx)(Mi,{title:(0,t.__)("Aktive Stellen","recruiting-playbook"),value:r.activeJobs||0,description:(0,t.__)("Verffentlichte Stellenanzeigen","recruiting-playbook"),valueColor:"#1d71b8"}),(0,lr.jsx)(Mi,{title:(0,t.__)("Neue Bewerbungen","recruiting-playbook"),value:r.newApplications||0,description:(0,t.__)("Noch nicht bearbeitet","recruiting-playbook"),valueColor:"#2fac66"}),(0,lr.jsx)(Mi,{title:(0,t.__)("Gesamt Bewerbungen","recruiting-playbook"),value:r.totalApplications||0,description:(0,t.__)("Alle eingegangenen Bewerbungen","recruiting-playbook")})]}),(0,lr.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(400px, 1fr))",gap:"1.5rem"},children:[(0,lr.jsxs)(mo,{children:[(0,lr.jsxs)(ho,{children:[(0,lr.jsx)(go,{children:(0,t.__)("Datenbank-Integritt","recruiting-playbook")}),(0,lr.jsx)(fo,{children:l?(0,t.__)("Alle Tabellen sind vorhanden","recruiting-playbook"):(0,t.__)("Einige Tabellen fehlen","recruiting-playbook")})]}),(0,lr.jsxs)(bo,{children:[(0,lr.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"1rem",padding:"0.5rem 0.75rem",backgroundColor:l?"#e6f5ec":"#fef2f2",borderRadius:"0.375rem",width:"fit-content"},children:[l?(0,lr.jsx)(zi,{style:{width:"1rem",height:"1rem",color:"#2fac66"}}):(0,lr.jsx)(Ii,{style:{width:"1rem",height:"1rem",color:"#ef4444"}}),(0,lr.jsx)("span",{style:{fontSize:"0.875rem",fontWeight:500,color:l?"#166534":"#991b1b"},children:l?(0,t.__)("Alles OK","recruiting-playbook"):(0,t.__)("Fehler gefunden","recruiting-playbook")})]}),(0,lr.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:"0.875rem"},children:[(0,lr.jsx)("thead",{children:(0,lr.jsxs)("tr",{style:{backgroundColor:"#f9fafb"},children:[(0,lr.jsx)("th",{style:{padding:"0.75rem 1rem",textAlign:"left",fontWeight:500,color:"#6b7280",borderBottom:"1px solid #e5e7eb"},children:(0,t.__)("Tabelle","recruiting-playbook")}),(0,lr.jsx)("th",{style:{padding:"0.75rem 1rem",textAlign:"left",fontWeight:500,color:"#6b7280",borderBottom:"1px solid #e5e7eb"},children:(0,t.__)("Beschreibung","recruiting-playbook")}),(0,lr.jsx)("th",{style:{padding:"0.75rem 1rem",textAlign:"center",fontWeight:500,color:"#6b7280",borderBottom:"1px solid #e5e7eb"},children:(0,t.__)("Status","recruiting-playbook")})]})}),(0,lr.jsx)("tbody",{children:Object.entries(o).map(([e,t])=>(0,lr.jsx)(Oi,{name:t.name,label:t.label,exists:t.exists},e))})]}),!l&&(0,lr.jsx)("p",{style:{marginTop:"1rem",fontSize:"0.875rem",color:"#ef4444"},children:(0,t.__)("Bitte deaktivieren und reaktivieren Sie das Plugin, um die fehlenden Tabellen zu erstellen.","recruiting-playbook")})]})]}),(0,lr.jsxs)(mo,{children:[(0,lr.jsxs)(ho,{children:[(0,lr.jsx)(go,{children:(0,t.__)("System-Info","recruiting-playbook")}),(0,lr.jsx)(fo,{children:(0,t.__)("Technische Informationen","recruiting-playbook")})]}),(0,lr.jsx)(bo,{children:(0,lr.jsx)("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:"0.875rem"},children:(0,lr.jsxs)("tbody",{children:[(0,lr.jsx)(Pi,{label:(0,t.__)("Plugin Version","recruiting-playbook"),value:a.pluginVersion||"-"}),(0,lr.jsx)(Pi,{label:(0,t.__)("PHP Version","recruiting-playbook"),value:a.phpVersion||"-"}),(0,lr.jsx)(Pi,{label:(0,t.__)("WordPress Version","recruiting-playbook"),value:a.wpVersion||"-"}),(0,lr.jsx)(Pi,{label:(0,t.__)("Datenbank-Version","recruiting-playbook"),value:a.dbVersion||"-"})]})})})]})]})]})})}const $i=er("chevrons-left",[["path",{d:"m11 17-5-5 5-5",key:"13zhaf"}],["path",{d:"m18 17-5-5 5-5",key:"h8a8et"}]]),Fi=er("chevrons-right",[["path",{d:"m6 17 5-5-5-5",key:"xnjwq"}],["path",{d:"m13 17 5-5-5-5",key:"17xmmf"}]]),Wi=er("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]),Ui={new:{label:"Neu",color:"#2271b1",bg:"#e6f3ff"},screening:{label:"In Prfung",color:"#dba617",bg:"#fff8e6"},interview:{label:"Interview",color:"#9b59b6",bg:"#f5e6ff"},offer:{label:"Angebot",color:"#1e8cbe",bg:"#e6f5ff"},hired:{label:"Eingestellt",color:"#2fac66",bg:"#e6f5ec"},rejected:{label:"Abgelehnt",color:"#d63638",bg:"#ffe6e6"},withdrawn:{label:"Zurckgezogen",color:"#787c82",bg:"#f0f0f0"}};function Hi({status:e,label:t,count:r,isActive:n,onClick:o}){const a=Ui[e]||{color:"#787c82"};return(0,lr.jsxs)("button",{type:"button",onClick:o,style:{padding:"0.5rem 1rem",border:"none",background:n?a.bg||"#f3f4f6":"transparent",borderBottom:n?`2px solid ${a.color}`:"2px solid transparent",color:n?a.color:"#6b7280",fontWeight:n?600:400,fontSize:"0.875rem",cursor:"pointer",display:"flex",alignItems:"center",gap:"0.5rem",transition:"all 0.15s ease"},children:[t,(0,lr.jsx)("span",{style:{backgroundColor:n?a.color:"#e5e7eb",color:n?"#fff":"#6b7280",padding:"0.125rem 0.5rem",borderRadius:"9999px",fontSize:"0.75rem",fontWeight:500},children:r})]})}function Vi({status:e}){const t=Ui[e]||{label:e,color:"#787c82",bg:"#f0f0f0"};return(0,lr.jsx)("span",{style:{display:"inline-flex",alignItems:"center",padding:"0.25rem 0.625rem",borderRadius:"9999px",fontSize:"0.75rem",fontWeight:500,backgroundColor:t.bg,color:t.color},children:t.label})}function Gi({children:e,sortable:t,sorted:r,direction:n,onClick:o,style:a={}}){return(0,lr.jsx)("th",{onClick:t?o:void 0,style:{padding:"0.75rem 1rem",textAlign:"left",fontWeight:500,fontSize:"0.75rem",color:"#6b7280",textTransform:"uppercase",letterSpacing:"0.05em",borderBottom:"1px solid #e5e7eb",backgroundColor:"#f9fafb",cursor:t?"pointer":"default",userSelect:"none",...a},children:(0,lr.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.25rem"},children:[e,t&&r&&(0,lr.jsx)("span",{style:{fontSize:"0.625rem"},children:"asc"===n?"":""})]})})}function Ki({children:e,style:t={}}){return(0,lr.jsx)("td",{style:{padding:"0.75rem 1rem",borderBottom:"1px solid #e5e7eb",fontSize:"0.875rem",color:"#1f2937",...t},children:e})}function Xi({currentPage:e,totalPages:r,totalItems:n,perPage:o,onPageChange:a}){const i=(e-1)*o+1,l=Math.min(e*o,n);return(0,lr.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"0.75rem 1rem",borderTop:"1px solid #e5e7eb",backgroundColor:"#f9fafb"},children:[(0,lr.jsx)("span",{style:{fontSize:"0.875rem",color:"#6b7280"},children:n>0?`${i}-${l} von ${n} Bewerbungen`:(0,t.__)("Keine Bewerbungen","recruiting-playbook")}),(0,lr.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.25rem"},children:[(0,lr.jsx)("button",{type:"button",onClick:()=>a(1),disabled:1===e,style:{padding:"0.375rem",border:"1px solid #e5e7eb",borderRadius:"0.375rem",background:"#fff",cursor:1===e?"not-allowed":"pointer",opacity:1===e?.5:1},title:(0,t.__)("Erste Seite","recruiting-playbook"),children:(0,lr.jsx)($i,{style:{width:"1rem",height:"1rem",color:"#6b7280"}})}),(0,lr.jsx)("button",{type:"button",onClick:()=>a(e-1),disabled:1===e,style:{padding:"0.375rem",border:"1px solid #e5e7eb",borderRadius:"0.375rem",background:"#fff",cursor:1===e?"not-allowed":"pointer",opacity:1===e?.5:1},title:(0,t.__)("Vorherige Seite","recruiting-playbook"),children:(0,lr.jsx)(Xa,{style:{width:"1rem",height:"1rem",color:"#6b7280"}})}),(0,lr.jsxs)("span",{style:{padding:"0.375rem 0.75rem",fontSize:"0.875rem",color:"#1f2937"},children:[e," / ",r||1]}),(0,lr.jsx)("button",{type:"button",onClick:()=>a(e+1),disabled:e>=r,style:{padding:"0.375rem",border:"1px solid #e5e7eb",borderRadius:"0.375rem",background:"#fff",cursor:e>=r?"not-allowed":"pointer",opacity:e>=r?.5:1},title:(0,t.__)("Nchste Seite","recruiting-playbook"),children:(0,lr.jsx)(qa,{style:{width:"1rem",height:"1rem",color:"#6b7280"}})}),(0,lr.jsx)("button",{type:"button",onClick:()=>a(r),disabled:e>=r,style:{padding:"0.375rem",border:"1px solid #e5e7eb",borderRadius:"0.375rem",background:"#fff",cursor:e>=r?"not-allowed":"pointer",opacity:e>=r?.5:1},title:(0,t.__)("Letzte Seite","recruiting-playbook"),children:(0,lr.jsx)(Fi,{style:{width:"1rem",height:"1rem",color:"#6b7280"}})})]})]})}function qi(){const r=window.rpApplicationsData||{},[n,o]=(0,e.useState)(r.applications||[]),[a,i]=(0,e.useState)(r.statusCounts||{}),[l,s]=(0,e.useState)(r.jobs||[]),[c,d]=(0,e.useState)(!1),[u,p]=(0,e.useState)(""),[m,h]=(0,e.useState)(""),[g,f]=(0,e.useState)(""),[b,y]=(0,e.useState)(1),[x,v]=(0,e.useState)(r.total||0),[k]=(0,e.useState)(20),[w,j]=(0,e.useState)("created_at"),[_,S]=(0,e.useState)("desc"),C=Math.ceil(x/k),N=r.logoUrl,E=r.adminUrl||"",T=Object.entries(a).filter(([e])=>"deleted"!==e).reduce((e,[,t])=>e+t,0),[R,A]=(0,e.useState)(!0);(0,e.useEffect)(()=>{R&&A(!1)},[u,b,w,_,g]);const D=e=>{p(e),y(1);{const t=new URL(window.location.href);e?t.searchParams.set("status",e):t.searchParams.delete("status"),t.searchParams.delete("paged"),window.location.href=t.toString()}},z=e=>{w===e?S("asc"===_?"desc":"asc"):(j(e),S("desc")),y(1)},I=e=>{const t=new Date(e),r=new Date-t,n=Math.floor(r/864e5),o=Math.floor(r/36e5),a=Math.floor(r/6e4);return a<60?`vor ${a} Min.`:o<24?`vor ${o} Std.`:n<7?`vor ${n} Tagen`:t.toLocaleDateString("de-DE")};return(0,lr.jsx)("div",{className:"rp-admin",style:{padding:"20px 0"},children:(0,lr.jsxs)("div",{style:{maxWidth:"1400px"},children:[N&&(0,lr.jsx)("div",{style:{marginBottom:"1.5rem"},children:(0,lr.jsx)("img",{src:N,alt:"Recruiting Playbook",style:{width:"150px",height:"auto"}})}),(0,lr.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"1.5rem"},children:[(0,lr.jsx)("h1",{style:{fontSize:"1.5rem",fontWeight:700,color:"#1f2937",margin:0},children:(0,t.__)("Bewerbungen","recruiting-playbook")}),(0,lr.jsxs)("a",{href:`${E}admin.php?page=rp-export`,style:{display:"inline-flex",alignItems:"center",gap:"0.5rem",padding:"0.5rem 1rem",backgroundColor:"#fff",color:"#1d71b8",border:"1px solid #1d71b8",borderRadius:"0.375rem",fontSize:"0.875rem",fontWeight:500,textDecoration:"none"},children:[(0,lr.jsx)(uo,{style:{width:"1rem",height:"1rem"}}),(0,t.__)("Exportieren","recruiting-playbook")]})]}),(0,lr.jsxs)(mo,{children:[(0,lr.jsxs)("div",{style:{display:"flex",borderBottom:"1px solid #e5e7eb",overflowX:"auto"},children:[(0,lr.jsx)(Hi,{status:"",label:(0,t.__)("Alle","recruiting-playbook"),count:T,isActive:""===u,onClick:()=>D("")}),Object.entries(Ui).filter(([e])=>"deleted"!==e).map(([e,t])=>(0,lr.jsx)(Hi,{status:e,label:t.label,count:a[e]||0,isActive:u===e,onClick:()=>D(e)},e))]}),(0,lr.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"1rem",padding:"1rem",borderBottom:"1px solid #e5e7eb",flexWrap:"wrap"},children:[(0,lr.jsxs)("form",{onSubmit:e=>{e.preventDefault(),y(1);{const e=new URL(window.location.href);m?e.searchParams.set("s",m):e.searchParams.delete("s"),window.location.href=e.toString()}},style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[(0,lr.jsxs)("div",{style:{position:"relative"},children:[(0,lr.jsx)(Wi,{style:{position:"absolute",left:"0.75rem",top:"50%",transform:"translateY(-50%)",width:"1rem",height:"1rem",color:"#9ca3af"}}),(0,lr.jsx)("input",{type:"text",placeholder:(0,t.__)("Name oder E-Mail suchen...","recruiting-playbook"),value:m,onChange:e=>h(e.target.value),style:{paddingLeft:"2.5rem",paddingRight:"1rem",paddingTop:"0.5rem",paddingBottom:"0.5rem",border:"1px solid #e5e7eb",borderRadius:"0.375rem",fontSize:"0.875rem",width:"280px",outline:"none"}})]}),(0,lr.jsx)(Kn,{type:"submit",style:{padding:"0.5rem 1rem"},children:(0,t.__)("Suchen","recruiting-playbook")})]}),(0,lr.jsxs)("select",{value:g,onChange:e=>{f(e.target.value),y(1);{const t=new URL(window.location.href);e.target.value?t.searchParams.set("job_id",e.target.value):t.searchParams.delete("job_id"),window.location.href=t.toString()}},style:{padding:"0.5rem 2rem 0.5rem 0.75rem",border:"1px solid #e5e7eb",borderRadius:"0.375rem",fontSize:"0.875rem",backgroundColor:"#fff",cursor:"pointer"},children:[(0,lr.jsx)("option",{value:"",children:(0,t.__)("Alle Stellen","recruiting-playbook")}),l.map(e=>(0,lr.jsx)("option",{value:e.id,children:e.title},e.id))]})]}),(0,lr.jsx)("div",{style:{overflowX:"auto"},children:(0,lr.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse"},children:[(0,lr.jsx)("thead",{children:(0,lr.jsxs)("tr",{children:[(0,lr.jsx)(Gi,{sortable:!0,sorted:"last_name"===w,direction:_,onClick:()=>z("last_name"),children:(0,t.__)("Bewerber","recruiting-playbook")}),(0,lr.jsx)(Gi,{children:(0,t.__)("Stelle","recruiting-playbook")}),(0,lr.jsx)(Gi,{sortable:!0,sorted:"status"===w,direction:_,onClick:()=>z("status"),children:(0,t.__)("Status","recruiting-playbook")}),(0,lr.jsx)(Gi,{children:(0,t.__)("Dokumente","recruiting-playbook")}),(0,lr.jsx)(Gi,{sortable:!0,sorted:"created_at"===w,direction:_,onClick:()=>z("created_at"),children:(0,t.__)("Eingegangen","recruiting-playbook")}),(0,lr.jsx)(Gi,{children:(0,t.__)("Aktionen","recruiting-playbook")})]})}),(0,lr.jsx)("tbody",{children:c?(0,lr.jsx)("tr",{children:(0,lr.jsxs)(Ki,{colSpan:6,style:{textAlign:"center",padding:"3rem"},children:[(0,lr.jsx)("div",{style:{display:"inline-block",width:"1.5rem",height:"1.5rem",border:"2px solid #e5e7eb",borderTopColor:"#1d71b8",borderRadius:"50%",animation:"spin 0.8s linear infinite"}}),(0,lr.jsx)("style",{children:"@keyframes spin { to { transform: rotate(360deg); } }"})]})}):0===n.length?(0,lr.jsx)("tr",{children:(0,lr.jsx)(Ki,{colSpan:6,style:{textAlign:"center",padding:"3rem",color:"#6b7280"},children:(0,t.__)("Keine Bewerbungen gefunden.","recruiting-playbook")})}):n.map(e=>(0,lr.jsxs)("tr",{style:{transition:"background-color 0.15s ease"},onMouseEnter:e=>{e.currentTarget.style.backgroundColor="#f9fafb"},onMouseLeave:e=>{e.currentTarget.style.backgroundColor="transparent"},children:[(0,lr.jsx)(Ki,{children:(0,lr.jsxs)("a",{href:`${E}admin.php?page=rp-application-detail&id=${e.id}`,style:{fontWeight:600,color:"#1f2937",textDecoration:"none"},children:[e.first_name," ",e.last_name]})}),(0,lr.jsx)(Ki,{children:e.job_title||(0,lr.jsx)("em",{style:{color:"#9ca3af"},children:(0,t.__)("Gelscht","recruiting-playbook")})}),(0,lr.jsx)(Ki,{children:(0,lr.jsx)(Vi,{status:e.status})}),(0,lr.jsx)(Ki,{children:(0,lr.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.25rem",color:e.documents_count>0?"#1d71b8":"#d1d5db"},children:[(0,lr.jsx)(so,{style:{width:"1rem",height:"1rem"}}),(0,lr.jsx)("span",{style:{fontSize:"0.875rem"},children:e.documents_count||0})]})}),(0,lr.jsx)(Ki,{children:(0,lr.jsx)("span",{title:e.created_at,children:I(e.created_at)})}),(0,lr.jsx)(Ki,{children:(0,lr.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[(0,lr.jsxs)("a",{href:`${E}admin.php?page=rp-application-detail&id=${e.id}`,style:{display:"inline-flex",alignItems:"center",gap:"0.25rem",padding:"0.375rem 0.75rem",backgroundColor:"#1d71b8",color:"#fff",borderRadius:"0.375rem",fontSize:"0.75rem",fontWeight:500,textDecoration:"none"},children:[(0,lr.jsx)(co,{style:{width:"0.875rem",height:"0.875rem"}}),(0,t.__)("Ansehen","recruiting-playbook")]}),"new"===e.status&&(0,lr.jsx)("a",{href:`${E}admin.php?page=rp-applications&action=set_status&id=${e.id}&status=screening&_wpnonce=${r.nonce}`,style:{display:"inline-flex",alignItems:"center",padding:"0.375rem 0.75rem",backgroundColor:"#dba617",color:"#fff",borderRadius:"0.375rem",fontSize:"0.75rem",fontWeight:500,textDecoration:"none"},children:(0,t.__)("Prfen","recruiting-playbook")})]})})]},e.id))})]})}),(0,lr.jsx)(Xi,{currentPage:b,totalPages:C,totalItems:x,perPage:k,onPageChange:e=>{y(e);{const t=new URL(window.location.href);t.searchParams.set("paged",e.toString()),window.location.href=t.toString()}}})]})]})})}function Yi(){!function(){const t=document.getElementById("rp-dashboard-root");t&&(0,e.createRoot)(t).render((0,lr.jsx)(Bi,{}))}(),function(){const t=document.getElementById("rp-applications-root");t&&(0,e.createRoot)(t).render((0,lr.jsx)(qi,{}))}(),function(){const t=document.getElementById("rp-kanban-root");t&&(0,e.createRoot)(t).render((0,lr.jsx)(no,{}))}(),function(){const t=document.getElementById("rp-applicant-detail-root");if(t){const r=parseInt(t.dataset.applicationId,10);r&&(0,e.createRoot)(t).render((0,lr.jsx)(bi,{applicationId:r}))}}(),function(){const t=document.getElementById("rp-talent-pool-root");t&&(0,e.createRoot)(t).render((0,lr.jsx)(vi,{}))}(),function(){const t=document.getElementById("rp-license-root");t&&(0,e.createRoot)(t).render((0,lr.jsx)(Di,{}))}()}"loading"===document.readyState?document.addEventListener("DOMContentLoaded",Yi):Yi()})()})();