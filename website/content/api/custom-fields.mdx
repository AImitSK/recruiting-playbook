---
title: Custom Fields
description: API-Endpunkte fuer die Verwaltung benutzerdefinierter Formularfelder.
---

<Callout type="info" title="Pro Feature">
Alle Custom Fields Endpunkte erfordern eine aktive Pro-Lizenz.
</Callout>

## Field Definitions

### Alle Feld-Definitionen abrufen

Gibt alle konfigurierten Feld-Definitionen zurueck.

<EndpointHeader method="GET" path="/wp-json/recruiting/v1/field-definitions" />

**Query-Parameter:**

| Parameter | Typ | Beschreibung |
|-----------|-----|--------------|
| `job_id` | integer | Filter nach Stelle |
| `active_only` | boolean | Nur aktive Felder (Standard: true) |
| `include_system` | boolean | System-Felder einschliessen (Standard: true) |

**Response:**

```json
{
  "fields": [
    {
      "id": 1,
      "field_key": "first_name",
      "type": "text",
      "label": "Vorname",
      "placeholder": "Max",
      "description": null,
      "options": null,
      "validation": {
        "min_length": 2,
        "max_length": 100
      },
      "conditional": null,
      "settings": {
        "width": "half"
      },
      "position": 1,
      "is_required": true,
      "is_system": true,
      "is_enabled": true
    },
    {
      "id": 10,
      "field_key": "salary_expectation",
      "type": "number",
      "label": "Gehaltsvorstellung",
      "placeholder": "z.B. 65000",
      "description": "Jahresbrutto in Euro",
      "validation": {
        "min": 20000,
        "max": 500000
      },
      "position": 10,
      "is_required": false,
      "is_system": false,
      "is_enabled": true
    }
  ],
  "total": 12
}
```

### Einzelne Feld-Definition abrufen

<EndpointHeader method="GET" path="/wp-json/recruiting/v1/field-definitions/{id}" />

**Response:** Einzelnes Feld-Objekt wie oben.

### Neue Feld-Definition erstellen

<EndpointHeader method="POST" path="/wp-json/recruiting/v1/field-definitions" />

**Request Body:**

```json
{
  "field_key": "source",
  "type": "select",
  "label": "Wie haben Sie von uns erfahren?",
  "is_required": false,
  "options": {
    "choices": [
      { "value": "website", "label": "Website" },
      { "value": "linkedin", "label": "LinkedIn" },
      { "value": "indeed", "label": "Indeed" },
      { "value": "other", "label": "Sonstiges" }
    ],
    "allow_other": true
  }
}
```

**Erforderliche Felder:**

| Feld | Typ | Beschreibung |
|------|-----|--------------|
| `field_key` | string | Eindeutiger Schluessel (a-z, 0-9, _) |
| `type` | string | Feldtyp (siehe unten) |
| `label` | string | Anzeigetext |

**Optionale Felder:**

| Feld | Typ | Beschreibung |
|------|-----|--------------|
| `placeholder` | string | Platzhalter-Text |
| `description` | string | Hilfetext |
| `options` | object | Auswahloptionen (Select/Radio/Checkbox) |
| `validation` | object | Validierungsregeln |
| `conditional` | object | Bedingte Logik |
| `settings` | object | Zusaetzliche Einstellungen |
| `is_required` | boolean | Pflichtfeld (Standard: false) |
| `position` | integer | Sortierreihenfolge |

### Feld-Definition aktualisieren

<EndpointHeader method="PATCH" path="/wp-json/recruiting/v1/field-definitions/{id}" />

**Request Body:** Nur die zu aendernden Felder.

```json
{
  "label": "Neues Label",
  "is_required": true
}
```

### Feld-Definition loeschen

<EndpointHeader method="DELETE" path="/wp-json/recruiting/v1/field-definitions/{id}" />

<Callout type="warning" title="System-Felder">
System-Felder (is_system: true) koennen nicht geloescht werden.
</Callout>

### Reihenfolge aendern

<EndpointHeader method="POST" path="/wp-json/recruiting/v1/field-definitions/reorder" />

**Request Body:**

```json
{
  "order": [1, 3, 2, 4, 5]
}
```

Die IDs werden in der angegebenen Reihenfolge gespeichert.

## Feldtypen

| Type | Beschreibung |
|------|--------------|
| `text` | Einzeiliges Textfeld |
| `textarea` | Mehrzeiliges Textfeld |
| `email` | E-Mail-Adresse |
| `phone` | Telefonnummer |
| `number` | Numerischer Wert |
| `select` | Dropdown-Auswahl |
| `radio` | Radio-Buttons |
| `checkbox` | Checkboxen |
| `date` | Datum |
| `file` | Datei-Upload |
| `url` | URL |
| `heading` | Ueberschrift (nur Anzeige) |

## Validierungsregeln

Je nach Feldtyp stehen verschiedene Validierungsregeln zur Verfuegung:

### Text/Textarea

```json
{
  "min_length": 10,
  "max_length": 500,
  "pattern": "^[A-Z].*",
  "pattern_message": "Muss mit Grossbuchstaben beginnen"
}
```

### Number

```json
{
  "min": 0,
  "max": 100,
  "step": 0.5
}
```

### Date

```json
{
  "min_date": "today",
  "max_date": "+1 year"
}
```

### File

```json
{
  "allowed_types": ".pdf,.doc,.docx",
  "max_file_size": 10485760,
  "max_files": 5
}
```

## Bedingte Logik

Die `conditional` Eigenschaft steuert die Sichtbarkeit:

```json
{
  "action": "show",
  "logic": "and",
  "conditions": [
    {
      "field": "employment_type",
      "operator": "equals",
      "value": "freelance"
    }
  ]
}
```

**Actions:** `show`, `hide`, `require`, `unrequire`

**Operatoren:**

| Operator | Beschreibung |
|----------|--------------|
| `equals` | Ist gleich |
| `not_equals` | Ist nicht gleich |
| `contains` | Enthaelt |
| `greater_than` | Groesser als |
| `less_than` | Kleiner als |
| `is_empty` | Ist leer |
| `is_not_empty` | Ist nicht leer |
| `is_checked` | Ist ausgewaehlt |
| `is_not_checked` | Ist nicht ausgewaehlt |

## Felder einer Stelle abrufen

<EndpointHeader method="GET" path="/wp-json/recruiting/v1/jobs/{id}/fields" />

Gibt die fuer eine Stelle konfigurierten Felder zurueck. Beruecksichtigt stellen-spezifische Anpassungen.

## Form Templates

### Alle Templates abrufen

<EndpointHeader method="GET" path="/wp-json/recruiting/v1/form-templates" />

**Response:**

```json
{
  "templates": [
    {
      "id": 1,
      "name": "Standard-Bewerbung",
      "description": "Basis-Formular fuer alle Stellen",
      "is_default": true,
      "field_count": 8,
      "created_at": "2025-01-15T10:00:00Z"
    }
  ],
  "total": 3
}
```

### Einzelnes Template abrufen

<EndpointHeader method="GET" path="/wp-json/recruiting/v1/form-templates/{id}" />

Enthaelt das vollstaendige Template mit allen Feld-Definitionen.

### Neues Template erstellen

<EndpointHeader method="POST" path="/wp-json/recruiting/v1/form-templates" />

```json
{
  "name": "IT-Bewerbung",
  "description": "Spezielles Formular fuer IT-Stellen",
  "is_default": false
}
```

### Template duplizieren

<EndpointHeader method="POST" path="/wp-json/recruiting/v1/form-templates/{id}/duplicate" />

Erstellt eine Kopie des Templates mit allen Feldern.

### Template als Standard setzen

<EndpointHeader method="POST" path="/wp-json/recruiting/v1/form-templates/{id}/set-default" />

Setzt dieses Template als Standard fuer neue Stellen.

## Custom Fields in Bewerbungen

Custom Field Werte werden im `custom_fields` Array der Bewerbung gespeichert:

```json
{
  "id": 456,
  "candidate": {...},
  "job": {...},
  "custom_fields": {
    "salary_expectation": "65000",
    "source": "linkedin",
    "available_from": "2025-03-01",
    "languages": ["de", "en"]
  }
}
```

Bei Datei-Feldern werden Document-IDs gespeichert, die ueber die Documents API abgerufen werden koennen.

## Fehler-Codes

| Code | Beschreibung |
|------|--------------|
| `duplicate_field_key` | Feld-Schluessel existiert bereits |
| `cannot_delete_system` | System-Feld kann nicht geloescht werden |
| `invalid_field_type` | Ungueltiger Feldtyp |
| `validation_failed` | Validierung fehlgeschlagen |
| `feature_not_available` | Pro-Lizenz erforderlich |
